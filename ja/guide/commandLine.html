<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 &#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531; 2.3.0.BUILD-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>&#12452;&#12531;&#12488;&#12525;&#12480;&#12463;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>&#12473;&#12479;&#12540;&#12488;&#12460;&#12452;&#12489;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/upgradingFromPreviousVersionsOfGrails.html"><strong>3</strong><span>Grails&#19979;&#20301;&#12496;&#12540;&#12472;&#12519;&#12531;&#12363;&#12425;&#12398;&#26356;&#26032;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/conf.html"><strong>4</strong><span>&#35373;&#23450;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/commandLine.html"><strong>5</strong><span>&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/GORM.html"><strong>6</strong><span>O/R&#12510;&#12483;&#12500;&#12531;&#12464; (GORM)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/theWebLayer.html"><strong>7</strong><span>Web&#12524;&#12452;&#12516;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/webServices.html"><strong>8</strong><span>Web&#12469;&#12540;&#12499;&#12473;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/async.html"><strong>9</strong><span>&#38750;&#21516;&#26399;&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/validation.html"><strong>10</strong><span>&#12496;&#12522;&#12487;&#12540;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/services.html"><strong>11</strong><span>&#12469;&#12540;&#12499;&#12473;&#12524;&#12452;&#12516;&#12540;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>12</strong><span>&#12486;&#12473;&#12488;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/i18n.html"><strong>13</strong><span>&#22269;&#38555;&#21270;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>14</strong><span>&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/plugins.html"><strong>15</strong><span>&#12503;&#12521;&#12464;&#12452;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/spring.html"><strong>16</strong><span>Grails&#12392;Spring</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/hibernate.html"><strong>17</strong><span>Grails&#12392;Hibernate</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/scaffolding.html"><strong>18</strong><span>&#12473;&#12459;&#12483;&#12501;&#12457;&#12523;&#12489;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/deployment.html"><strong>19</strong><span>&#12487;&#12503;&#12525;&#12452;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/contributing.html"><strong>20</strong><span>Grails&#12395;&#36002;&#29486;&#12377;&#12427;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/traslateReport.html"><strong>21</strong><span>&#32763;&#35379;&#12524;&#12509;&#12540;&#12488;</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../../img/grails.png" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://springsource.com" target="_blank"><img alt="SpringSource Logo" title="SpringSource - Weapons for the War on Java Complexity" src="../../img/springsource-logo.png" border="0"/></a></span>
        
    </div>
    <p>See the light - agile, industrial strength, rapid web application development made easy</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/conf.html">&lt;&lt; <strong>4</strong><span>&#35373;&#23450;</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/GORM.html"><strong>6</strong><span>O/R&#12510;&#12483;&#12500;&#12531;&#12464; (GORM)</span> >></a></div>
                


                <div class="project">
                    <h1>5 &#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531; - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Graeme Rocher, Peter Ledbrook, Marc Palmer, Jeff Brown, Luke Daley, Burt Beckwith</p>

                    <p><strong>Version:</strong> 2.3.0.BUILD-SNAPSHOT</p>

                    
                    <p><strong>Translated by:</strong> T.Yamamoto, Japanese Grails Doc Translating Team. <br/>【注意】このドキュメントの内容はスナップショットバージョンを元に*意訳*されているため、一部現行バージョンでは未対応の機能もあります。</p>
                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#interactiveMode"><strong>5.1</strong><span>&#12452;&#12531;&#12479;&#12521;&#12463;&#12486;&#12451;&#12502;&#12514;&#12540;&#12489;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#forkedMode"><strong>5.2</strong><span>&#12501;&#12457;&#12540;&#12463;&#23455;&#34892;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#creatingGantScripts"><strong>5.3</strong><span>Gant&#12473;&#12463;&#12522;&#12503;&#12488;&#12398;&#20316;&#25104;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#reusingGrailsScripts"><strong>5.4</strong><span>Grails&#12473;&#12463;&#12522;&#12503;&#12488;&#12398;&#20877;&#21033;&#29992;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#events"><strong>5.5</strong><span>&#12452;&#12505;&#12531;&#12488;&#12434;&#21462;&#24471;&#12377;&#12427;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#buildCustomising"><strong>5.6</strong><span>&#12499;&#12523;&#12489;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#antAndMaven"><strong>5.7</strong><span>Ant&#12392;Maven</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#wrapper"><strong>5.8</strong><span>Grails&#12521;&#12483;&#12497;&#12540;</span></a>
                    </div>
                    
                </div>
                

                
<a name="4. The Command Line"><!-- Legacy link --></a>
<h1 id="commandLine">5 コマンドライン</h1>
<div class="hidden-block">
Grails' command line system is built on <a href="http://gant.codehaus.org/" target="blank">Gant</a> - a simple Groovy wrapper around <a href="http://ant.apache.org" target="blank">Apache Ant</a>.
</div>
Grailsのコマンドラインシステムは<a href="http://gant.codehaus.org/" target="blank">Gant</a>(シンプルな<a href="http://ant.apache.org" target="blank">Apache Ant</a>のGroovyによるラッパー)によって構築されています。<p class="paragraph"/><div class="hidden-block">However, Grails takes it further through the use of convention and the <code>grails</code> command. When you type:</div>
Grailsでは<code>grails</code>コマンドを使用し、Gantとは少し違った実行方法になります。<p class="paragraph"/><div class="code"><pre>grails &#91;command name&#93;</pre></div><p class="paragraph"/><div class="hidden-block">Grails searches in the following directories for Gant scripts to execute:</div>
このように入力した場合、GrailsはGantスクリプトを実行するために以下のディレクトリを探しに行きます。
<ul class="star">
<li><code>USER_HOME/.grails/scripts</code></li>
<li><code>PROJECT_HOME/scripts</code></li>
<li><code>PROJECT_HOME/plugins/*/scripts</code></li>
<li><code>GRAILS_HOME/scripts</code></li>
</ul><p class="paragraph"/><div class="hidden-block">Grails will also convert command names that are in lower case form such as run-app into camel case. So typing </div>
Grailsは "run-app" のような小文字のコマンドをキャメルケースに変換して探します。なので次のように入力すると:<p class="paragraph"/><div class="code"><pre>grails run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">Results in a search for the following files:</div>
結果、以下のファイルを検索するよう指定したことになります。
<ul class="star">
<li><code>USER_HOME/.grails/scripts/RunApp.groovy</code></li>
<li><code>PROJECT_HOME/scripts/RunApp.groovy</code></li>
<li><code>PLUGINS_HOME/*/scripts/RunApp.groovy</code></li>
<li><code>GLOBAL_PLUGINS_HOME/*/scripts/RunApp.groovy</code></li>
<li><code>GRAILS_HOME/scripts/RunApp.groovy</code></li>
</ul><p class="paragraph"/><div class="hidden-block">If multiple matches are found Grails will give you a choice of which one to execute.</div>
もし、複数の結果が見つかった場合はGrailsはどれを実行するかの選択肢を提示してきます。<p class="paragraph"/><div class="hidden-block">When Grails executes a Gant script, it invokes the "default" target defined in that script. If there is no default, Grails will quit with an error.</div>
GrailsがGantスクリプトを実行するとき、デフォルトとして設定されたターゲットを起動します。デフォルト指定（setDefaultTarget(main)など）がない場合、Grailsはエラーで終了します。<p class="paragraph"/><div class="hidden-block">To get a list of all commands and some help about the available commands type:</div>
実行可能なコマンドのヘルプとリストを表示したい場合は以下を入力します:<p class="paragraph"/><div class="code"><pre>grails help</pre></div><p class="paragraph"/><div class="hidden-block">which outputs usage instructions and the list of commands Grails is aware of:</div>
このように入力すると、Grailsが認識しているコマンドのリストと使用方法が出力されます:<p class="paragraph"/><div class="code"><pre>Usage (optionals marked with &#42;):
grails &#91;environment&#93;&#42; &#91;target&#93; &#91;arguments&#93;&#42;<p class="paragraph"/>Examples:
grails dev run&#45;app
grails create&#45;app books<p class="paragraph"/>Available Targets (type grails help 'target&#45;name' <span class="java&#45;keyword">for</span> more info):
grails bootstrap
grails bug&#45;report
grails clean
grails compile
...</pre></div><p class="paragraph"/><blockquote class="note">
<div class="hidden-block">Refer to the Command Line reference in the Quick Reference menu of the reference guide for more information about individual commands </div>
左メニューにある個別のコマンドラインリファレンス情報も参照して下さい。
</blockquote><p class="paragraph"/><div class="hidden-block">It's often useful to provide custom arguments to the JVM when running Grails commands, in particular with <code>run-app</code> where you may for example want to set a higher maximum heap size. The Grails command will use any JVM options provided in the general <code>JAVA_OPTS</code> environment variable, but you can also specify a Grails-specific environment variable too:</div>
Grailsコマンドを実行する際に、JVMへ独自の引数を提供できると便利な場合があります。
例えば、<code>run-app</code>をする際にヒープサイズにより大きな値を設定したいといった場合です。
Grailsコマンドは一般的な<code>JAVA_OPTS</code>の環境変数内で提供されているJVMオプションを使用しますが、Grails固有の環境変数を指定することもできます:<p class="paragraph"/><div class="code"><pre>export GRAILS_OPTS=<span class="java&#45;quote">"&#45;Xmx1G &#45;Xms256m &#45;XX:MaxPermSize=256m"</span>
grails run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">h4. non-interactive mode</div>
<h4>非インタラクティブモード</h4><p class="paragraph"/><div class="hidden-block">When you run a script manually and it prompts you for information, you can answer the questions and continue running the script. But when you run a script as part of an automated process, for example a continuous integration build server, there's no way to "answer" the questions. So you can pass the <code>&#45;&#45;non-interactive</code> switch to the script command to tell Grails to accept the default answer for any questions, for example whether to install a missing plugin.</div>
手動でスクリプト実行する際にユーザ入力を求める場合があります。
そのような場合は質問に応答することでスクリプトの実行が継続されます。
しかし、継続的インテグレーションのビルドサーバといったように、自動化されたプロセスとしてスクリプトを実行する場合は質問に応答する方法がありません。
例えば、未インストールのプラグインをインストールするかどうかといったような質問に対し、デフォルトの値で応答するようGrailsに伝えるには、そのスクリプトコマンドへ<code>&#45;&#45;non-interactive</code>を渡します。<p class="paragraph"/><div class="hidden-block">For example:</div>
例えば:<p class="paragraph"/><div class="code"><pre>grails war &#45;&#45;non&#45;interactive</pre></div>



<h2 id="interactiveMode">5.1 インタラクティブモード</h2>
Interactive mode is the a feature of the Grails command line which keeps the JVM running and allows for quicker execution of commands. To activate interactive mode type 'grails' at the command line and then use TAB completion to get a list of commands:<p class="paragraph"/><img border="0" class="center" src="../../img/interactive-output.png"></img><p class="paragraph"/>If you need to open a file whilst within interactive mode you can use the <code>open</code> command which will TAB complete file paths:<p class="paragraph"/><img border="0" class="center" src="../../img/interactive-open-cmd.png"></img><p class="paragraph"/>Even better, the <code>open</code> command understands the logical aliases 'test-report' and 'dep-report', which will open the most recent test and dependency reports respectively. In other words, to open the test report in a browser simply execute <code>open test-report</code>. You can even open multiple files at once: <code>open test-report test/unit/MyTests.groovy</code> will open the HTML test report in your browser and the <code>MyTests.groovy</code> source file in your text editor.<p class="paragraph"/>TAB completion also works for class names after the <code>create-*</code> commands:<p class="paragraph"/><img border="0" class="center" src="../../img/interactive-complete-class.png"></img><p class="paragraph"/>If you need to run an external process whilst interactive mode is running you can do so by starting the command with a !:<p class="paragraph"/><img border="0" class="center" src="../../img/interactive-run-external.png"></img><p class="paragraph"/>Note that with &#33; (bang) commands, you get file path auto completion - ideal for external commands that operate on the file system such as 'ls', 'cat', 'git', etc.<p class="paragraph"/>The <code>stop-app</code> command will stop an application that has been run with the <code>run-app</code> command.<p class="paragraph"/>To exit interactive mode enter the <code>exit</code> command.  Note that if the Grails application has been run with <code>run-app</code> normally it will terminate when the interactive mode console exits because the JVM will be terminated. An exception to this would be if the application were running in forked mode which means the application is running in a different JVM.  In that case the application will be left running afer the interactive mode console terminates.  If you want to exit interactive mode and stop an application that is running in forked mode, use the <code>quit</code> command.  The <code>quit</code> command will stop the running application and then close interactive mode.


<a name="5.2 Forked Execution"><!-- Legacy link --></a>
<h2 id="forkedMode">5.2 フォーク実行</h2>
<div class="hidden-block">h4. Forked Execution</div>
<h4>フォーク実行</h4><p class="paragraph"/><div class="hidden-block">Since Grails 2.3, the <code>run-app</code>, <code>run-war</code>, <code>test-app</code> and <code>console</code> commands are now executed in a forked JVM in order to isolate the build classpath from the runtime classpath.</div>
ランタイムクラスパスからビルドクラスパスを隔離するために、Grails 2.3から<code>run-app</code>、<code>run-war</code>、<code>test-app</code>、<code>console</code>コマンドはフォークされたJVM上で実行されます。<p class="paragraph"/><div class="hidden-block">Forked execution is configured via the <code>grails-app/conf/BuildConfig.groovy</code> file. The following is the default configuration:</div>
フォーク実行は<code>grails-app/conf/BuildConfig.groovy</code>ファイルで設定します。
以下はデフォルト設定です:<p class="paragraph"/><div class="code"><pre>forkConfig = &#91;maxMemory: 1024, minMemory: 64, debug: <span class="java&#45;keyword">false</span>, maxPerm: 256&#93;
grails.project.fork = &#91;
   test: forkConfig, // configure settings <span class="java&#45;keyword">for</span> the test&#45;app JVM
   run: forkConfig, // configure settings <span class="java&#45;keyword">for</span> the run&#45;app JVM
   war: forkConfig, // configure settings <span class="java&#45;keyword">for</span> the run&#45;war JVM
   console: forkConfig // configure settings <span class="java&#45;keyword">for</span> the Swing console JVM
&#93;</pre></div><p class="paragraph"/><div class="hidden-block">The memory requirements of the forked JVM can be tweaked as per the requirements of the application.</div>
フォークされたJVM用のメモリ容量は、アプリケーション要件に従って調整してください。<p class="paragraph"/><div class="hidden-block">h4. Forked Test Execution</div>
<h4>フォークされたテスト実行</h4><p class="paragraph"/><div class="hidden-block">When running the <a href="../ref/Command Line/test-app.html" class="commandLine">test-app</a> command, a separate JVM is launched to execute this tests. This will have a notable impact on the speed of execution of the tests when running the command directly:</div>
<a href="../ref/Command Line/test-app.html" class="commandLine">test-app</a>コマンドの実行時、そのテストを実行するための個別のJVMが起動されます。
この起動時間が加算されるため、直接コマンドを実行したときの実行速度はかなりの影響を受けます:<p class="paragraph"/><div class="code"><pre>grails test&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">To mitigate this, Grails 2.3 and above include a feature that launches a background JVM on standby to run tests when using interactive mode. In other words, running <code>test-app</code> from interactive mode will result in faster test execution times:</div>
これを緩和するため、Grails 2.3以上には、インタラクティブモード利用時にテスト実行に備えてバックグラウンドでJVMを起動する機能があります。
つまり、インタラクティブモードからの<code>test-app</code>の実行では、テスト実行時間が速くなります:<p class="paragraph"/><div class="code"><pre>$ grails
$ grails&#62; test&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">It is recommended that forked execution is used for tests, however it does require modern hardware due to the use of multiple JVMs. You can therefore disable forked execution by setting the <code>grails.project.fork.test</code> setting to <code>false</code>:</div>
テストにはフォーク実行の利用をお勧めしますが、複数のJVMを利用するには最新のハードウェアが必要になります。
そのため、<code>grails.project.fork.test</code>を<code>false</code>にセットすることで、フォーク実行を無効にすることもできます。<p class="paragraph"/><div class="code"><pre>forkConfig = &#91;maxMemory: 1024, minMemory: 64, debug: <span class="java&#45;keyword">false</span>, maxPerm: 256&#93;
grails.project.fork = &#91;
   test: <span class="java&#45;keyword">false</span>,
   &#8230;
&#93;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Forked Tomcat Execution</div>
<h4>フォークされたTomcat実行</h4><p class="paragraph"/><div class="hidden-block">Grails 2.2 and above support forked JVM execution of the Tomcat container in development mode. This has several benefits including:</div>
Grails 2.2以上では、開発モードにおけるTomcatコンテナのフォーク実行をサポートしています。
これにはいくつかのメリットがあります:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li>Reduced memory consumption, since the Grails build system can exit</li>
<li>Isolation of the build classpath from the runtime classpath</li>
<li>The ability to deploy other Grails/Spring applications in parallels without conflicting dependencies</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li>Grailsビルドシステムを終了できるため、メモリ消費量を減らせる</li>
<li>ランタイムクラスパスからビルドクラスパスを隔離できる</li>
<li>依存関係のコンフリクトなしに、他のGrails/Springアプリケーションを並列デプロイできる</li>
</ul><p class="paragraph"/><div class="hidden-block">To enable forked execution you can set the <code>grails.project.fork.run</code> property to <code>true</code>:</div>
フォーク実行を有効化するためには、<code>grails.project.fork.run</code>プロパティを<code>true</code>にセットします:<p class="paragraph"/><div class="code"><pre>grails.project.fork.run=<span class="java&#45;keyword">true</span></pre></div><p class="paragraph"/><div class="hidden-block">Then just us the regular <code>run-app</code> command as per normal. Note that in forked mode the <code>grails</code> process will exit and leave the container running in the background. To stop the server there is a new <code>stop-app</code> command:</div>
それから、いつも通り普通の<code>run-app</code>コマンドを使います。
フォークモードでは<code>grails</code>プロセスは終了し、バックグラウンドで実行中のコンテナから切り離されることに注意してください。
サーバを停止するために、新しい<code>stop-app</code>コマンドが用意されています:<p class="paragraph"/><div class="code"><pre>grails stop&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">To customize the JVM arguments passed to the forked JVM you can specify a map instead:</div>
フォークされたJVMに渡すJVM引数をカスタマイズするために、代わりにマップを指定できます:<p class="paragraph"/><div class="code"><pre>grails.project.fork.run= &#91;maxMemory:1024, minMemory:64, debug:<span class="java&#45;keyword">false</span>, maxPerm:256, jvmArgs: '..arbitrary JVM arguments..'&#93;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Auto-deploying additional WAR files in Forked Mode</div>
<h4>フォークモードでの追加WARファイルの自動デプロイ</h4><p class="paragraph"/><div class="hidden-block">Since forked execution isolates classpaths more effectively than embedded execution you can deploy additional WAR files (such as other Grails or Spring applications) to the container.</div>
組み込み実行に比べてフォーク実行はより効果的にクラスパスを分離できるため、(他のGrails/Springアプリケーションの)追加WARファイルをコンテナへデプロイできます。<p class="paragraph"/><div class="hidden-block">The easiest way to do so is to drop the WAR files into the <code>src/autodeploy</code> directory (if it doesn't exist you can create it).</div>
最も簡単な方法は、WARファイルを<code>src/autodeploy</code>ディレクトリに置くことです(もしディレクトリが存在していなければ、作成してください)。<p class="paragraph"/><div class="hidden-block">You can customize the location of the autodeploy directory by specifying an alternative location in <code>BuildConfig.groovy</code>:</div>
<code>BuildConfig.groovy</code>で別のパスを指定して<code>autodeploy</code>ディレクトリの位置をカスタマイズできます:<p class="paragraph"/><div class="code"><pre>grails.project.autodeploy.dir=<span class="java&#45;quote">"/path/to/my/war/files"</span></pre></div><p class="paragraph"/><div class="hidden-block">h4. Customizing the Forked Tomcat instance</div>
<h4>フォークされたTomcatインスタンスのカスタマイズ</h4><p class="paragraph"/><div class="hidden-block">If you want to programmatically customize the forked <a href="http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/startup/Tomcat.html" target="blank">Tomcat</a> instance you can do so by implementing a class named <code>org.grails.plugins.tomcat.ForkedTomcatCustomizer</code> which provides a method with the following signature:</div>
フォークされた<a href="http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/startup/Tomcat.html" target="blank">Tomcat</a>インスタンスをプログラム的にカスタマイズしたい場合は、<code>org.grails.plugins.tomcat.ForkedTomcatCustomizer</code>という名前のクラスを実装します。
このクラスは以下のシグネチャのメソッドを提供します:<p class="paragraph"/><div class="code"><pre>void customize(Tomcat tomcat) &#123;
 // your code here
&#125;</pre></div><p class="paragraph"/>

<a name="4.1 Creating Gant Scripts"><!-- Legacy link --></a>
<h2 id="creatingGantScripts">5.3 Gantスクリプトの作成</h2>
<div class="hidden-block">You can create your own Gant scripts by running the <a href="../ref/Command Line/create-script.html" class="commandLine">create-script</a> command from the root of your project. For example the following command:</div>
プロジェクトのルートディレクトリで<a href="../ref/Command Line/create-script.html" class="commandLine">create-script</a>コマンドを実行することにより、自分でGantスクリプトを作成することができます。例えば以下のようなコマンドです:<p class="paragraph"/><div class="code"><pre>grails create&#45;script compile&#45;sources</pre></div><p class="paragraph"/><div class="hidden-block">Will create a script called <code>scripts/CompileSources.groovy</code>. A Gant script itself is similar to a regular Groovy script except that it supports the concept of "targets" and dependencies between them:</div>
このコマンドにより<code>scripts/CompileSources.groovy</code>というスクリプトが作成されます。Gantスクリプト自身は通常のGroovyスクリプトと似ていますが、ターゲットという概念とそれぞれのターゲットの依存関係をサポートしています。<p class="paragraph"/><div class="code"><pre>target(<span class="java&#45;keyword">default</span>:<span class="java&#45;quote">"The <span class="java&#45;keyword">default</span> target is the one that gets executed by Grails"</span>) &#123;
    depends(clean, compile)
&#125;<p class="paragraph"/>target(clean:<span class="java&#45;quote">"Clean out things"</span>) &#123;
    ant.delete(dir:<span class="java&#45;quote">"output"</span>)
&#125;<p class="paragraph"/>target(compile:<span class="java&#45;quote">"Compile some sources"</span>) &#123;
    ant.mkdir(dir:<span class="java&#45;quote">"mkdir"</span>)
    ant.javac(srcdir:<span class="java&#45;quote">"src/java"</span>, destdir:<span class="java&#45;quote">"output"</span>)
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
As demonstrated in the script above, there is an implicit <code>ant</code> variable (an instance of <code>groovy.util.AntBuilder</code>) that allows access to the <a href="http://ant.apache.org/manual/index.html" target="blank">Apache Ant API</a>.
</div>
上記で示したスクリプトのように、暗黙的な変数のantは<a href="http://ant.apache.org/manual/index.html" target="blank">Apache Ant API</a>を使うことができます。
<blockquote class="note">
<div class="hidden-block">In previous versions of Grails (1.0.3 and below), the variable was <code>Ant</code>, i.e. with a capital first letter.</div>
前バージョンのGrails(1.0.3以前)では、変数名はAntのように大文字始まりでした。
</blockquote><p class="paragraph"/><div class="hidden-block">You can also "depend" on other targets using the <code>depends</code> method demonstrated in the <code>default</code> target above.</div>
また、上記のdefaultターゲットで示したように、<code>depends</code>メソッドを使って他のターゲットに 依存させることができます。<p class="paragraph"/><h3>デフォルトターゲット <div class="hidden-block">The default target </div></h3><p class="paragraph"/><div class="hidden-block">In the example above, we specified a target with the explicit name "default". This is one way of defining the default target for a script. An alternative approach is to use the <code>setDefaultTarget()</code> method:</div>
上記の例では"default"と明示的にターゲットを指定しました。これは、スクリプトでデフォルトターゲットを定義する方法の一つです。（最新のバージョンでは使用できません）代わりに<code>setDefaultTarget()</code>メソッドを使用することもできます。<p class="paragraph"/><div class="code"><pre>target(<span class="java&#45;quote">"clean&#45;compile"</span>: <span class="java&#45;quote">"Performs a clean compilation on the app source"</span>) &#123;
    depends(clean, compile)
&#125;<p class="paragraph"/>target(clean:<span class="java&#45;quote">"Clean out things"</span>) &#123;
    ant.delete(dir:<span class="java&#45;quote">"output"</span>)
&#125;<p class="paragraph"/>target(compile:<span class="java&#45;quote">"Compile some sources"</span>) &#123;
    ant.mkdir(dir:<span class="java&#45;quote">"mkdir"</span>)
    ant.javac(srcdir:<span class="java&#45;quote">"src/java"</span>, destdir:<span class="java&#45;quote">"output"</span>)
&#125;<p class="paragraph"/>setDefaultTarget(<span class="java&#45;quote">"clean&#45;compile"</span>)</pre></div><p class="paragraph"/><div class="hidden-block">This lets you call the default target directly from other scripts if you wish. Also, although we have put the call to <code>setDefaultTarget()</code> at the end of the script in this example, it can go anywhere as long as it comes  <em class="italic">after</em>  the target it refers to ("clean-compile" in this case).</div>
こうすることで、他のスクリプトのターゲットを直接デフォルトターゲットに指定できます。<code>setDefaultTarget()</code>は、対象のターゲット(今回の場合は "clean-compile")の後であればどこにでも書くことができます。<p class="paragraph"/><div class="hidden-block">Which approach is better? To be honest, you can use whichever you prefer - there don't seem to be any major advantages in either case. One thing we would say is that if you want to allow other scripts to call your "default" target, you should move it into a shared script that doesn't have a default target at all. We'll talk some more about this in the next section.</div>
どちらのアプローチが良いのでしょうか？正直なところ、あなたは好みで使い分けて使用することができます。どちらの場合も、王道の利点があるわけではありません。一つ言えることは、他のスクリプトからデフォルトターゲットを呼び出せるようにしたい場合は、デフォルトターゲットを持っていない共有スクリプトにそれを移動する必要があるということです。これについては次のセクションでも詳しく説明します。


<a name="4.2 Re-using Grails scripts"><!-- Legacy link --></a>
<h2 id="reusingGrailsScripts">5.4 Grailsスクリプトの再利用</h2>
<div class="hidden-block">Grails ships with a lot of command line functionality out of the box that you may find useful in your own scripts (See the command line reference in the reference guide for info on all the commands). Of particular use are the <a href="../ref/Command Line/compile.html" class="commandLine">compile</a>, <a href="../ref/Command Line/package.html" class="commandLine">package</a> and <a href="../ref/Command Line/bootstrap.html" class="commandLine">bootstrap</a> scripts.</div>
Grailsは独自のスクリプトでも使用できる便利なコマンドライン機能を提供しています（コマンドに関する詳細はリファレンスガイド内のコマンドラインリファレンスを参照してください）。特に<a href="../ref/Command Line/compile.html" class="commandLine">compile</a>、<a href="../ref/Command Line/package.html" class="commandLine">package</a>および<a href="../ref/Command Line/bootstrap.html" class="commandLine">bootstrap</a>スクリプトはよく利用されます。<p class="paragraph"/><div class="hidden-block">The <a href="../ref/Command Line/bootstrap.html" class="commandLine">bootstrap</a> script for example lets you bootstrap a Spring <a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="api">ApplicationContext</a> instance to get access to the data source and so on (the integration tests use this):</div>
<a href="../ref/Command Line/bootstrap.html" class="commandLine">bootstrap</a>スクリプトはデータソースなどを参照可能にするSpringの<a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/ApplicationContext.html" class="api">ApplicationContext</a>インスタンスを生成します。(統合テストはこの機能を使っています):<p class="paragraph"/><div class="code"><pre>includeTargets &#60;&#60; grailsScript(<span class="java&#45;quote">"_GrailsBootstrap"</span>)<p class="paragraph"/>target ('<span class="java&#45;keyword">default</span>': <span class="java&#45;quote">"Database stuff"</span>) &#123;
    depends(configureProxy, packageApp, classpath, loadApp, configureApp)<p class="paragraph"/>    Connection c
    <span class="java&#45;keyword">try</span> &#123;
        c = appCtx.getBean('dataSource').getConnection()
        // <span class="java&#45;keyword">do</span> something with connection
    &#125;
    <span class="java&#45;keyword">finally</span> &#123;
        c?.close()
    &#125;
&#125;</pre></div><p class="paragraph"/><h3>他のスクリプトからターゲットを取り出す <div class="hidden-block">Pulling in targets from other scripts </div></h3><p class="paragraph"/><div class="hidden-block">Gant lets you pull in all targets (except "default") from another Gant script. You can then depend upon or invoke those targets as if they had been defined in the current script. The mechanism for doing this is the <code>includeTargets</code> property. Simply "append" a file or class to it using the left-shift operator:</div>
Gantはターゲットを他のGantスクリプトから取り込むことができます。取り込んだターゲットは、あたかも現在のスクリプトで定義されているかのように実行することができます。この仕組みは<code>includeTargets</code>プロパティにより実現されます。単純に左シフト演算子でファイル又は使用するクラスを追加します:<p class="paragraph"/><div class="code"><pre>includeTargets &#60;&#60; <span class="java&#45;keyword">new</span> File(<span class="java&#45;quote">"/path/to/my/script.groovy"</span>)
includeTargets &#60;&#60; gant.tools.Ivy</pre></div>
<div class="hidden-block">Don't worry too much about the syntax using a class, it's quite specialised. If you're interested, look into the Gant documentation.</div>
クラスを使用している構文はGantのルールに従って記述されたクラスを使用しています。もし興味があればGantのドキュメントを参照して下さい。<p class="paragraph"/><h3>Core Grailsターゲット <div class="hidden-block">Core Grails targets </div></h3><p class="paragraph"/><div class="hidden-block">As you saw in the example at the beginning of this section, you use neither the File- nor the class-based syntax for <code>includeTargets</code> when including core Grails targets. Instead, you should use the special <code>grailsScript()</code> method that is provided by the Grails command launcher (note that this is not available in normal Gant scripts, just Grails ones).</div>
この章の冒頭の例でお見せしたように、Core Grailsターゲットを含める際に利用する<code>includeTargets</code>では、ファイルベース構文、クラスベース構文のどちらも使用しません。代わりに、Grailsコマンドランチャが提供している<code>grailsScript()</code>という特別なメソッドを使用します（このメソッドはGrails専用であり、通常のGantでは利用できません）。<p class="paragraph"/><div class="hidden-block">The syntax for the <code>grailsScript()</code> method is pretty straightforward: simply pass it the name of the Grails script to include, without any path information. Here is a list of Grails scripts that you could reuse:</div>
<code>grailsScript()</code>メソッドの構文は、単に含めたいGrailsスクリプトの名称を渡すだけです。以下に再利用できるGrailsスクリプトの一覧を示します:
<div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Script</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>&#95;GrailsSettings</td><td>You really should include this! Fortunately, it is included automatically by all other Grails scripts except &#95;GrailsProxy, so you usually don't have to include it explicitly.</td></tr><tr class="table-even"><td>&#95;GrailsEvents</td><td>Include this to fire events. Adds an <code>event(String eventName, List args)</code> method. Again, included by almost all other Grails scripts.</td></tr><tr class="table-odd"><td>&#95;GrailsClasspath</td><td>Configures compilation, test, and runtime classpaths. If you want to use or play with them, include this script. Again, included by almost all other Grails scripts.</td></tr><tr class="table-even"><td>&#95;GrailsProxy</td><td>If you don't have direct access to the internet and use a proxy, include this script to configure access through your proxy.</td></tr><tr class="table-odd"><td>&#95;GrailsArgParsing</td><td>Provides a <code>parseArguments</code> target that does what it says on the tin: parses the arguments provided by the user when they run your script. Adds them to the <code>argsMap</code> property.</td></tr><tr class="table-even"><td>&#95;GrailsTest</td><td>Contains all the shared test code. Useful if you want to add any extra tests.</td></tr><tr class="table-odd"><td>&#95;GrailsRun</td><td>Provides all you need to run the application in the configured servlet container, either normally (<code>runApp</code>/<code>runAppHttps</code>) or from a WAR file (<code>runWar</code>/<code>runWarHttps</code>).</td></tr></table>
</div><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">スクリプト</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>&#95;GrailsSettings</td><td>Grailsの設定などを読み込むスクリプト。このスクリプトは他のスクリプト（_GrailsProxyなど）で自動的にインクルードされているので、通常は明示的にインクルードする必要はありません。</td></tr><tr class="table-even"><td>&#95;GrailsEvents</td><td>イベントトリガーを実装するためのメソッド（<code>event(String eventName, List args)</code>）を使用するには、これをインクルードする必要があります。このスクリプトもほぼ全てのGrailsスクリプトでインクルードされています。</td></tr><tr class="table-odd"><td>&#95;GrailsClasspath</td><td>コンパイル、テスト、およびランタイムのクラスパスを設定します。このスクリプトもほぼ全ての Grailsスクリプトでインクルードされています。</td></tr><tr class="table-even"><td>&#95;GrailsProxy</td><td>インターネットにアクセスする場合は、プロキシの解決をするためにこのスクリプトをインクルードして下さい。</td></tr><tr class="table-odd"><td>&#95;GrailsArgParsing</td><td><code>parseArguments</code>ターゲットはその名の通り解析する機能を提供します。スクリプトを実行する際に指定した引数を解析します。<code>argsMap</code>プロパティにそれらの設定の追加します。</td></tr><tr class="table-even"><td>&#95;GrailsTest</td><td>すべてのテスト実行に使用するコードが含まれています。他の種類のテストを追加する際に便利です。</td></tr><tr class="table-odd"><td>&#95;GrailsRun</td><td>アプリケーションを起動させるために必要な機能を提供します。通常は（<code>runApp/runAppHttps</code>）から、またはWARファイル（<code>runWar/runWarHttps</code>）から実行します。</td></tr></table><p class="paragraph"/><div class="hidden-block">There are many more scripts provided by Grails, so it is worth digging into the scripts themselves to find out what kind of targets are available. Anything that starts with an "&#95;" is designed for reuse.</div>
Grailsではもっと多くのスクリプトが提供されていますので、どんな種類のターゲットが利用可能かを調べてみる価値があるでしょう。" <em class="italic">"で始まっているものはすべて再利用されることを考慮してデザインされています。<p class="paragraph"/><h3>スクリプトアーキテクチャ <div class="hidden-block">Script architecture </div></h3><p class="paragraph"/><div class="hidden-block">You maybe wondering what those underscores are doing in the names of the Grails scripts. That is Grails' way of determining that a script is _internal</em> , or in other words that it has not corresponding "command". So you can't run "grails &#95;grails-settings" for example. That is also why they don't have a default target.</div>
アンダースコアで始まるGrailsスクリプトは、何を示しているものかを説明すると、それらはコマンドではなく、他のスクリプトから利用されるスクリプト群として認識されます。なので、それらのスクリプト（内部スクリプト）はデフォルトターゲットを持っておらず、スクリプトは実行できません。<p class="paragraph"/><div class="hidden-block">Internal scripts are all about code sharing and reuse. In fact, we recommend you take a similar approach in your own scripts: put all your targets into an internal script that can be easily shared, and provide simple command scripts that parse any command line arguments and delegate to the targets in the internal script. For example if you have a script that runs some functional tests, you can split it like this:</div>
内部スクリプトは共有して再利用するために存在します。実際に独自のスクリプトを書く場合は、同等の手法をとることをお勧めします。簡単に共有できるターゲットは内部スクリプトにすべて置き、コマンドライン引数を解析して、内部スクリプト内のターゲットを呼び出すだけのコマンドスクリプトを提供します。例えば、いくつかのファンクショナルテストを行うスクリプトがあるという場合、以下のように分割できます。<p class="paragraph"/><div class="code"><pre>./scripts/FunctionalTests.groovy:<p class="paragraph"/>includeTargets &#60;&#60; <span class="java&#45;keyword">new</span> File(<span class="java&#45;quote">"$&#123;basedir&#125;/scripts/_FunctionalTests.groovy"</span>)<p class="paragraph"/>target(<span class="java&#45;keyword">default</span>: <span class="java&#45;quote">"Runs the functional tests <span class="java&#45;keyword">for</span> <span class="java&#45;keyword">this</span> project."</span>) &#123;
    depends(runFunctionalTests)
&#125;<p class="paragraph"/>./scripts/_FunctionalTests.groovy:<p class="paragraph"/>includeTargets &#60;&#60; grailsScript(<span class="java&#45;quote">"_GrailsTest"</span>)<p class="paragraph"/>target(runFunctionalTests: <span class="java&#45;quote">"Run functional tests."</span>) &#123;
    depends(...)
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Here are a few general guidelines on writing scripts:</div>
以下にスクリプトを書く際のガイドラインを示します:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li>Split scripts into a "command" script and an internal one.</li>
<li>Put the bulk of the implementation in the internal script.</li>
<li>Put argument parsing into the "command" script.</li>
<li>To pass arguments to a target, create some script variables and initialise them before calling the target.</li>
<li>Avoid name clashes by using closures assigned to script variables instead of targets. You can then pass arguments direct to the closures.</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li>スクリプトを"コマンドスクリプト"と"内部スクリプト"に分割します。</li>
<li>実装の大部分は"内部スクリプト"で行います。</li>
<li>引数の解析は"コマンドスクリプト"で行います。</li>
<li>ターゲットに引数を渡すには、いくつかのスクリプト変数を作成し、ターゲットを呼び出す前にそれらを初期化します。</li>
<li>ターゲットの代わりにスクリプト変数に割り当てられているクロージャを使用して名前の衝突を避けるようにします。そうすれば、引数をクロージャに直接渡すことができます。</li>
</ul><p class="paragraph"/>

<a name="4.3 Hooking into Events"><!-- Legacy link --></a>
<h2 id="events">5.5 イベントを取得する</h2>
<div class="hidden-block">Grails provides the ability to hook into scripting events. These are events triggered during execution of Grails target and plugin scripts.</div>
Grailsはスクリプトのイベントフックを提供しています。イベントフックとは、Grailsターゲット実行時やプラグインスクリプト実行時に発行されるイベントを取得して処理を行うことができる機能です。<p class="paragraph"/><div class="hidden-block">The mechanism is deliberately simple and loosely specified. The list of possible events is not fixed in any way, so it is possible to hook into events triggered by plugin scripts, for which there is no equivalent event in the core target scripts.</div>
仕組みはわざと単純でゆるく明記できるようになっています。起こりうるイベントは予測できないからです。なので、コアターゲットと同等のイベントが無い場合はプラグインスクリプトからトリガーされたイベントにフックする事も可能です。<p class="paragraph"/><h4>イベントハンドラを定義する <div class="hidden-block">Defining event handlers </div></h4><p class="paragraph"/><div class="hidden-block">Event handlers are defined in scripts called <code>_Events.groovy</code>. Grails searches for these scripts in the following locations:</div>
イベントハンドラは<code>_Events.groovy</code>という名称のスクリプトで定義します。Grailsは次の場所からスクリプトを検索します:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>USER_HOME/.grails/scripts</code> - user-specific event handlers</li>
<li><code>PROJECT_HOME/scripts</code> - applicaton-specific event handlers</li>
<li><code>PLUGINS_HOME/*/scripts</code> - plugin-specific event handlers</li>
<li><code>GLOBAL_PLUGINS_HOME/*/scripts</code> - event handlers provided by global plugins</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>USER_HOME/.grails/scripts</code> - ユーザー固有のイベントハンドラ</li>
<li><code>PROJECT_HOME/scripts</code> - アプリケーション固有のイベントハンドラ</li>
<li><code>PLUGINS_HOME/*/scripts</code> - プラグイン固有のイベントハンドラ</li>
<li><code>GLOBAL_PLUGINS_HOME/*/scripts</code> - グローバルプラグインによって提供されているイベントハンドラ</li>
</ul><p class="paragraph"/><div class="hidden-block">Whenever an event is fired,  <em class="italic">all</em>  the registered handlers for that event are executed. Note that the registration of handlers is performed automatically by Grails, so you just need to declare them in the relevant <code>_Events.groovy</code> file.</div>
イベントが発生するたびに登録されている  <em class="italic">すべての</em>  ハンドラが実行されます。ハンドラの登録はGrailsによって自動的に行われることに注意してください。なので、必要な作業は関連する<code>_Events.groovy</code>ファイルにそれらを宣言するだけです。<p class="paragraph"/><div class="hidden-block">Event handlers are blocks defined in <code>_Events.groovy</code>, with a name beginning with "event". The following example can be put in your /scripts directory to demonstrate the feature:</div>
イベントハンドラは _Events.groovy で定義されている名前が "event" で始まっているブロックです。次の例のように<code>_Events.groovy</code>を記述して、/scripts ディレクトリに配置することによって、イベントハンドラを実装することができます:<p class="paragraph"/><div class="code"><pre>eventCreatedArtefact = &#123; type, name &#45;&#62;
   println <span class="java&#45;quote">"Created $type $name"</span>
&#125;<p class="paragraph"/>eventStatusUpdate = &#123; msg &#45;&#62;
   println msg
&#125;<p class="paragraph"/>eventStatusFinal = &#123; msg &#45;&#62;
   println msg
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">You can see here the three handlers <code>eventCreatedArtefact</code>, <code>eventStatusUpdate</code>, <code>eventStatusFinal</code>. Grails provides some standard events, which are documented in the command line reference guide. For example the <a href="../ref/Command Line/compile.html" class="commandLine">compile</a> command fires the following events:</div>
ここでは三つのハンドラが指定されています。<code>eventCreatedArtefact</code>、<code>eventStatusUpdate</code>、<code>eventStatusFinal</code>。Grailsはいくつかの標準的なイベントを提供しています。詳細はコマンドラインリファレンスガイドを参照してください。たとえば、 <a href="../ref/Command Line/compile.html" class="commandLine">compile</a>コマンドは、次のようなイベントを発行させます。
<div class="hidden-block">
<ul class="star">
<li><code>CompileStart</code>  - Called when compilation starts, passing the kind of compile - source or tests</li>
<li><code>CompileEnd</code> - Called when compilation is finished, passing the kind of compile - source or tests</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>CompileStart</code> - sourceまたはtestsコンパイル開始時に発行されます。</li>
<li><code>CompileEnd</code> - sourceまたはtestsコンパイル終了時に発行されます。</li>
</ul><p class="paragraph"/><h4>イベントトリガー <div class="hidden-block">Triggering events </div></h4><p class="paragraph"/><div class="hidden-block">To trigger an event simply include the Init.groovy script and call the event() closure:</div>
イベントを発行するには _GrailsEvents.groovy スクリプトをインクルードしてevent()クロージャを使用します:<p class="paragraph"/><div class="code"><pre>includeTargets &#60;&#60; grailsScript(<span class="java&#45;quote">"_GrailsEvents"</span>)<p class="paragraph"/>event(<span class="java&#45;quote">"StatusFinal"</span>, &#91;<span class="java&#45;quote">"Super duper plugin action complete!"</span>&#93;)</pre></div><p class="paragraph"/><h4>共通イベント <div class="hidden-block">Common Events </div></h4><p class="paragraph"/><div class="hidden-block">Below is a table of some of the common events that can be leveraged:</div>
以下はいくつかの利用可能な共通イベントの一覧です:<p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Event</th><th>Parameters</th><th>Description</th></tr><tr class="table-odd"><td>StatusUpdate</td><td>message</td><td>Passed a string indicating current script status/progress</td></tr><tr class="table-even"><td>StatusError</td><td>message</td><td>Passed a string indicating an error message from the current script</td></tr><tr class="table-odd"><td>StatusFinal</td><td>message</td><td>Passed a string indicating the final script status message, i.e. when completing a target, even if the target does not exit the scripting environment</td></tr><tr class="table-even"><td>CreatedArtefact</td><td>artefactType,artefactName</td><td>Called when a create-xxxx script has completed and created an artefact</td></tr><tr class="table-odd"><td>CreatedFile</td><td>fileName</td><td>Called whenever a project source filed is created, not including files constantly managed by Grails</td></tr><tr class="table-even"><td>Exiting</td><td>returnCode</td><td>Called when the scripting environment is about to exit cleanly</td></tr><tr class="table-odd"><td>PluginInstalled</td><td>pluginName</td><td>Called after a plugin has been installed</td></tr><tr class="table-even"><td>CompileStart</td><td>kind</td><td>Called when compilation starts, passing the kind of compile - source or tests</td></tr><tr class="table-odd"><td>CompileEnd</td><td>kind</td><td>Called when compilation is finished, passing the kind of compile - source or tests</td></tr><tr class="table-even"><td>DocStart</td><td>kind</td><td>Called when documentation generation is about to start - javadoc or groovydoc</td></tr><tr class="table-odd"><td>DocEnd</td><td>kind</td><td>Called when documentation generation has ended - javadoc or groovydoc</td></tr><tr class="table-even"><td>SetClasspath</td><td>rootLoader</td><td>Called during classpath initialization so plugins can augment the classpath with rootLoader.addURL(...). Note that this augments the classpath <strong class="bold">after</strong> event scripts are loaded so you cannot use this to load a class that your event script needs to import, although you can do this if you load the class by name.</td></tr><tr class="table-odd"><td>PackagingEnd</td><td>none</td><td>Called at the end of packaging (which is called prior to the Tomcat server being started and after web.xml is generated)</td></tr></table>
</div><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>イベント</th><th>パラメータ</th><th>説明</th></tr><tr class="table-odd"><td>StatusUpdate</td><td>message</td><td>実行されているスクリプトのステータス、進捗メッセージを知らせる</td></tr><tr class="table-even"><td>StatusError</td><td>message</td><td>実行されているスクリプトのエラーメッセージを 知らせる</td></tr><tr class="table-odd"><td>StatusFinal</td><td>message</td><td>スクリプトの終了時に最終メッセージを知らせる。 スクリプトによっては完全終了時ではなく、コマ ンドの終了時に動作する</td></tr><tr class="table-even"><td>CreatedArtefact</td><td>artefactType,artefactName</td><td>create-xxxxなどのアーティファクト生成スクリプトが、アーティファクトの生成完了時にアーティ ファクトタイプとアーティファクト名を知らせる</td></tr><tr class="table-odd"><td>CreatedFile</td><td>fileName</td><td>ファイルがスクリプトによって生成されたときに ファイル名を知らせる</td></tr><tr class="table-even"><td>Exiting</td><td>returnCode</td><td>スクリプトが正常に終了したときに終了コードを 知らせる</td></tr><tr class="table-odd"><td>PluginInstalled</td><td>pluginName</td><td>プラグインのインストールが終了した後にプラグイン 名を知らせる</td></tr><tr class="table-even"><td>CompileStart</td><td>kind</td><td>コンパイル開始時にコンパイルする種類(source または tests)を知らせる</td></tr><tr class="table-odd"><td>CompileEnd</td><td>kind</td><td>コンパイル終了時にコンパイルした種類(source または tests)を知らせる</td></tr><tr class="table-even"><td>DocStart</td><td>kind</td><td>ドキュメント生成時に、どのドキュメント生成(javadoc または groovydoc)が開始するかを知らせる</td></tr><tr class="table-odd"><td>DocEnd</td><td>kind</td><td>ドキュメント生成完了時に、どのドキュメント生成(javadoc または groovydoc)が完了したかを知らせる</td></tr><tr class="table-even"><td>SetClasspath</td><td>rootLoader</td><td>クラスパス初期化中にGrailsRootLoader が渡されるので、「rootLoader.addURL( &#8230; )」でクラスをGrailsRootLoader に追加できる</td></tr><tr class="table-odd"><td>PackagingEnd</td><td>none</td><td>Grailsアプリケーションのパッケージング完了時 (web.xml生成後、Tomcatサーバ起動前)に呼び出される</td></tr></table><p class="paragraph"/>

<a name="4.4 Customising the build"><!-- Legacy link --></a>
<h2 id="buildCustomising">5.6 ビルドのカスタマイズ</h2>
<div class="hidden-block">Grails is most definitely an opinionated framework and it prefers convention to configuration, but this doesn't mean you  <em class="italic">can't</em>  configure it. In this section, we look at how you can influence and modify the standard Grails build.</div>
Grailsは確かにものすごく固執したフレームワークであり、設定よりも規約という方式を主張していますが、それは様々な設定をできないという意味ではありません。このセクションでは、どのようにGrailsの標準的なビルドをカスタマイズする方法を解説します。<p class="paragraph"/><h3>初期値 <div class="hidden-block">The defaults </div></h3><p class="paragraph"/><div class="hidden-block">The core of the Grails build configuration is the <code>grails.util.BuildSettings</code> class, which contains quite a bit of useful information. It controls where classes are compiled to, what dependencies the application has, and other such settings.</div>
ビルド設定の中心部分は、ビルド時に有用な情報が含まれている <code>grails.util.BuildSettings</code>クラスです。このクラスは、どこにコンパイルされるのか、アプリケーションが何に依存関係を持っているのか、どのような設定を保持しているのか、を制御します。<p class="paragraph"/><div class="hidden-block">Here is a selection of the configuration options and their default values:</div>
設定オプションと初期値は以下のようになります:
<div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Property</strong></th><th><strong class="bold">Config option</strong></th><th><strong class="bold">Default value</strong></th></tr><tr class="table-odd"><td>grailsWorkDir</td><td>grails.work.dir</td><td>$USER_HOME/.grails/&#60;grailsVersion&#62;</td></tr><tr class="table-even"><td>projectWorkDir</td><td>grails.project.work.dir</td><td>&#60;grailsWorkDir&#62;/projects/&#60;baseDirName&#62;</td></tr><tr class="table-odd"><td>classesDir</td><td>grails.project.class.dir</td><td>&#60;projectWorkDir&#62;/classes</td></tr><tr class="table-even"><td>testClassesDir</td><td>grails.project.test.class.dir</td><td>&#60;projectWorkDir&#62;/test-classes</td></tr><tr class="table-odd"><td>testReportsDir</td><td>grails.project.test.reports.dir</td><td>&#60;projectWorkDir&#62;/test/reports</td></tr><tr class="table-even"><td>resourcesDir</td><td>grails.project.resource.dir</td><td>&#60;projectWorkDir&#62;/resources</td></tr><tr class="table-odd"><td>projectPluginsDir</td><td>grails.project.plugins.dir</td><td>&#60;projectWorkDir&#62;/plugins</td></tr><tr class="table-even"><td>globalPluginsDir</td><td>grails.global.plugins.dir</td><td>&#60;grailsWorkDir&#62;/global-plugins</td></tr><tr class="table-odd"><td>verboseCompile</td><td>grails.project.compile.verbose</td><td><code>false</code></td></tr></table>
</div>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">プロパティ</strong></th><th><strong class="bold">設定オプション</strong></th><th><strong class="bold">初期値</strong></th></tr><tr class="table-odd"><td>grailsWorkDir</td><td>grails.work.dir</td><td>$USER_HOME/.grails/&#60;grailsVersion&#62;</td></tr><tr class="table-even"><td>projectWorkDir</td><td>grails.project.work.dir</td><td>&#60;grailsWorkDir&#62;/projects/&#60;baseDirName&#62;</td></tr><tr class="table-odd"><td>classesDir</td><td>grails.project.class.dir</td><td>&#60;projectWorkDir&#62;/classes</td></tr><tr class="table-even"><td>testClassesDir</td><td>grails.project.test.class.dir</td><td>&#60;projectWorkDir&#62;/test-classes</td></tr><tr class="table-odd"><td>testReportsDir</td><td>grails.project.test.reports.dir</td><td>&#60;projectWorkDir&#62;/test/reports</td></tr><tr class="table-even"><td>resourcesDir</td><td>grails.project.resource.dir</td><td>&#60;projectWorkDir&#62;/resources</td></tr><tr class="table-odd"><td>projectPluginsDir</td><td>grails.project.plugins.dir</td><td>&#60;projectWorkDir&#62;/plugins</td></tr><tr class="table-even"><td>globalPluginsDir</td><td>grails.global.plugins.dir</td><td>&#60;grailsWorkDir&#62;/global-plugins</td></tr><tr class="table-odd"><td>verboseCompile</td><td>grails.project.compile.verbose</td><td><code>false</code></td></tr></table><p class="paragraph"/><div class="hidden-block">The <code>BuildSettings</code> class has some other properties too, but they should be treated as read-only:</div>
<code>BuildSettings</code>クラスは、他にもいくつかの読み取り専用のプロパティを持っています:
<div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Property</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>baseDir</td><td>The location of the project.</td></tr><tr class="table-even"><td>userHome</td><td>The user's home directory.</td></tr><tr class="table-odd"><td>grailsHome</td><td>The location of the Grails installation in use (may be <code>null</code>).</td></tr><tr class="table-even"><td>grailsVersion</td><td>The version of Grails being used by the project.</td></tr><tr class="table-odd"><td>grailsEnv</td><td>The current Grails environment.</td></tr><tr class="table-even"><td>config</td><td>The configuration settings defined in the project's <code>BuildConfig.groovy</code> file. Access properties in the same way as you access runtime settings: <code>grailsSettings.config.foo.bar.hello</code>.</td></tr><tr class="table-odd"><td>compileDependencies</td><td>A list of compile-time project dependencies as <code>File</code> instances.</td></tr><tr class="table-even"><td>testDependencies</td><td>A list of test-time project dependencies as <code>File</code> instances.</td></tr><tr class="table-odd"><td>runtimeDependencies</td><td>A list of runtime-time project dependencies as <code>File</code> instances.</td></tr></table>
</div><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">プロパティ</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>baseDir</td><td>プロジェクトの場所。</td></tr><tr class="table-even"><td>userHome</td><td>ユーザーのホームディレクトリ。</td></tr><tr class="table-odd"><td>grailsHome</td><td>使用中のGrailsのインストール先（<code>null</code>の場合あり）。</td></tr><tr class="table-even"><td>grailsVersion</td><td>プロジェクトで使用されているGrailsのバージョン。</td></tr><tr class="table-odd"><td>grailsEnv</td><td>現在のGrails環境。</td></tr><tr class="table-even"><td>config</td><td>プロジェクトの <code>BuildConfig.groovy</code> に定義された設定。ランタイム時と同様にプロパティにアクセスできます: <code>grailsSettings.config.foo.bar.hello</code></td></tr><tr class="table-odd"><td>compileDependencies</td><td>コンパイル時のプロジェクト依存関係のFileインスタンスのリスト。</td></tr><tr class="table-even"><td>testDependencies</td><td>テスト時のプロジェクト依存関係のFileインスタンスのリスト。</td></tr><tr class="table-odd"><td>runtimeDependencies</td><td>実行時のプロジェクト依存関係のFileインスタンスのリスト。</td></tr></table><p class="paragraph"/><div class="hidden-block">Of course, these properties aren't much good if you can't get hold of them. Fortunately that's easy to do: an instance of <code>BuildSettings</code> is available to your scripts as the <code>grailsSettings</code> script variable. You can also access it from your code by using the <code>grails.util.BuildSettingsHolder</code> class, but this isn't recommended.</div>
もちろんこれらのプロパティがぴったり合うとは限りません。幸いなことに、<code>BuildSettings</code>のインスタンスの<code>grailsSettingspスクリプト変数を介して利用可能です。他のコードからも</code>grails.util.BuildSettingsHolder@クラスを使用してアクセスすることができます。でもこれは推奨されません。<p class="paragraph"/><h3>初期値を上書きする <div class="hidden-block">Overriding the defaults </div></h3><p class="paragraph"/><div class="hidden-block">All of the properties in the first table can be overridden by a system property or a configuration option - simply use the "config option" name. For example, to change the project working directory, you could either run this command:</div>
1つめの表内のすべてのプロパティは、システムプロパティや設定オプションで上書きすることができます。たとえば、プロジェクトの作業ディレクトリ(projectWorkDir)を変更するには、このようにコマンドを実行することができます:
<div class="code"><pre>grails &#45;Dgrails.project.work.dir=work compile</pre></div>
<div class="hidden-block">or add this option to your <code>grails-app/conf/BuildConfig.groovy</code> file:</div>
<code>grails-app/conf/BuildConfig.groovy</code>に記述します:
<div class="code"><pre>grails.project.work.dir = <span class="java&#45;quote">"work"</span></pre></div>
<div class="hidden-block">Note that the default values take account of the property values they depend on, so setting the project working directory like this would also relocate the compiled classes, test classes, resources, and plugins.</div>
注意点として、プロパティが依存しているプロパティのデフォルト値にも影響するので、このようにプロジェクトの作業ディレクトリを設定すると、コンパイルされたクラス、テストクラス、リソース、およびプラグインの場所を変更することにもなります。<p class="paragraph"/><div class="hidden-block">What happens if you use both a system property and a configuration option? Then the system property wins because it takes precedence over the <code>BuildConfig.groovy</code> file, which in turn takes precedence over the default values.</div>
システムプロパティと設定オプションの両方を指定した場合、システムプロパティは<code>BuildConfig.groovy</code>ファイルの設定よりも優先順位が高いので、システムプロパティの値が設定されます。<p class="paragraph"/><div class="hidden-block">The <code>BuildConfig.groovy</code> file is a sibling of <code>grails-app/conf/Config.groovy</code> - the former contains options that only affect the build, whereas the latter contains those that affect the application at runtime. It's not limited to the options in the first table either: you will find build configuration options dotted around the documentation, such as ones for specifying the port that the embedded servlet container runs on or for determining what files get packaged in the WAR file.</div>
<code>BuildConfig.groovy</code>ファイルは、<code>grails-app/conf/Config.groovy</code>と兄妹関係にあります。前者は、ビルド時にのみ影響を及ぼすオプションを含んでいるのに対して、後者はアプリケーションの実行時に影響を与えるオプションを含んでいます。設定オプションは、1つめの表で示したオプション以外にも、サーブレットコンテナを動かすポート指定や、WARファイルにどのファイルを格納するかを決定する指定など、他にも指定可能なビルド設定が存在します。<p class="paragraph"/><h3>使用可能なビルド設定 <div class="hidden-block">Available build settings </div></h3><p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Name</th><th>Description</th></tr><tr class="table-odd"><td>grails.server.port.http</td><td>Port to run the embedded servlet container on ("run-app" and "run-war"). Integer.</td></tr><tr class="table-even"><td>grails.server.port.https</td><td>Port to run the embedded servlet container on for HTTPS ("run-app &#45;&#45;https" and "run-war &#45;&#45;https"). Integer.</td></tr><tr class="table-odd"><td>grails.config.base.webXml</td><td>Path to a custom web.xml file to use for the application (alternative to using the web.xml template).</td></tr><tr class="table-even"><td>grails.compiler.dependencies</td><td>Legacy approach to adding extra dependencies to the compiler classpath. Set it to a closure containing "fileset()" entries. These entries will be processed by an <code>AntBuilder</code> so the syntax is the Groovy form of the corresponding XML elements in an Ant build file, e.g. <code>fileset(dir: "$basedir/lib", includes: "&#42;&#42;/&#42;.class")</code>.</td></tr><tr class="table-odd"><td>grails.testing.patterns</td><td>A list of Ant path patterns that let you control which files are included in the tests. The patterns should not include the test case suffix, which is set by the next property.</td></tr><tr class="table-even"><td>grails.testing.nameSuffix</td><td>By default, tests are assumed to have a suffix of "Tests". You can change it to anything you like but setting this option. For example, another common suffix is "Test".</td></tr><tr class="table-odd"><td>grails.project.war.file</td><td>A string containing the file path of the generated WAR file, along with its full name (include extension). For example, "target/my-app.war".</td></tr><tr class="table-even"><td>grails.war.dependencies</td><td>A closure containing "fileset()" entries that allows you complete control over what goes in the WAR's "WEB-INF/lib" directory.</td></tr><tr class="table-odd"><td>grails.war.copyToWebApp</td><td>A closure containing "fileset()" entries that allows you complete control over what goes in the root of the WAR. It overrides the default behaviour of including everything under "web-app".</td></tr><tr class="table-even"><td>grails.war.resources</td><td>A closure that takes the location of the staging directory as its first argument. You can use any Ant tasks to do anything you like. It is typically used to remove files from the staging directory before that directory is jar'd up into a WAR.</td></tr><tr class="table-odd"><td>grails.project.web.xml</td><td>The location to generate Grails' web.xml to</td></tr></table>
</div><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>名前</th><th>説明</th></tr><tr class="table-odd"><td>grails.server.port.http</td><td>組み込みのサーブレットコンテナを実行するポート番号。（"run-app" と "run-war"）</td></tr><tr class="table-even"><td>grails.server.port.https</td><td>HTTPS用の組み込みのサーブレットコンテナを実行するポート番号。（"run-app &#45;&#45;https"と"run-war &#45;&#45;https"）</td></tr><tr class="table-odd"><td>grails.config.base.webXml</td><td>アプリケーションで使用するカスタムのweb.xmlファイルへのパス。（web.xmlテンプレートを使用しない場合）</td></tr><tr class="table-even"><td>grails.compiler.dependencies</td><td>コンパイラのクラスパスに依存関係を追加する。"fileset()"を含んでいるクロージャに設定。</td></tr><tr class="table-odd"><td>grails.testing.patterns</td><td>テストに含まれるファイルを制御するためのAntパスのパターンリスト。パターンは、次のgrails.testing.nameSuffixに設定されているテストケースのサフィックス以外。</td></tr><tr class="table-even"><td>grails.testing.nameSuffix</td><td>デフォルトでは、テストは"Tests"のサフィックスが設定されていますが、好きなようにオプション設定を変更することができます。</td></tr><tr class="table-odd"><td>grails.project.war.file</td><td>生成されるWARファイルの名称（拡張子を含む）のファイルパス。例として、"target/my-app.war" 等。</td></tr><tr class="table-even"><td>grails.war.dependencies</td><td>WARファイルの"WEB-INF/lib"階層に含む内容を、クロージャ内の"fileset()"でコントロール。</td></tr><tr class="table-odd"><td>grails.war.copyToWebApp</td><td>WARのルートディレクトリ階層に含む内容を、クロージャ内の"fileset()"でコントロール。</td></tr><tr class="table-even"><td>grails.war.resources</td><td>最初の引数としてステージングディレクトリの場所を受け取れるクロージャを指定。クロージャ内でAntタスクを使用することで、WAR化される前にステージングディレクトリの内容を変更する事ができます。</td></tr><tr class="table-odd"><td>grails.project.web.xml</td><td>Grailsがweb.xmlを生成する場所の指定。</td></tr></table><p class="paragraph"/><h3>リローディングエージェントキャッシュディレクトリ<div class="hidden-block">Reloading Agent Cache Directory</div></h3><p class="paragraph"/>Grails uses an agent based reloading system in the development environment that allows source code changes to be picked up while the application is running.  This reloading agent caches information needed to carry out the reloading efficiently.  By default this information is stored under <code>&#60;USER_HOME_DIR&#62;&#47;.grails&#47;.slcache&#47;</code>.  The <code>GRAILS_AGENT_CACHE_DIR</code> environment variable may be assigned a value to cause this cache information to be stored somewhere else.  Note that this is an operating system environment variable, not a JVM system property or a property which may be defined in <code>BuildConfig.groovy</code>.  This setting must be defined as an environment variable because the agent cache directory must be configured very early in the JVM startup process, before any Grails code is executed.


<a name="4.5 Ant and Maven"><!-- Legacy link --></a>
<h2 id="antAndMaven">5.7 AntとMaven</h2>
<div class="hidden-block">If all the other projects in your team or company are built using a standard build tool such as Ant or Maven, you become the black sheep of the family when you use the Grails command line to build your application. Fortunately, you can easily integrate the Grails build system into the main build tools in use today (well, the ones in use in Java projects at least).</div>
もし、あなたのプロジェクトチームや会社でAntやMavenなどのような標準的なビルドツールを利用している場合は、アプリケーションをビルドする時にGrailsのコマンドラインを使っていると一家の厄介者にされてしまいます。幸いなことに、Grailsビルドシステムは今日使われている主なビルドツールに簡単に統合することができます。（少なくともJavaプロジェクトで使用されているものへ）<p class="paragraph"/><h3>Antへの統合 <div class="hidden-block">Ant Integration </div></h3><p class="paragraph"/><div class="hidden-block">When you create a Grails application with the <a href="../ref/Command Line/create-app.html" class="commandLine">create-app</a> command, Grails doesn't automatically create an Ant <code>build.xml</code> file but you can generate one with the <a href="../ref/Command Line/integrate-with.html" class="commandLine">integrate-with</a> command:</div>
<a href="../ref/Command Line/create-app.html" class="commandLine">create-app</a>コマンドでGrailsアプリケーションを作成した際に、Grailsは自動的にはApache Antの<code>build.xml</code>を生成しません。<a href="../ref/Command Line/integrate-with.html" class="commandLine">integrate-with</a>コマンドを使用して生成することが可能です。<p class="paragraph"/><pre class="bq"><code>
grails integrate-with --ant</code></pre><p class="paragraph"/><div class="hidden-block">This creates a <code>build.xml</code> file containing the following targets:</div>
作成された<code>build.xml</code>ファイルには、次のターゲットが含まれています:
<div class="hidden-block">
<ul class="star">
<li><code>clean</code> - Cleans the Grails application</li>
<li><code>compile</code> - Compiles your application's source code</li>
<li><code>test</code> - Runs the unit tests</li>
<li><code>run</code> - Equivalent to "grails run-app"</li>
<li><code>war</code> - Creates a WAR file</li>
<li><code>deploy</code> - Empty by default, but can be used to implement automatic deployment</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>clean</code> - Grailsアプリケーションをクリーンします。</li>
<li><code>compile</code> - アプリケーションのソースコードをコンパイルします。</li>
<li><code>test</code> - ユニットテストを実行します。</li>
<li><code>run</code> - Grailsの"run-app"コマンド相当を実行します。</li>
<li><code>war</code> - WARファイルを作成します。</li>
<li><code>deploy</code> - デフォルトでは空ですが、自動配備を実装することができます。</li>
</ul><p class="paragraph"/><div class="hidden-block">Each of these can be run by Ant, for example:</div>
これらは例えば、以下のようなAntコマンドで実行できます。<p class="paragraph"/><div class="code"><pre>ant war</pre></div><p class="paragraph"/><div class="hidden-block">The build file is configured to use <a href="http://ant.apache.org/ivy/" target="blank">Apache Ivy</a> for dependency management, which means that it will automatically download all the requisite Grails JAR files and other dependencies on demand. You don't even have to install Grails locally to use it! That makes it particularly useful for continuous integration systems such as <a href="http://cruisecontrol.sourceforge.net/" target="blank">CruiseControl</a> or <a href="http://jenkins-ci.org/" target="blank">Jenkins</a>.</div>
ビルドファイルは <a href="http://ant.apache.org/ivy/" target="blank">Apache Ivy</a> をの依存性管理を使う準備ができています。必要に応じてGrailsが利用したり、またはそれ以外で利用される依存関係のあるJARファイルを自動的にダウンロードしてくることができるということです。それを使うにはローカルにGrailsをインストールする必要すらありません！<a href="http://cruisecontrol.sourceforge.net/" target="blank">CruiseControl</a>や<a href="http://jenkins-ci.org/" target="blank">Jenkins</a>のような継続的インテグレーションツールを使う場合、特に便利でしょう。<p class="paragraph"/><div class="hidden-block">It uses the Grails <a href="http://grails.org/doc/latest/api/grails/ant/GrailsTask.html" class="api">Ant task</a> to hook into the existing Grails build system. The task lets you run any Grails script that's available, not just the ones used by the generated build file. To use the task, you must first declare it:</div>
これはGrailsの<a href="http://grails.org/doc/latest/api/grails/ant/GrailsTask.html" class="api">Antタスク</a>を既存のGrailsビルドシステムにフックします。タスクは、Grailsの生成されたビルドファイル以外の利用可能なスクリプトの実行を許可されています。タスクを使用するには、まずこう宣言します。
<div class="code"><pre>&#60;taskdef name=<span class="java&#45;quote">"grailsTask"</span>
         classname=<span class="java&#45;quote">"grails.ant.GrailsTask"</span>
         classpathref=<span class="java&#45;quote">"grails.classpath"</span>/&#62;</pre></div><p class="paragraph"/><div class="hidden-block">This raises the question: what should be in "grails.classpath"? The task itself is in the "grails-bootstrap" JAR artifact, so that needs to be on the classpath at least. You should also include the "groovy-all" JAR. With the task defined, you just need to use it! The following table shows you what attributes are available:</div>
ここで疑問が生じます。どれが"grails.classpath"でしょうか。タスク自体は"grails-bootstrap"JARの一部です。なので、少なくともクラスパス上にある必要があります。また、"groovy-all" JARを含める必要があります。タスク宣言ではこれらを仕使用する必要があります！次の表は、どんな属性が利用可能かを示しています。
<div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Attribute</th><th>Description</th><th>Required</th></tr><tr class="table-odd"><td>home</td><td>The location of the Grails installation directory to use for the build.</td><td>Yes, unless classpath is specified.</td></tr><tr class="table-even"><td>classpathref</td><td>Classpath to load Grails from. Must include the "grails-bootstrap" artifact and should include "grails-scripts".</td><td>Yes, unless <code>home</code> is set or you use a <code>classpath</code> element.</td></tr><tr class="table-odd"><td>script</td><td>The name of the Grails script to run, e.g. "TestApp".</td><td>Yes.</td></tr><tr class="table-even"><td>args</td><td>The arguments to pass to the script, e.g. "-unit -xml".</td><td>No. Defaults to "".</td></tr><tr class="table-odd"><td>environment</td><td>The Grails environment to run the script in.</td><td>No. Defaults to the script default.</td></tr><tr class="table-even"><td>includeRuntimeClasspath</td><td>Advanced setting: adds the application's runtime classpath to the build classpath if true.</td><td>No. Defaults to <code>true</code>.</td></tr></table>
</div><p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>属性</th><th>説明</th><th>必須</th></tr><tr class="table-odd"><td>home</td><td>ビルドに使用するGrailsのインストールディレクトリの場所。</td><td>パスが指定されている場合を除き必須です。</td></tr><tr class="table-even"><td>classpathref</td><td>Grailsがロードする基点となるクラスパス。"grails-bootstrap"を含めなければなりません。また、"grails-scripts"を含めるべきです。</td><td><code>home</code>が設定されていなかったり、<code>classpath</code>要素を使う場合は必須です。</td></tr><tr class="table-odd"><td>script</td><td>Grailsスクリプトの実行名。例えば "TestApp"。</td><td>必須です。</td></tr><tr class="table-even"><td>args</td><td>スクリプトに渡す引数。例えば "-unix -xml"。</td><td>必須ではありません。デフォルトは "" です。</td></tr><tr class="table-odd"><td>environment</td><td>スクリプト実行時のGrails環境変数。</td><td>必須ではありません。デフォルトはスクリプトのデフォルトになります。</td></tr><tr class="table-even"><td>includeRuntimeClasspath</td><td>高度な設定です。 trueの場合、アプリケーション実行時クラスパスをクラスパスに追加します。</td><td>必須ではありません。 デフォルトは<code>true</code>です。</td></tr></table><p class="paragraph"/><div class="hidden-block">The task also supports the following nested elements, all of which are standard Ant path structures:</div>
タスクネスト要素をサポートします。こられの全ては標準的なAntの構造となっています。<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>classpath</code> - The build classpath (used to load Gant and the Grails scripts).</li>
<li><code>compileClasspath</code> - Classpath used to compile the application's classes.</li>
<li><code>runtimeClasspath</code> - Classpath used to run the application and package the WAR. Typically includes everything in @compileClasspath.</li>
<li><code>testClasspath</code> - Classpath used to compile and run the tests. Typically includes everything in <code>runtimeClasspath</code>.</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>classpath</code> - ビルド時のクラスパス。（GantとGrailsスクリプトロード時に使用）</li>
<li><code>compileClasspath</code> - アプリケーションコンパイル時のクラスパス。</li>
<li><code>runtimeClasspath</code> - アプリケーションとWARパッケージ実行時のクラスパス。通常<code>compileClasspath</code>に全てが含まれます。</li>
<li><code>testClasspath</code> - コンパイル時と、テスト実行時のクラスパス。通常<code>runtimeClasspath</code>に全てが含まれます。</li>
</ul><p class="paragraph"/><div class="hidden-block">How you populate these paths is up to you. If you use the <code>home</code> attribute and put your own dependencies in the <code>lib</code> directory, then you don't even need to use any of them. For an example of their use, take a look at the generated Ant build file for new apps.</div>
どうやってパスを追加するかはあなた次第です。もし、<code>home</code>を利用しており、自分自身の依存関係を<code>lib</code>ディレクトリに設定している場合は、これらを使う必要はありません。こららの利用例としては、生成された新しいアプリケーションのAntビルドファイルを見てみましょう。<p class="paragraph"/><h3>Maven統合 <div class="hidden-block">Maven Integration</div></h3><p class="paragraph"/><div class="hidden-block">Grails provides integration with <a href="http://maven.apache.org" target="blank">Maven 2</a> with a Maven plugin. </div>
GrailsはMavenプラグインを介して Maven 2":http://maven.apache.org との統合を提供しています。<p class="paragraph"/><h4>準備 <div class="hidden-block">Preparation </div></h4><p class="paragraph"/><div class="hidden-block">In order to use the Maven plugin, all you need is Maven 2 installed and set up. This is because <strong class="bold">you no longer need to install Grails separately to use it with Maven!</strong></div>
Mavenプラグインを使用するにあたって必要な手順は、Maven2をインストールし設定するだけです。<strong class="bold">MavenでGrailsを使用する場合、使用方法によっては別途Grailsをインストールする必要がありません。</strong><p class="paragraph"/><blockquote class="note">
<div class="hidden-block">The Maven 2 integration for Grails has been designed and tested for Maven 2.0.9 and above. It will not work with earlier versions.</div>
GrailsのMaven2統合は、Maven 2.0.9以上を対象として設計・テストされています。それ以前のバージョンでは動作しません。
</blockquote><p class="paragraph"/><blockquote class="note">
<div class="hidden-block">The default mvn setup DOES NOT supply sufficient memory to run the Grails environment. We recommend that you add the following environment variable setting to prevent poor performance:</div>
既定のmvnコマンド設定ではGrails環境で実行するための十分なメモリを供給できません。パフォーマンス低下を防止するため、次の環境変数を追加することをお勧めします:<p class="paragraph"/><code>export MAVEN_OPTS="-Xmx512m -XX:MaxPermSize=256"</code>
</blockquote><p class="paragraph"/><h4>GrailsのMavenのプロジェクトを作成する <div class="hidden-block">Creating a Grails Maven Project </div></h4><p class="paragraph"/><div class="hidden-block">Using the <code>create-pom</code> command you can generate a valid Maven <code>pom.xml</code> file for any existing Grails project. The below presents an example:</div>
<code>create-pom</code> コマンドを使用することで、既存のGrailsプロジェクトに対して、Mavenの <code>pom.xml</code> を作成する事ができます。次のように実行します:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;app myapp
$ cd myapp
$ grails create&#45;pom com.mycompany</pre></div><p class="paragraph"/><div class="hidden-block">The <code>create-pom</code> command expects a group id as an argument. The name and the version are taken from the <code>application.properties</code> of the application. The Maven plugin will keep the version in the <code>pom.xml</code> in sync with the version in <code>application.properties</code>.</div>
<code>create-pom</code> コマンドには引数としてグループIDを指定することができます。バージョン番号は、アプリケーションの <code>application.properties</code> から取得します。 Mavenプラグインは、常に <code>pom.xml</code> のバージョンと <code>application.properties</code> のバージョンを同期します。<p class="paragraph"/><div class="hidden-block">The following standard Maven commands are then possible:</div>
以下のMaven標準コマンドが使用可能です:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>compile</code> - Compiles a Grails project</li>
<li><code>package</code> - Builds a WAR file from the Grails project.</li>
<li><code>install</code> - Builds a WAR file (or plugin zip/jar if a plugin) and installs it into your local Maven cache</li>
<li><code>test</code> - Runs the tests of a Grails project</li>
<li><code>clean</code> - Cleans the Grails project</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>compile</code> - Grailsプロジェクトをコンパイル</li>
<li><code>package</code> - GrailsプロジェクトのWARファイルをビルドする</li>
<li><code>install</code> - WARファイル(又はプラグインの場合はZIPかJAR)をビルドしてMavenローカルキャッシュにインストールします</li>
<li><code>test</code> - Grailsプロジェクトのテストを実行します</li>
<li><code>clean</code> - Grailsプロジェクトをクリーンします</li>
</ul><p class="paragraph"/><div class="hidden-block">Other standard Maven commands will likely work too.</div>
その他のMaven標準コマンドも動作します。<p class="paragraph"/><div class="hidden-block">You can also use some of the Grails commands that have been wrapped as Maven goals:</div>
さらに、一部のGrailsコマンドもMavenゴールとしてラップされています:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>grails:create-controller</code> - Calls the <a href="../ref/Command Line/create-controller.html" class="commandLine">create-controller</a> command</li>
<li><code>grails:create-domain-class</code> - Calls the <a href="../ref/Command Line/create-domain-class.html" class="commandLine">create-domain-class</a> command</li>
<li><code>grails:create-integration-test</code> - Calls the <a href="../ref/Command Line/create-integration-test.html" class="commandLine">create-integration-test</a> command</li>
<li><code>grails:create-pom</code> - Creates a new Maven POM for an existing Grails project</li>
<li><code>grails:create-script</code> - Calls the <a href="../ref/Command Line/create-script.html" class="commandLine">create-script</a> command</li>
<li><code>grails:create-service</code> - Calls the <a href="../ref/Command Line/create-service.html" class="commandLine">create-service</a> command</li>
<li><code>grails:create-taglib</code> - Calls the <a href="../ref/Command Line/create-tag-lib.html" class="commandLine">create-tag-lib</a> command</li>
<li><code>grails:create-unit-test</code> - Calls the <a href="../ref/Command Line/create-unit-test.html" class="commandLine">create-unit-test</a> command</li>
<li><code>grails:exec</code> - Executes an arbitrary Grails command line script</li>
<li><code>grails:generate-all</code> - Calls the <a href="../ref/Command Line/generate-all.html" class="commandLine">generate-all</a> command</li>
<li><code>grails:generate-controller</code>  - Calls the <a href="../ref/Command Line/generate-controller.html" class="commandLine">generate-controller</a> command</li>
<li><code>grails:generate-views</code> - Calls the <a href="../ref/Command Line/generate-views.html" class="commandLine">generate-views</a> command</li>
<li><code>grails:install-templates</code> - Calls the <a href="../ref/Command Line/install-templates.html" class="commandLine">install-templates</a> command</li>
<li><code>grails:list-plugins</code> - Calls the <a href="../ref/Command Line/list-plugins.html" class="commandLine">list-plugins</a> command</li>
<li><code>grails:package</code> - Calls the <a href="../ref/Command Line/package.html" class="commandLine">package</a> command</li>
<li><code>grails:run-app</code> - Calls the <a href="../ref/Command Line/run-app.html" class="commandLine">run-app</a> command</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>grails:create-controller</code> - <a href="../ref/Command Line/create-controller.html" class="commandLine">create-controller</a>コマンドを呼び出します</li>
<li><code>grails:create-domain-class</code> - <a href="../ref/Command Line/create-domain-class.html" class="commandLine">create-domain-class</a>コマンドを呼び出します</li>
<li><code>grails:create-integration-test</code> - <a href="../ref/Command Line/create-integration-test.html" class="commandLine">create-integration-test</a>コマンドを呼び出します</li>
<li><code>grails:create-pom</code> - 既存のGrailsプロジェクトにMaven POMを新規作成します</li>
<li><code>grails:create-script</code> - <a href="../ref/Command Line/create-script.html" class="commandLine">create-script</a>コマンドを呼び出します</li>
<li><code>grails:create-service</code> - <a href="../ref/Command Line/create-service.html" class="commandLine">create-service</a>コマンドを呼び出します</li>
<li><code>grails:create-taglib</code> - <a href="../ref/Command Line/create-tag-lib.html" class="commandLine">create-tag-lib</a>コマンドを呼び出します</li>
<li><code>grails:create-unit-test</code> - <a href="../ref/Command Line/create-unit-test.html" class="commandLine">create-unit-test</a>コマンドを呼び出します</li>
<li><code>grails:exec</code> - 任意のGrailsコマンドラインスクリプトを実行します</li>
<li><code>grails:generate-all</code> - <a href="../ref/Command Line/generate-all.html" class="commandLine">generate-all</a>コマンドを呼び出します</li>
<li><code>grails:generate-controller</code>  - <a href="../ref/Command Line/generate-controller.html" class="commandLine">generate-controller</a>コマンドを呼び出します</li>
<li><code>grails:generate-views</code> - <a href="../ref/Command Line/generate-views.html" class="commandLine">generate-views</a>コマンドを呼び出します</li>
<li><code>grails:install-templates</code> - <a href="../ref/Command Line/install-templates.html" class="commandLine">install-templates</a>コマンドを呼び出します</li>
<li><code>grails:list-plugins</code> - <a href="../ref/Command Line/list-plugins.html" class="commandLine">list-plugins</a>コマンドを呼び出します</li>
<li><code>grails:package</code> - <a href="../ref/Command Line/package.html" class="commandLine">package</a>コマンドを呼び出します</li>
<li><code>grails:run-app</code> - <a href="../ref/Command Line/run-app.html" class="commandLine">run-app</a>コマンドを呼び出します</li>
</ul><p class="paragraph"/><div class="hidden-block">For a complete, up to date list, run <code>mvn grails:help</code></div>
最新のリストを見るには、 <code>mvn grails:help</code> を実行してください。<p class="paragraph"/><h4>Archetypeを使用したGrails Mavenプロジェクトの作成 <div class="hidden-block">Creating a Grails Maven Project using the Archetype</div></h4><p class="paragraph"/><div class="hidden-block">You can create a Maven Grails project without having Grails installed, simply run the following command:</div>
Grailsのインストール無しでMaven Grailsプロジェクトの作成が可能です。次のコマンドを実行します:<p class="paragraph"/>
<div class="code"><pre>mvn archetype:generate &#45;DarchetypeGroupId=org.grails &#92;
    &#45;DarchetypeArtifactId=grails&#45;maven&#45;archetype &#92;
    &#45;DarchetypeVersion=2.1.0.RC1 &#92;
    &#45;DgroupId=example &#45;DartifactId=my&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">Choose whichever grails version, group ID and artifact ID you want for your application, but everything else must be as written. This will create a new Maven project with a POM and a couple of other files. What you won't see is anything that looks like a Grails application. So, the next step is to create the project structure that you're used to.</div>
アプリケーションで使用するGrailsバージョン、グループID、アーティファクトIDを指定するだけで必要な内容が書き込まれます。このコマンドで新規にMavenプロジェクトのPOMと他のファイルが生成されます。生成された内容を見るとGrailsアプリケーションで必要なものが見つかりません。次のステップでいつも通りの物が出来上がります。
<div class="hidden-block">But first, to set target JDK to Java 6, do that now. Open my-app/pom.xml and change </div>
はじめに、ターゲットJDKをJava 6にセットします。my-app/pom.xmlを開いて、次のように変更します:<p class="paragraph"/><div class="code"><pre>&#60;plugin&#62;
  &#60;artifactId&#62;maven&#45;compiler&#45;plugin&#60;/artifactId&#62;
  &#60;configuration&#62;
    &#60;source&#62;1.5&#60;/source&#62;
    &#60;target&#62;1.5&#60;/target&#62;
  &#60;/configuration&#62;
&#60;/plugin&#62;</pre></div>
<div class="hidden-block">to </div>
上記を、以下のように変更します。
<div class="code"><pre>&#60;plugin&#62;
  &#60;artifactId&#62;maven&#45;compiler&#45;plugin&#60;/artifactId&#62;
  &#60;configuration&#62;
    &#60;source&#62;1.6&#60;/source&#62;
    &#60;target&#62;1.6&#60;/target&#62;
  &#60;/configuration&#62;
&#60;/plugin&#62;</pre></div><p class="paragraph"/><div class="hidden-block">Then you're ready to create the project structure:</div>
これでプロジェクト構造を作成する環境が整いました。<p class="paragraph"/><div class="code"><pre>cd my&#45;app
mvn initialize</pre></div><p class="paragraph"/><h4>プラグイン依存を定義する <div class="hidden-block">Defining Plugin Dependencies</div></h4><p class="paragraph"/>All Grails plugins are published to a standard Maven repository located at <a href="http://repo.grails.org/grails/plugins/" target="blank"></a>. When using the Maven plugin for Grails you must ensure that this repository is declared in your list of remote repositories:
全ての公式Grailsプラグインは、<a href="http://repo.grails.org/grails/plugins/" target="blank"></a>のMavenリポジトリに公開されています。Mavenプラグインを使用する場合は、リモートリポジトリの定義にリポジトリが追加されている必要があります。<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;repository&#62;</span>
    <span class="xml&#45;tag">&#60;id&#62;</span>grails&#45;plugins<span class="xml&#45;tag">&#60;/id&#62;</span>
    <span class="xml&#45;tag">&#60;name&#62;</span>grails&#45;plugins<span class="xml&#45;tag">&#60;/name&#62;</span>
    <span class="xml&#45;tag">&#60;url&#62;</span>http://repo.grails.org/grails/plugins<span class="xml&#45;tag">&#60;/url&#62;</span>
<span class="xml&#45;tag">&#60;/repository&#62;</span></pre></div><p class="paragraph"/><div class="hidden-block">With this done you can declare plugin dependencies within your <code>pom.xml</code> file:</div>
この設定が完了したら、 <code>pom.xml</code> ファイルに、プラグイン依存定義を行います:<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;dependency&#62;</span>
    <span class="xml&#45;tag">&#60;groupId&#62;</span>org.grails.plugins<span class="xml&#45;tag">&#60;/groupId&#62;</span>
    <span class="xml&#45;tag">&#60;artifactId&#62;</span>database&#45;migration<span class="xml&#45;tag">&#60;/artifactId&#62;</span>
    <span class="xml&#45;tag">&#60;version&#62;</span>1.1<span class="xml&#45;tag">&#60;/version&#62;</span>
    <span class="xml&#45;tag">&#60;scope&#62;</span>runtime<span class="xml&#45;tag">&#60;/scope&#62;</span>
    <span class="xml&#45;tag">&#60;type&#62;</span>zip<span class="xml&#45;tag">&#60;/type&#62;</span>
<span class="xml&#45;tag">&#60;/dependency&#62;</span></pre></div><p class="paragraph"/><div class="hidden-block">Note that the <code>type</code> element must be set to <code>zip</code>.</div>
注意点としては、 <code>type</code> エレメントの定義は <code>zip</code> となる部分です。<p class="paragraph"/><h4>Grailsフォーク実行 <div class="hidden-block">Forked Grails Execution</div></h4><p class="paragraph"/>By default the Maven plugin will run Grails commands in-process, meaning that the Grails process occupies the same JVM as the Maven process. This can put strain on the Maven process for particularly large applications.<p class="paragraph"/>In this case it is recommended to use forked execution. Forked execution can be configured in the <code>configuration</code> element of the plugin:<p class="paragraph"/><div class="code"><pre>&#60;plugin&#62;
    &#60;groupId&#62;org.grails&#60;/groupId&#62;
    &#60;artifactId&#62;grails&#45;maven&#45;plugin&#60;/artifactId&#62;
    &#60;version&#62;$&#123;grails.version&#125;&#60;/version&#62;
    &#60;configuration&#62;
        &#60;!&#45;&#45; Whether <span class="java&#45;keyword">for</span> Fork a JVM to run Grails commands &#45;&#45;&#62;
        &#60;fork&#62;<span class="java&#45;keyword">true</span>&#60;/fork&#62;
    &#60;/configuration&#62;
    &#60;extensions&#62;<span class="java&#45;keyword">true</span>&#60;/extensions&#62;
&#60;/plugin&#62;</pre></div><p class="paragraph"/>With this configuration in place a separate JVM will be forked when running Grails commands. If you wish to debug the JVM that is forked you can add the <code>forkDebug</code> element:<p class="paragraph"/><div class="code"><pre><span class="xml&#45;comment">&#60;!&#45;&#45; Whether for Fork a JVM to run Grails commands &#45;&#45;&#62;</span>
    <span class="xml&#45;tag">&#60;fork&#62;</span>true<span class="xml&#45;tag">&#60;/fork&#62;</span>
    <span class="xml&#45;tag">&#60;forkDebug&#62;</span>true<span class="xml&#45;tag">&#60;/forkDebug&#62;</span></pre></div><p class="paragraph"/>If you need to customize the memory of the forked process the following elements are available:
<ul class="star">
<li><code>forkMaxMemory</code> - The maximum amount of heap (default 1024)</li>
<li><code>forkMinMemory</code> - The minimum amount of heap (default 512)</li>
<li><code>forkPermGen</code> - The amount of permgen (default 256)</li>
</ul><p class="paragraph"/><h4>Multi Module Maven Builds</h4><p class="paragraph"/>The Maven plugin can be used to power multi-module Grails builds. The easiest way to set this is up is with the <code>create-multi-project-build</code> command:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;app myapp
$ grails create&#45;plugin plugin1
$ grails create&#45;plugin plugin2
$ grails create&#45;multi&#45;project&#45;build org.mycompany:parent:1.0</pre></div><p class="paragraph"/>Running <code>mvn install</code> will build all projects together. To enable the 'grails' command to read the POMs you can modify <code>BuildConfig.groovy</code> to use the POM and resolve dependencies from your Maven local cache:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    &#8230;
    pom <span class="java&#45;keyword">true</span>
    repositories &#123;
        &#8230;
        mavenLocal()    
    &#125;
&#125;</pre></div><p class="paragraph"/>By reading the <code>pom.xml</code> file you can do an initial <code>mvn install</code> from the parent project to build all plugins and install them into your local maven cache and then <code>cd</code> into your project and use the regular <code>grails run-app</code> command to run your application. All previously built plugins will be resolved from the local Maven cache.<p class="paragraph"/><h4>Grailsコマンドをフェーズに追加する <div class="hidden-block">Adding Grails commands to phases </div></h4><p class="paragraph"/><div class="hidden-block">The standard POM created for you by Grails already attaches the appropriate core Grails commands to their corresponding build phases, so "compile" goes in the "compile" phase and "war" goes in the "package" phase. That doesn't help though when you want to attach a plugin's command to a particular phase. The classic example is functional tests. How do you make sure that your functional tests (using which ever plugin you have decided on) are run during the "integration-test" phase?</div>
Grailsが作成した標準のPOMファイルは、Grailsのビルドフェーズに対応したコアコマンドに適切に付属しています。"compile" は "compile"フェーズに、"war" は "package"フェーズに。特定のフェーズにプラグインコマンドを付属させたい場合には役立ちません。古典的な例は、ファンクショナルテストです。どうやってファンクショナルテストが統合テストフェーズの間に（あなた使用しているどんなプラグインを使った場合でも）実行されるのかを確かめるのでしょうか？<p class="paragraph"/><div class="hidden-block">Fear not: all things are possible. In this case, you can associate the command to a phase using an extra "execution" block:</div>
恐れる必要はありません、すべて可能です。この場合には、"execution"ブロックを追加してフェーズに関連付けることができます。
<div class="code"><pre><span class="xml&#45;tag">&#60;plugin&#62;</span>
    <span class="xml&#45;tag">&#60;groupId&#62;</span>org.grails<span class="xml&#45;tag">&#60;/groupId&#62;</span>
    <span class="xml&#45;tag">&#60;artifactId&#62;</span>grails&#45;maven&#45;plugin<span class="xml&#45;tag">&#60;/artifactId&#62;</span>
    <span class="xml&#45;tag">&#60;version&#62;</span>2.1.0.RC2<span class="xml&#45;tag">&#60;/version&#62;</span>
    <span class="xml&#45;tag">&#60;extensions&#62;</span>true<span class="xml&#45;tag">&#60;/extensions&#62;</span>
    <span class="xml&#45;tag">&#60;executions&#62;</span>
        <span class="xml&#45;tag">&#60;execution&#62;</span>
            <span class="xml&#45;tag">&#60;goals&#62;</span>
            &#8230;
            <span class="xml&#45;tag">&#60;/goals&#62;</span>
        <span class="xml&#45;tag">&#60;/execution&#62;</span>
        <span class="xml&#45;comment">&#60;!&#45;&#45; Add the <span class="xml&#45;quote">"functional&#45;tests"</span> command to the <span class="xml&#45;quote">"integration&#45;test"</span> phase &#45;&#45;&#62;</span>
        <span class="xml&#45;tag">&#60;execution&#62;</span>
            <span class="xml&#45;tag">&#60;id&#62;</span>functional&#45;tests<span class="xml&#45;tag">&#60;/id&#62;</span>
            <span class="xml&#45;tag">&#60;phase&#62;</span>integration&#45;test<span class="xml&#45;tag">&#60;/phase&#62;</span>
            <span class="xml&#45;tag">&#60;goals&#62;</span>
                <span class="xml&#45;tag">&#60;goal&#62;</span>exec<span class="xml&#45;tag">&#60;/goal&#62;</span>
            <span class="xml&#45;tag">&#60;/goals&#62;</span>
            <span class="xml&#45;tag">&#60;configuration&#62;</span>
                <span class="xml&#45;tag">&#60;command&#62;</span>functional&#45;tests<span class="xml&#45;tag">&#60;/command&#62;</span>
            <span class="xml&#45;tag">&#60;/configuration&#62;</span>
        <span class="xml&#45;tag">&#60;/execution&#62;</span>
    <span class="xml&#45;tag">&#60;/executions&#62;</span>
<span class="xml&#45;tag">&#60;/plugin&#62;</span></pre></div><p class="paragraph"/><div class="hidden-block">This also demonstrates the <code>grails:exec</code> goal, which can be used to run any Grails command. Simply pass the name of the command as the <code>command</code> system property, and optionally specify the arguments with the <code>args</code> property:</div>
またこれは <code>grails:exec</code> goal の実演にもなっています。Grailsのどんなコマンドも実行できるのです。単にコマンド名を渡す<code>command</code>システムプロパティと、オプションで引数を渡す<code>args</code>プロパティがあります:<p class="paragraph"/><div class="code"><pre>mvn grails:exec &#45;Dcommand=create&#45;webtest &#45;Dargs=Book</pre></div><p class="paragraph"/><h4>GrailsのMavenプロジェクトのデバッグ <div class="hidden-block">Debugging a Grails Maven Project </div></h4><p class="paragraph"/><div class="hidden-block">Maven can be launched in debug mode using the "mvnDebug" command. To launch your Grails application in debug, simply run:</div>
Mavenは "mvnDebug" コマンドを使用して、デバッグモードで起動することができます。デバッグでGrailsアプリケーションを起動するには、単純に以下のコマンドを実行します:<p class="paragraph"/><div class="code"><pre>mvnDebug grails:run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">The process will be suspended on startup and listening for a debugger on port 8000.</div>
プロセスは起動時に停止して、デバッガをポート8000上で待ち受けます。<p class="paragraph"/><div class="hidden-block">If you need more control of the debugger, this can be specified using the MAVEN_OPTS environment variable, and launch Maven with the default "mvn" command:</div>
デバッガのより詳細に制御する必要がある場合は、環境変数のMAVEN_OPTSを指定して標準の "mvn" コマンドを使用してMavenを起動させます。<p class="paragraph"/><div class="code"><pre>MAVEN_OPTS=<span class="java&#45;quote">"&#45;Xdebug &#45;Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005"</span>
mvn grails:run&#45;app</pre></div><p class="paragraph"/><h4>問題提起 <div class="hidden-block">Raising issues </div></h4><p class="paragraph"/><div class="hidden-block">If you come across any problems with the Maven integration, please raise a <a href="http://jira.grails.org/browse/MAVEN" target="blank">JIRA issue</a>.</div>
Maven統合を使っている際になにか問題に直面した場合、<a href="http://jira.grails.org/browse/MAVEN" target="blank">JIRA issue</a>に問題を提起して下さい。



<h2 id="wrapper">5.8 Grailsラッパー</h2>
The Grails Wrapper allows a Grails application to built without having to install Grails and configure a GRAILS_HOME environment variable.  The wrapper includes a small shell script and a couple of small bootstrap jar files that typically would be checked in to source code control along with the rest of the project.  The first time the wrapper is executed it will download and configure a Grails installation.  This wrapper makes it more simple to setup a development environment, configure CI and manage upgrades to future versions of Grails.  When the application is upgraded to the next version of Grails, the wrapper is updated and checked in to the source code control system and the next time developers update their workspace and run the wrapper, they will automatically be using the correct version of Grails.<p class="paragraph"/><h4>Generating The Wrapper</h4><p class="paragraph"/>The <a href="../ref/Command Line/wrapper.html" class="commandLine">wrapper</a> command can be used to generate the wrapper shell scripts and supporting jar files.  Execute the wrapper command at the top of an existing Grails project.<p class="paragraph"/><div class="code"><pre>grails wrapper</pre></div><p class="paragraph"/>In order to do this of course Grails must be installed and configured.  This is only a requirement for bootstrapping the wrapper.  Once the wrapper is generated there is no need to have a Grails installation configured in order to use the wrapper.<p class="paragraph"/>See the <a href="../ref/Command Line/wrapper.html" class="commandLine">wrapper</a> command documentation for details about command line arguments.<p class="paragraph"/>By default the wrapper command will generate a <code>grailsw</code> shell script and <code>grailsw.bat</code> batch file at the top of the project.  In addition to those, a <code>wrapper/</code> directory (the name of the directory is configurable via command line options) is generated which contains some support files which are necessary to run the wrapper.  All of these files should be checked into the source code control system along with the rest of the project.  This allows developers to check the project out of source code control and immediately start using the wrapper to execute Grails commands without having to install and configure Grails.<p class="paragraph"/><h4>Using The Wrapper</h4><p class="paragraph"/>The wrapper script accepts all of the same arguments as the normal grails command.<p class="paragraph"/><div class="code"><pre>./grailsw create&#45;domain&#45;class com.demo.Person
./grailsw run&#45;app
./grailsw test&#45;app unit:<p class="paragraph"/>etc...</pre></div>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/conf.html">&lt;&lt; <strong>4</strong><span>&#35373;&#23450;</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/GORM.html"><strong>6</strong><span>O/R&#12510;&#12483;&#12500;&#12531;&#12464; (GORM)</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Command%20Line/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/add-proxy.html">add-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/alias.html">alias</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/bootstrap.html">bootstrap</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/bug-report.html">bug-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clean.html">clean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clear-proxy.html">clear-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/compile.html">compile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/console.html">console</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-app.html">create-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-controller.html">create-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-domain-class.html">create-domain-class</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-filters.html">create-filters</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-hibernate-cfg-xml.html">create-hibernate-cfg-xml</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-integration-test.html">create-integration-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-multi-project-build.html">create-multi-project-build</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-plugin.html">create-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-pom.html">create-pom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-scaffold-controller.html">create-scaffold-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-script.html">create-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-service.html">create-service</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-tag-lib.html">create-tag-lib</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-unit-test.html">create-unit-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/dependency-report.html">dependency-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/doc.html">doc</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-all.html">generate-all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-controller.html">generate-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-views.html">generate-views</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/help.html">help</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/init.html">init</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-dependency.html">install-dependency</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-plugin.html">install-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-templates.html">install-templates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/integrate-with.html">integrate-with</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/interactive.html">interactive</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-plugin-updates.html">list-plugin-updates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-plugins.html">list-plugins</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/migrate-docs.html">migrate-docs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package-plugin.html">package-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package.html">package</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/plugin-info.html">plugin-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/refresh-dependencies.html">refresh-dependencies</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/remove-proxy.html">remove-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-app.html">run-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-script.html">run-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-war.html">run-war</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/schema-export.html">schema-export</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/set-proxy.html">set-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/set-version.html">set-version</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/shell.html">shell</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stats.html">stats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stop-app.html">stop-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/test-app.html">test-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/uninstall-plugin.html">uninstall-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/upgrade.html">upgrade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/war.html">war</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/wrapper.html">wrapper</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Constraints</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Constraints/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Constraints/attributes.html">attributes</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/bindable.html">bindable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/blank.html">blank</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/creditCard.html">creditCard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/email.html">email</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/inList.html">inList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/matches.html">matches</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/max.html">max</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/maxSize.html">maxSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/min.html">min</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/minSize.html">minSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/notEqual.html">notEqual</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/nullable.html">nullable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/range.html">range</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/scale.html">scale</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/size.html">size</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/unique.html">unique</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/url.html">url</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/validator.html">validator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/widget.html">widget</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Controllers</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Controllers/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Controllers/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/afterInterceptor.html">afterInterceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/allowedMethods.html">allowedMethods</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/beforeInterceptor.html">beforeInterceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/bindData.html">bindData</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/chain.html">chain</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/defaultAction.html">defaultAction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/forward.html">forward</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/grailsApplication.html">grailsApplication</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/namespace.html">namespace</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/redirect.html">redirect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/respond.html">respond</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/responseFormats.html">responseFormats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/session.html">session</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withForm.html">withForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withFormat.html">withFormat</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Database Mapping</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Database%20Mapping/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoImport.html">autoImport</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoTimestamp.html">autoTimestamp</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/batchSize.html">batchSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cascade.html">cascade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/column.html">column</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/comment.html">comment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/discriminator.html">discriminator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicInsert.html">dynamicInsert</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicUpdate.html">dynamicUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/fetch.html">fetch</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/id.html">id</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/ignoreNotFound.html">ignoreNotFound</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/indexColumn.html">indexColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/insertable.html">insertable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/joinTable.html">joinTable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/lazy.html">lazy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/order.html">order</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/sort.html">sort</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/table.html">table</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/type.html">type</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/updateable.html">updateable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/version.html">version</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain Classes</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Domain%20Classes/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/addTo.html">addTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/attach.html">attach</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/belongsTo.html">belongsTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/clearErrors.html">clearErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/constraints.html">constraints</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/count.html">count</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/countBy.html">countBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/createCriteria.html">createCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/delete.html">delete</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/discard.html">discard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/embedded.html">embedded</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeQuery.html">executeQuery</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeUpdate.html">executeUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/exists.html">exists</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/fetchMode.html">fetchMode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllBy.html">findAllBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllWhere.html">findAllWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findBy.html">findBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateBy.html">findOrCreateBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateWhere.html">findOrCreateWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveBy.html">findOrSaveBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveWhere.html">findOrSaveWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findWhere.html">findWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/first.html">first</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/get.html">get</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getAll.html">getAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getDirtyPropertyNames.html">getDirtyPropertyNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getPersistentValue.html">getPersistentValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasMany.html">hasMany</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasOne.html">hasOne</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/ident.html">ident</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/instanceOf.html">instanceOf</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isAttached.html">isAttached</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isDirty.html">isDirty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/last.html">last</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/list.html">list</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/listOrderBy.html">listOrderBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/load.html">load</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/lock.html">lock</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapWith.html">mapWith</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mappedBy.html">mappedBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapping.html">mapping</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/merge.html">merge</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/namedQueries.html">namedQueries</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/properties.html">properties</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/read.html">read</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/refresh.html">refresh</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/removeFrom.html">removeFrom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/save.html">save</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/transients.html">transients</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/validate.html">validate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/where.html">where</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/whereAny.html">whereAny</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withCriteria.html">withCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withNewSession.html">withNewSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withSession.html">withSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withTransaction.html">withTransaction</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Plug-ins</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Plug-ins/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/URL%20mappings.html">URL mappings</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/codecs.html">codecs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/controllers.html">controllers</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/core.html">core</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/dataSource.html">dataSource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/domainClasses.html">domainClasses</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/filters.html">filters</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/hibernate.html">hibernate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/i18n.html">i18n</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/logging.html">logging</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/scaffolding.html">scaffolding</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/services.html">services</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/servlets.html">servlets</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/web%20flow.html">web flow</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Services</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Services/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Services/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Services/transactional.html">transactional</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Servlet API</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tag Libraries</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/pageScope.html">pageScope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Tags/actionSubmit.html">actionSubmit</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/actionSubmitImage.html">actionSubmitImage</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/applyLayout.html">applyLayout</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/checkBox.html">checkBox</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/collect.html">collect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/cookie.html">cookie</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/country.html">country</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/countrySelect.html">countrySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/createLink.html">createLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/createLinkTo.html">createLinkTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/currencySelect.html">currencySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/datePicker.html">datePicker</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/each.html">each</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/eachError.html">eachError</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/else.html">else</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/elseif.html">elseif</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/external.html">external</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/field.html">field</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/fieldValue.html">fieldValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/form.html">form</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formRemote.html">formRemote</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatBoolean.html">formatBoolean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatDate.html">formatDate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatNumber.html">formatNumber</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/grep.html">grep</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/header.html">header</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/hiddenField.html">hiddenField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/if.html">if</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/img.html">img</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/include.html">include</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/isAvailable.html">isAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/isNotAvailable.html">isNotAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/javascript.html">javascript</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/join.html">join</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutBody.html">layoutBody</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutHead.html">layoutHead</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutTitle.html">layoutTitle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/link.html">link</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/localeSelect.html">localeSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/message.html">message</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/meta.html">meta</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/pageProperty.html">pageProperty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/paginate.html">paginate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/passwordField.html">passwordField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/radio.html">radio</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/radioGroup.html">radioGroup</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteField.html">remoteField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteFunction.html">remoteFunction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteLink.html">remoteLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/renderErrors.html">renderErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/select.html">select</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/set.html">set</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/setProvider.html">setProvider</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/sortableColumn.html">sortableColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/submitButton.html">submitButton</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/submitToRemote.html">submitToRemote</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/textArea.html">textArea</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/textField.html">textField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/timeZoneSelect.html">timeZoneSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/unless.html">unless</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/uploadForm.html">uploadForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/while.html">while</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically. <br/>[注意]このGrails日本語ドキュメントは、有志による翻訳というよりは意訳なドキュメントです。 Grails日本語ドキュメントに関するお問い合わせ、ドキュメントプロジェクトに参加したい等の問い合わせは。 twitter: @tyama 迄<br/>
    Sponsored by <a href="http://springsource.com">SpringSource</a> 
</div>

<script type="text/javascript" src="../../js/docs.js"></script>

</body>
</html>
