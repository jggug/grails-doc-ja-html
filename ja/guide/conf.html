<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4 &#35373;&#23450; 2.3.0.BUILD-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>&#12452;&#12531;&#12488;&#12525;&#12480;&#12463;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>&#12473;&#12479;&#12540;&#12488;&#12460;&#12452;&#12489;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/upgradingFromPreviousVersionsOfGrails.html"><strong>3</strong><span>Grails&#19979;&#20301;&#12496;&#12540;&#12472;&#12519;&#12531;&#12363;&#12425;&#12398;&#26356;&#26032;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/conf.html"><strong>4</strong><span>&#35373;&#23450;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/commandLine.html"><strong>5</strong><span>&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/GORM.html"><strong>6</strong><span>O/R&#12510;&#12483;&#12500;&#12531;&#12464; (GORM)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/theWebLayer.html"><strong>7</strong><span>Web&#12524;&#12452;&#12516;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/webServices.html"><strong>8</strong><span>Web&#12469;&#12540;&#12499;&#12473;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/async.html"><strong>9</strong><span>&#38750;&#21516;&#26399;&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/validation.html"><strong>10</strong><span>&#12496;&#12522;&#12487;&#12540;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/services.html"><strong>11</strong><span>&#12469;&#12540;&#12499;&#12473;&#12524;&#12452;&#12516;&#12540;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>12</strong><span>&#12486;&#12473;&#12488;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/i18n.html"><strong>13</strong><span>&#22269;&#38555;&#21270;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>14</strong><span>&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/plugins.html"><strong>15</strong><span>&#12503;&#12521;&#12464;&#12452;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/spring.html"><strong>16</strong><span>Grails&#12392;Spring</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/hibernate.html"><strong>17</strong><span>Grails&#12392;Hibernate</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/scaffolding.html"><strong>18</strong><span>&#12473;&#12459;&#12483;&#12501;&#12457;&#12523;&#12489;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/deployment.html"><strong>19</strong><span>&#12487;&#12503;&#12525;&#12452;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/contributing.html"><strong>20</strong><span>Grails&#12395;&#36002;&#29486;&#12377;&#12427;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/traslateReport.html"><strong>21</strong><span>&#32763;&#35379;&#12524;&#12509;&#12540;&#12488;</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../../img/grails.png" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://springsource.com" target="_blank"><img alt="SpringSource Logo" title="SpringSource - Weapons for the War on Java Complexity" src="../../img/springsource-logo.png" border="0"/></a></span>
        
    </div>
    <p>See the light - agile, industrial strength, rapid web application development made easy</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/upgradingFromPreviousVersionsOfGrails.html">&lt;&lt; <strong>3</strong><span>Grails&#19979;&#20301;&#12496;&#12540;&#12472;&#12519;&#12531;&#12363;&#12425;&#12398;&#26356;&#26032;</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/commandLine.html"><strong>5</strong><span>&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;</span> >></a></div>
                


                <div class="project">
                    <h1>4 &#35373;&#23450; - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Graeme Rocher, Peter Ledbrook, Marc Palmer, Jeff Brown, Luke Daley, Burt Beckwith</p>

                    <p><strong>Version:</strong> 2.3.0.BUILD-SNAPSHOT</p>

                    
                    <p><strong>Translated by:</strong> T.Yamamoto, Japanese Grails Doc Translating Team. Special thanks to NTT Software. <br/>【注意】このドキュメントの内容はスナップショットバージョンを元に*意訳*されているため、一部現行バージョンでは未対応の機能もあります。</p>
                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#config"><strong>4.1</strong><span>&#22522;&#26412;&#35373;&#23450;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#builtInOptions"><strong>4.1.1</strong><span>&#32068;&#36796;&#12458;&#12503;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#logging"><strong>4.1.2</strong><span>&#12525;&#12462;&#12531;&#12464;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#configGORM"><strong>4.1.3</strong><span>GORM</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#environments"><strong>4.2</strong><span>&#29872;&#22659;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#dataSource"><strong>4.3</strong><span>&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#dataSourcesAndEnvironments"><strong>4.3.1</strong><span>&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12392;&#29872;&#22659;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#JNDIDataSources"><strong>4.3.2</strong><span>JNDI &#12487;&#12540;&#12479;&#12477;&#12540;&#12473;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#automaticDatabaseMigration"><strong>4.3.3</strong><span>&#33258;&#21205;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12510;&#12452;&#12464;&#12524;&#12540;&#12471;&#12519;&#12531;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#transactionAwareDataSourceProxy"><strong>4.3.4</strong><span>Transaction-aware&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12503;&#12525;&#12461;&#12471;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#databaseConsole"><strong>4.3.5</strong><span>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12467;&#12531;&#12477;&#12540;&#12523;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#multipleDatasources"><strong>4.3.6</strong><span>&#35079;&#25968;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#configExternalized"><strong>4.4</strong><span>&#35373;&#23450;&#12398;&#22806;&#37096;&#21270;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#versioning"><strong>4.5</strong><span>&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#docengine"><strong>4.6</strong><span>&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12539;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#dependencyResolution"><strong>4.7</strong><span>&#20381;&#23384;&#24615;&#35299;&#27770;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#configurationsAndDependencies"><strong>4.7.1</strong><span>&#35373;&#23450;&#12392;&#20381;&#23384;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#dependencyRepositories"><strong>4.7.2</strong><span>&#20381;&#23384;&#31649;&#29702;&#12522;&#12509;&#12472;&#12488;&#12522;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#debuggingResolution"><strong>4.7.3</strong><span>&#20381;&#23384;&#35299;&#27770;&#12487;&#12496;&#12483;&#12464;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#inheritedDependencies"><strong>4.7.4</strong><span>&#20381;&#23384;&#12398;&#21463;&#12369;&#32153;&#12366;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#providingDefaultDependencies"><strong>4.7.5</strong><span>&#22522;&#26412;&#20381;&#23384;&#31649;&#29702;&#12398;&#25552;&#20379;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#changingDependencies"><strong>4.7.6</strong><span>&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12392;&#20182;&#12398;&#22793;&#21270;&#12377;&#12427;&#20381;&#23384;&#38306;&#20418;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#dependencyReports"><strong>4.7.7</strong><span>&#20381;&#23384;&#31649;&#29702;&#12524;&#12509;&#12540;&#12488;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#pluginJARDependencies"><strong>4.7.8</strong><span>&#12503;&#12521;&#12464;&#12452;&#12531;JAR&#20381;&#23384;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#mavenIntegration"><strong>4.7.9</strong><span>Maven&#32113;&#21512;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#mavendeploy"><strong>4.7.10</strong><span>Maven&#12522;&#12509;&#12472;&#12488;&#12522;&#12408;&#12398;&#12487;&#12503;&#12525;&#12452;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#pluginDependencies"><strong>4.7.11</strong><span>&#12503;&#12521;&#12464;&#12452;&#12531;&#20381;&#23384;&#31649;&#29702;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#dependencyResolutionCaching"><strong>4.7.12</strong><span>&#20381;&#23384;&#31649;&#29702;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;</span></a>
                    </div>
                    
                </div>
                

                
<a name="3. Configuration"><!-- Legacy link --></a>
<h1 id="conf">4 設定</h1>
<div class="hidden-block">It may seem odd that in a framework that embraces "convention-over-configuration" that we tackle this topic now. With Grails' default settings you can actually develop an application without doing any configuration whatsoever, as the quick start demonstrates, but it's important to learn where and how to override the conventions when you need to. Later sections of the user guide will mention what configuration settings you can use, but not how to set them. The assumption is that you have at least read the first section of this chapter!</div>
設定より規約(convention-over-configuration)を採用したフレームワークにおいて設定の説明をするのは、なんだかおかしく思えるかもしれません。
クイックスタートにあるように、Grailsのデフォルト設定を使用すると、実際には一切設定をすることなくアプリケーション開発を始めることができますが、必要な時に規約をどこでどのようにオーバーライドするのか学んでおくことは重要です。
これ以降のセクションでは、どんな設定が利用できるかについては言及しますが、どのように設定するかは言及しません。
というのは、少なくともこの章の最初のセクションは読むだろうと仮定しているからです！


<a name="3.1 Basic Configuration"><!-- Legacy link --></a>
<h2 id="config">4.1 基本設定</h2>
<div class="hidden-block">
For general configuration Grails provides two files:
</div>
Grailsでは一般的な設定を行うために2つのファイルを提供しています:
<ul class="star">
<li><code>grails-app/conf/BuildConfig.groovy</code></li>
<li><code>grails-app/conf/Config.groovy</code></li>
</ul><p class="paragraph"/><div class="hidden-block">
Both of them use Groovy's <a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a> syntax. The first, <code>BuildConfig.groovy</code>, is for settings that are used when running Grails commands, such as <code>compile</code>, <code>doc</code>, etc. The second file, <code>Config.groovy</code>, is for settings that are used when your application is running. This means that <code>Config.groovy</code> is packaged with your application, but <code>BuildConfig.groovy</code> is not. Don't worry if you're not clear on the distinction: the guide will tell you which file to put a particular setting in.
</div>
両方ともGroovyの<a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a>の構文を使用しています。
1つめの<code>BuildConfig.groovy</code>は<code>compile</code>や<code>doc</code>等のようなGrailsコマンドを実行するときに使われる設定です。
2つめの<code>Config.groovy</code>はアプリケーションを実行するときに使われる設定です。
つまり、<code>Config.groovy</code>はアプリケーションにパッケージされますが、<code>BuildConfig.groovy</code>はされません。
違いがよく分からなくても心配する必要はありません。
どの設定をどのファイルに書くべきかはこのガイドで示していきます。<p class="paragraph"/><div class="hidden-block">
The most basic syntax is similar to that of Java properties files with dot notation on the left-hand side:
</div>
左辺にJavaのプロパティファイルのような、ドット区切りの文があるものが最も基本的な構文となります:<p class="paragraph"/><div class="code"><pre>foo.bar.hello = <span class="java&#45;quote">"world"</span></pre></div><p class="paragraph"/><div class="hidden-block">
Note that the value is a Groovy string literal! Those quotes around 'world' are important. In fact, this highlights one of the advantages of the ConfigSlurper syntax over properties files: the property values can be any valid Groovy type, such as strings, integers, or arbitrary objects!
</div>
この値がGroovyの文字列リテラルであることに注意してください！
'world'を囲んでいる引用符が重要です。
実際に、これがプロパティファイルに対するConfigSlurperのシンタックスの有利な点の1つを際立たせています。
プロパティの値は文字列や整数、任意のオブジェクトのような、Groovyとして有効な型を取ることができるのです！<p class="paragraph"/><div class="hidden-block">
Things become more interesting when you have multiple settings with the same base. For example, you could have the two settings
</div>
同じベースで複数の設定をすると、もっとおもしろいことになります。
例えば、2つの設定を持つことができます。<p class="paragraph"/><div class="code"><pre>foo.bar.hello = <span class="java&#45;quote">"world"</span>
foo.bar.good = <span class="java&#45;quote">"bye"</span></pre></div><p class="paragraph"/><div class="hidden-block">
both of which have the same base: <code>foo.bar</code>. The above syntax works but it's quite repetitive and verbose. You can remove some of that verbosity by nesting properties at the dots:
</div>
両方とも<code>foo.bar</code>という同じベースを持っています。
上記の構文は動作しますが、繰り返しがかなり冗長です。
プロパティのドットの箇所でネストして、冗長さを無くすことができます:<p class="paragraph"/><div class="code"><pre>foo &#123;
    bar &#123;
        hello = <span class="java&#45;quote">"world"</span>
        good = <span class="java&#45;quote">"bye"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
or by only partially nesting them:
</div>
または、それらを一部だけネストできます:<p class="paragraph"/><div class="code"><pre>foo &#123;
    bar.hello = <span class="java&#45;quote">"world"</span>
    bar.good = <span class="java&#45;quote">"bye"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
However, you can't nest after using the dot notation. In other words, this <strong class="bold">won't</strong> work:
</div>
しかしながら、ドット区切りの後にネストを使うことはできません。
つまり、これは動作<strong class="bold">しません</strong>:<p class="paragraph"/><div class="code"><pre>// Won't work!
foo.bar &#123;
    hello = <span class="java&#45;quote">"world"</span>
    good = <span class="java&#45;quote">"bye"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
Within both <code>BuildConfig.groovy</code> and <code>Config.groovy</code> you can access several implicit variables from configuration values:
</div>
<code>BuildConfig.groovy</code>と<code>Config.groovy</code>内では、設定値からいくつかの暗黙の変数にアクセスできます:<p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Variable</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>userHome</td><td>Location of the home directory for the account that is running the Grails application.</td></tr><tr class="table-even"><td>grailsHome</td><td>Location of the directory where you installed Grails. If the <code>GRAILS_HOME</code> environment variable is set, it is used.</td></tr><tr class="table-odd"><td>appName</td><td>The application name as it appears in application.properties.</td></tr><tr class="table-even"><td>appVersion</td><td>The application version as it appears in application.properties.</td></tr></table>
</div>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">変数</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>userHome</td><td>Grailsアプリケーションを実行しているアカウントのホームディレクトリの場所です。</td></tr><tr class="table-even"><td>grailsHome</td><td>Grailsがインストールされているディレクトリの場所です。環境変数<code>GRAILS_HOME</code>が設定されているときはその値が格納されます。</td></tr><tr class="table-odd"><td>appName</td><td>application.properties内に表記しているアプリケーション名です。</td></tr><tr class="table-even"><td>appVersion</td><td>application.properties内に表記しているアプリケーションバージョンです。</td></tr></table><p class="paragraph"/><div class="hidden-block">
For example:
</div>
例:<p class="paragraph"/><div class="code"><pre>my.tmp.dir = <span class="java&#45;quote">"&#36;&#123;userHome&#125;/.grails/tmp"</span></pre></div><p class="paragraph"/><div class="hidden-block">
In addition, <code>BuildConfig.groovy</code> has
</div>
加えて、<code>BuildConfig.groovy</code>は以下の変数を持っています。<p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Variable</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>grailsVersion</td><td>The version of Grails used to build the project.</td></tr><tr class="table-even"><td>grailsSettings</td><td>An object containing various build related settings, such as <code>baseDir</code>. It's of type <a href="http://grails.org/doc/latest/api/grails/util/BuildSettings.html" class="api"><code>BuildSettings</code></a>.</td></tr></table>
</div>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">変数</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>grailsVersion</td><td>プロジェクトをビルドするために使われたGrailsのバージョンです。</td></tr><tr class="table-even"><td>grailsSettings</td><td><code>baseDir</code>のような、ビルドに関連する様々な設定を格納したオブジェクトです。型は<a href="http://grails.org/doc/latest/api/grails/util/BuildSettings.html" class="api"><code>BuildSettings</code></a>です。</td></tr></table><p class="paragraph"/><div class="hidden-block">
and <code>Config.groovy</code> has
</div>
また、<code>Config.groovy</code>は以下の変数を持っています。<p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Variable</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>grailsApplication</td><td>The <a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api"><code>GrailsApplication</code></a> instance.</td></tr></table>
</div>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">変数</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>grailsApplication</td><td><a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api"><code>GrailsApplication</code></a>のインスタンスです。</td></tr></table><p class="paragraph"/><div class="hidden-block">
Those are the basics of adding settings to the configuration file, but how do you access those settings from your own application? That depends on which config you want to read.
</div>
ここまでは設定ファイルに設定を追加するための基本についてでしたが、アプリケーション自身からどのようにそれらの設定にアクセスするのでしょうか？
それはどの設定を読みたいかによります。<p class="paragraph"/><div class="hidden-block">
The settings in <code>BuildConfig.groovy</code> are only available from <a href="../guide/single.html#creatingGantScripts" class="guide">command scripts</a> and can be accessed via the <code>grailsSettings.config</code> property like so:
</div>
<code>BuildConfig.groovy</code>内の設定は<a href="../guide/single.html#creatingGantScripts" class="guide">コマンドスクリプト</a>からしか取得できません。
以下のように<code>grailsSettings.config</code>プロパティを経由してアクセスできます:<p class="paragraph"/><div class="code"><pre>target(<span class="java&#45;keyword">default</span>: <span class="java&#45;quote">"Example command"</span>) &#123;
    def maxIterations = grailsSettings.config.myapp.iterations.max
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
If you want to read runtime configuration settings, i.e. those defined in <code>Config.groovy</code>, use the <a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api"><code>grailsApplication</code></a> object, which is available as a variable in controllers and tag libraries:
</div>
実行時の設定、すなわち<code>Config.groovy</code>に定義されたものを読みたい場合は、<a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api"><code>grailsApplication</code></a>オブジェクトを使って、コントローラやタグライブラリから変数として取得できます:<p class="paragraph"/><div class="code"><pre>class MyController &#123;
    def hello() &#123;
        def recipient = grailsApplication.config.foo.bar.hello<p class="paragraph"/>        render <span class="java&#45;quote">"Hello $&#123;recipient&#125;"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
and can be easily injected into services and other Grails artifacts:
</div>
また、サービスやその他のGrailsアーティファクトへ簡単に注入することができます:<p class="paragraph"/><div class="code"><pre>class MyService &#123;
    def grailsApplication<p class="paragraph"/>    <span class="java&#45;object">String</span> greeting() &#123;
        def recipient = grailsApplication.config.foo.bar.hello
        <span class="java&#45;keyword">return</span> <span class="java&#45;quote">"Hello $&#123;recipient&#125;"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
As you can see, when accessing configuration settings you use the same dot notation as when you define them.
</div>
ご覧の通り、設定を取得するときは、それらを定義したときと同じようにドット区切り表記を用います。


<a name="3.1.1 Built in options"><!-- Legacy link --></a>
<h2 id="builtInOptions">4.1.1 組込オプション</h2>
<div class="hidden-block">
Grails has a set of core settings that are worth knowing about. Their defaults are suitable for most projects, but it's important to understand what they do because you may need one or more of them later.
</div>
Grailsには知っておくべき基本設定の一式があります。
それらのデフォルトは多くのプロジェクトに適していますが、後で設定が必要になった時のために、それが何の設定であるか理解しておくことが重要です。<p class="paragraph"/><div class="hidden-block">
<h3>Build settings</h3>
</div>
<h3>ビルド設定</h3><p class="paragraph"/><div class="hidden-block">
Let's start with some important build settings. Although Grails requires JDK 6 when developing your applications, it is possible to deploy those applications to JDK 5 containers. Simply set the following in <code>BuildConfig.groovy</code>:
</div>
いくつかの重要なビルド設定から始めましょう。
アプリケーションを開発するとき、GrailsはJDK 6を必要としますが、それらのアプリケーションをJDK 5で動作しているコンテナへデプロイすることが可能です。
単純に<code>BuildConfig.groovy</code>内で次のように設定します:<p class="paragraph"/><div class="code"><pre>grails.project.source.level = <span class="java&#45;quote">"1.5"</span>
grails.project.target.level = <span class="java&#45;quote">"1.5"</span></pre></div><p class="paragraph"/><div class="hidden-block">
Note that source and target levels are different to the standard public version of JDKs, so JDK 5 -&#62; 1.5, JDK 6 -&#62; 1.6, and JDK 7 -&#62; 1.7.
</div>
ただし、ソースとターゲットレベルはJDKの標準公開バージョンと異なり、JDK 5は1.5、JDK 6は1.6、そしてJDK 7は1.7となるようにしてください。<p class="paragraph"/><div class="hidden-block">
In addition, Grails supports Servlet versions 2.5 and above but defaults to 2.5. If you wish to use newer features of the Servlet API (such as 3.0 async support) you should configure the <code>grails.servlet.version</code> setting appropriately:
</div>
加えて、Grailsはサーブレットバージョン2.5以上をサポートし、デフォルトは2.5です。
もし(3.0の非同期サポートのような)サーブレットAPIの新しい機能を使いたければ、<code>grails.servlet.version</code>を適切に設定します:<p class="paragraph"/><div class="code"><pre>grails.servlet.version = <span class="java&#45;quote">"3.0"</span></pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Runtime settings</h3>
</div>
<h3>ランタイム設定</h3><p class="paragraph"/><div class="hidden-block">
On the runtime front, i.e. <code>Config.groovy</code>, there are quite a few more core settings:
</div>
ランタイムフロント、すなわち<code>Config.groovy</code>には非常に多くのコアな設定があります:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>grails.config.locations</code>  - The location of properties files or addition Grails Config files that should be merged with main configuration. See the <a href="../guide/single.html#configExternalized" class="guide">section on externalised config</a>.</li>
<li><code>grails.enable.native2ascii</code> - Set this to false if you do not require native2ascii conversion of Grails i18n properties files (default: true).</li>
<li><code>grails.views.default.codec</code> - Sets the default encoding regime for GSPs - can be one of 'none', 'html', or 'base64' (default: 'none'). To reduce risk of XSS attacks, set this to 'html'.</li>
<li><code>grails.views.gsp.encoding</code> - The file encoding used for GSP source files (default: 'utf-8').</li>
<li><code>grails.mime.file.extensions</code> - Whether to use the file extension to dictate the mime type in <a href="../guide/single.html#contentNegotiation" class="guide">Content Negotiation</a> (default: true).</li>
<li><code>grails.mime.types</code> - A map of supported mime types used for <a href="../guide/single.html#contentNegotiation" class="guide">Content Negotiation</a>.</li>
<li><code>grails.serverURL</code> - A string specifying the server URL portion of absolute links, including server name e.g. grails.serverURL="http://my.yourportal.com". See <a href="../ref/Tags/createLink.html" class="Tags">createLink</a>. Also used by redirects.</li>
<li><code>grails.views.gsp.sitemesh.preprocess</code> - Determines whether SiteMesh preprocessing happens. Disabling this slows down page rendering, but if you need SiteMesh to parse the generated HTML from a GSP view then disabling it is the right option. Don't worry if you don't understand this advanced property: leave it set to true.</li>
<li><code>grails.reload.excludes</code> and <code>grails.reload.includes</code> - Configuring these directives determines the reload behavior for project specific source files. Each directive takes a list of strings that are the class names for project source files that should be excluded from reloading behavior or included accordingly when running the application in development with the <code>run-app</code> command. If the <code>grails.reload.includes</code> directive is configured, then only the classes in that list will be reloaded.</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>grails.config.locations</code>  - メイン設定にマージされるべきプロパティファイルや追加のGrails設定ファイルの場所です。<a href="../guide/single.html#configExternalized" class="guide">設定の外部化</a>セクションを参照してください。</li>
<li><code>grails.enable.native2ascii</code> - Grailsのi18nプロパティファイルのnative2ascii変換が必要ない場合はこれをfalseに設定します(デフォルト: true)。</li>
<li><code>grails.views.default.codec</code> - GSPのデフォルトエンコーディング形式を設定します。'none'、'html'、または'base64'のいずれかを設定できます(デフォルト: none)。XSS攻撃によるリスクを減らすためには、これを'html'に設定します。</li>
<li><code>grails.views.gsp.encoding</code> - GSPのソースファイルに使用するファイルエンコーディングです(デフォルト: 'utf-8')。</li>
<li><code>grails.mime.file.extensions</code> - <a href="../guide/single.html#contentNegotiation" class="guide">コンテントネゴシエーション</a>においてmime typeの判定にファイルの拡張子を使うかどうかです。(デフォルト: true)</li>
<li><code>grails.mime.types</code> - <a href="../guide/single.html#contentNegotiation" class="guide">コンテントネゴシエーション</a>で使う、サポートするMIMEタイプのマップです。</li>
<li><code>grails.serverURL</code> - 絶対リンクのサーバURLの部分を指定する文字列です。grails.serverURL="http://my.yourportal.com"のようにサーバ名を含みます。<a href="../ref/Tags/createLink.html" class="Tags">createLink</a>を参照してください。この設定はリダイレクトにも使われます。</li>
<li><code>grails.views.gsp.sitemesh.preprocess</code> - SiteMeshプリプロセッシングさせるかどうかを決めます。これを無効にするとページのレンダリングが遅くなりますが、GSPビューから生成されたHTMLをパースするためにSiteMeshが必要であれば、無効にすることは正しい選択です。この上級者向けのプロパティを理解していなくても気にする必要はありません。trueのままにしておきましょう。</li>
<li><code>grails.reload.excludes</code>と<code>grails.reload.includes</code> - このディレクティブの設定は、プロジェクト固有のソースファイルに対するリロードの挙動を決めます。それぞれのディレクティブは文字列のリストを取ります。この文字列は<code>run-app</code>コマンドを使って開発時にアプリケーションを動作させる際、リロード対象から除外または含めるべきプロジェクトのソースファイルのクラス名です。<code>grails.reload.includes</code>ディレクティブが設定されている場合、リストにあるクラスだけがリロードされます。</li>
</ul><p class="paragraph"/><div class="hidden-block">
<h3>War generation</h3>
</div>
<h3>Warの生成</h3><p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>grails.project.war.file</code> - Sets the name and location of the WAR file generated by the <a href="../ref/Command Line/war.html" class="commandLine">war</a> command</li>
<li><code>grails.war.dependencies</code> - A closure containing Ant builder syntax or a list of JAR filenames. Lets you customise what libaries are included in the WAR file.</li>
<li><code>grails.war.copyToWebApp</code> - A closure containing Ant builder syntax that is legal inside an Ant copy, for example "fileset()". Lets you control what gets included in the WAR file from the "web-app" directory.</li>
<li><code>grails.war.resources</code> - A closure containing Ant builder syntax. Allows the application to do any other work before building the final WAR file</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>grails.project.war.file</code> - <a href="../ref/Command Line/war.html" class="commandLine">war</a>コマンドによって生成されるWARファイルの名前と場所を設定します。</li>
<li><code>grails.war.dependencies</code> - Antビルダシンタックスを含むクロージャ、またはJARファイル名のリストです。WARファイルに含まれるライブラリをカスタマイズできます。</li>
<li><code>grails.war.copyToWebApp</code> - "fileset()"等のAntコピーで定義されているAntビルダシンタックスを含むクロージャです。WARファイルに含めるために、"web-app"ディレクトリから何を取得するかを制御できます。</li>
<li><code>grails.war.resources</code> - Antビルダシンタックスを含むクロージャです。最終的にWARファイルをビルドする前に、その他の作業を行うことをアプリケーションに許可します。</li>
</ul><p class="paragraph"/><div class="hidden-block">
For more information on using these options, see the section on <a href="../guide/single.html#deployment" class="guide">deployment</a>
</div>
これらのオプションの使用についての詳細は、<a href="../guide/single.html#deployment" class="guide">デプロイ</a>セクションを参照してください。


<a name="3.1.2 Logging"><!-- Legacy link --></a>
<h2 id="logging">4.1.2 ロギング</h2>
<div class="hidden-block">
<h3>The Basics</h3>
</div>
<h3>基本</h3><p class="paragraph"/><div class="hidden-block">
Grails uses its common configuration mechanism to provide the settings for the underlying <a href="http://logging.apache.org/log4j/1.2/index.html" target="blank">Log4j</a> log system, so all you have to do is add a <code>log4j</code> setting to the file <code>grails-app/conf/Config.groovy</code>.
</div>
GrailsはGrails自身の共通設定の仕組みを使って、裏にある<a href="http://logging.apache.org/log4j/1.2/index.html" target="blank">Log4j</a>ログシステムの設定を提供しています。
なので、<code>log4j</code>設定を<code>grails-app/conf/Config.groovy</code>ファイルに追加するだけです。<p class="paragraph"/><div class="hidden-block">
So what does this <code>log4j</code> setting look like? Here's a basic example:
</div>
では、この<code>log4j</code>の設定はどのように見えるでしょうか？
基本的な例を示します:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    error  'org.codehaus.groovy.grails.web.servlet',  //  controllers
           'org.codehaus.groovy.grails.web.pages' //  GSP<p class="paragraph"/>    warn   'org.apache.catalina'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
This says that for loggers whose name starts with 'org.codehaus.groovy.grails.web.servlet' or 'org.codehaus.groovy.grails.web.pages', only messages logged at 'error' level and above will be shown. Loggers with names starting with 'org.apache.catalina' logger only show messages at the 'warn' level and above. What does that mean? First of all, you have to understand how levels work.
</div>
このようにすると、名前が「org.codehaus.groovy.grails.web.servlet」または「org.codehaus.groovy.grails.web.pages」で始まるロガーについて、「error」レベル以上で記録されたメッセージのみが見えるようになります。
名前が「org.apache.catalina」で始まるロガーは「warn」レベル以上のメッセージのみが見えます。
どういう意味でしょうか？
まず、レベルがどのように動作するか理解しなければなりません。<p class="paragraph"/><div class="hidden-block">
<h4>Logging levels</h4>
</div>
<h4>ログレベル</h4><p class="paragraph"/><div class="hidden-block">
There are several standard logging levels, which are listed here in order of descending priority:
</div>
標準のロギングレベルにはいくつかの種類があり、優先順位の高い順に挙げます:
<ol>
<li>off</li>
<li>fatal</li>
<li>error</li>
<li>warn</li>
<li>info</li>
<li>debug</li>
<li>trace</li>
<li>all</li>
</ol><p class="paragraph"/><div class="hidden-block">
When you log a message, you implicitly give that message a level. For example, the method <code>log.error(msg)</code> will log a message at the 'error' level. Likewise, <code>log.debug(msg)</code> will log it at 'debug'. Each of the above levels apart from 'off' and 'all' have a corresponding log method of the same name.
</div>
メッセージを記録する時、そのメッセージにレベルを暗黙的に与えています。
例えば、<code>log.error(msg)</code>メソッドは「error」レベルでメッセージを記録します。
同様に、<code>log.debug(msg)</code>は「debug」で記録します。
「off」と「all」を除いた上記のレベルには、それぞれに対応する同名のログメソッドがあります。<p class="paragraph"/><div class="hidden-block">
The logging system uses that  <em class="italic">message</em>  level combined with the configuration for the logger (see next section) to determine whether the message gets written out. For example, if you have an 'org.example.domain' logger configured like so:
</div>
メッセージを出力するかどうかを決めるために、ログシステムはロガー(次のセクションを参照)の設定と併せて  <em class="italic">メッセージ</em>  レベルを使います。
例えば、「org.example.domain」ロガーはこのように設定されます:<p class="paragraph"/><div class="code"><pre>warn 'org.example.domain'</pre></div><p class="paragraph"/><div class="hidden-block">
then messages with a level of 'warn', 'error', or 'fatal' will be written out. Messages at other levels will be ignored.
</div>
そうすると、「warn」または「error」、「fatal」レベルのメッセージが出力されるようになります。
その他のレベルのメッセージは無視されます。<p class="paragraph"/><div class="hidden-block">
Before we go on to loggers, a quick note about those 'off' and 'all' levels. These are special in that they can only be used in the configuration; you can't log messages at these levels. So if you configure a logger with a level of 'off', then no messages will be written out. A level of 'all' means that you will see all messages. Simple.
</div>
ロガーに進む前に、「off」と「all」レベルについて簡単に説明します。
これらは設定の中でだけ使うことができ、これらのレベルでメッセージを記録することはできません。
そして、「off」レベルにロガーを設定すると、メッセージが全く出力されなくなります。
「all」レベルは全てのメッセージが見られるようになります。
単純ですね。<p class="paragraph"/><div class="hidden-block">
<h4>Loggers</h4>
</div>
<h4>ロガー</h4><p class="paragraph"/><div class="hidden-block">
Loggers are fundamental to the logging system, but they are a source of some confusion. For a start, what are they? Are they shared? How do you configure them?
</div>
ロガーはログシステムにとって必須ですが、混乱のもとです。
まず、ロガーとは何でしょうか？共有されるものでしょうか？どのように設定するのでしょうか？<p class="paragraph"/><div class="hidden-block">
A logger is the object you log messages to, so in the call <code>log.debug(msg)</code>, <code>log</code> is a logger instance (of type <a href="http://commons.apache.org/logging/apidocs/org/apache/commons/logging/Log.html" target="blank">Log</a>). These loggers are cached and uniquely identified by name, so if two separate classes use loggers with the same name, those loggers are actually the same instance.
</div>
ロガーはメッセージを出力するオブジェクトで、<code>log.debug(msg)</code>という呼び出しにおいては、<code>log</code>が(<a href="http://commons.apache.org/logging/apidocs/org/apache/commons/logging/Log.html" target="blank">Log</a>型の)ロガーインスタンスです。
これらのロガーはキャッシュされ、名前によって一意に識別されます。
2つの別々のクラスが同じ名前のロガーを使う場合、そのロガーは実際に同一のインスタンスとなります。<p class="paragraph"/><div class="hidden-block">
There are two main ways to get hold of a logger:
</div>
ロガーを取得するには2つの主な方法があります:<p class="paragraph"/><div class="hidden-block">
<ol>
<li>use the <code>log</code> instance injected into artifacts such as domain classes, controllers and services;</li>
<li>use the Commons Logging API directly.</li>
</ol><p class="paragraph"/></div>
<ol>
<li>ドメインクラスやコントローラ、サービスのようなアーティファクトに注入される<code>log</code>インスタンスを使う</li>
<li>Commons Logging APIを直接使う</li>
</ol><p class="paragraph"/><div class="hidden-block">
If you use the dynamic <code>log</code> property, then the name of the logger is 'grails.app.&#60;type&#62;.&#60;className&#62;', where <code>type</code> is the type of the artifact, for example 'controllers' or 'services', and <code>className</code> is the fully qualified name of the artifact. For example, if you have this service:
</div>
動的な<code>log</code>プロパティを使う場合、ロガーの名前は「grails.app.&#60;type&#62;.&#60;className&#62;」になります。
この<code>type</code>はアーティファクトの種類で、例えば「controllers」や「services」が入ります。
そして、<code>className</code>にはそのアーティファクトの完全修飾名が入ります。
例えば、このサービスの場合:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> org.example<p class="paragraph"/>class MyService &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
then the name of the logger will be 'grails.app.services.org.example.MyService'.
</div>
ロガーの名前は「grails.app.services.org.example.MyService」となります。<p class="paragraph"/><div class="hidden-block">
For other classes, the typical approach is to store a logger based on the class name in a constant static field:
</div>
他のクラスでは、定数フィールドにクラス名をベースとしたロガーを格納するのが典型的な方法です:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> org.other<p class="paragraph"/><span class="java&#45;keyword">import</span> org.apache.commons.logging.LogFactory<p class="paragraph"/>class MyClass &#123;
    <span class="java&#45;keyword">private</span> <span class="java&#45;keyword">static</span> <span class="java&#45;keyword">final</span> log = LogFactory.getLog(<span class="java&#45;keyword">this</span>)
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
This will create a logger with the name 'org.other.MyClass' - note the lack of a 'grails.app.' prefix since the class isn't an artifact. You can also pass a name to the <code>getLog()</code> method, such as "myLogger", but this is less common because the logging system treats names with dots ('.') in a special way.
</div>
これは「org.other.MyClass」という名前のロガーが生成されます。
アーティファクトではないクラスには「grails.app.」という接頭辞が付かないことに注意してください。
『myLogger』のような名前を<code>getLog()</code>メソッドに渡すこともできます。
しかし、ロギングシステムがドット(.)付きの名前を特別な方法で扱うため、これはあまり一般的ではありません。<p class="paragraph"/><div class="hidden-block">
<h4>Configuring loggers</h4>
</div>
ロガー設定<p class="paragraph"/><div class="hidden-block">
You have already seen how to configure loggers in Grails:
</div>
Grailsでロガーをどのように設定するか既に見たことがあるはずです:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    error  'org.codehaus.groovy.grails.web.servlet'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
This example configures loggers with names starting with 'org.codehaus.groovy.grails.web.servlet' to ignore any messages sent to them at a level of 'warn' or lower. But is there a logger with this name in the application? No. So why have a configuration for it? Because the above rule applies to any logger whose name  <em class="italic">begins with</em>  'org.codehaus.groovy.grails.web.servlet.' as well. For example, the rule applies to both the <code>org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet</code> class and the <code>org.codehaus.groovy.grails.web.servlet.mvc.GrailsWebRequest</code> one.
</div>
この例では、「org.codehaus.groovy.grails.web.servlet」で始まる名前のロガーに送られてくる、「warn」レベル以下のメッセージは無視するように設定しています。
しかし、アプリケーション上にこの名前のロガーは存在しているのでしょうか？答えはNoです。
ではなぜこんな設定をしているのでしょうか？
上記のルールは、「org.codehaus.groovy.grails.web.servlet.」で  <em class="italic">始まる</em>  名前のすべてのロガーにも適用されるからです。
例えば、このルールは<code>org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet</code>クラスと<code>org.codehaus.groovy.grails.web.servlet.mvc.GrailsWebRequest</code>クラスの両方に適用されます。<p class="paragraph"/><div class="hidden-block">
In other words, loggers are hierarchical. This makes configuring them by package much simpler than it would otherwise be.
</div>
言い換えると、ロガーは階層的です。
これはパッケージ毎に設定することを、他の設定に比べて非常にシンプルにします。<p class="paragraph"/><div class="hidden-block">
The most common things that you will want to capture log output from are your controllers, services, and other artifacts. Use the convention mentioned earlier to do that:  <em class="italic">grails.app.&#60;artifactType&#62;.&#60;className&#62;</em> . In particular the class name must be fully qualifed, i.e. with the package if there is one:
</div>
最も多いケースとして、ログ出力を取得したくなるのはコントローラやサービス、その他のアーティファクトです。
先述した「grails.app.&#60;artifactType&#62;.&#60;className&#62;」の規約を使いましょう。
特に、クラス名は完全修飾名にしなければなりません。
すなわち、パッケージが存在していれば含めるようにします:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    // Set level <span class="java&#45;keyword">for</span> all application artifacts
    info <span class="java&#45;quote">"grails.app"</span><p class="paragraph"/>    // Set <span class="java&#45;keyword">for</span> a specific controller in the <span class="java&#45;keyword">default</span> <span class="java&#45;keyword">package</span>
    debug <span class="java&#45;quote">"grails.app.controllers.YourController"</span><p class="paragraph"/>    // Set <span class="java&#45;keyword">for</span> a specific domain class
    debug <span class="java&#45;quote">"grails.app.domain.org.example.Book"</span><p class="paragraph"/>    // Set <span class="java&#45;keyword">for</span> all taglibs
    info <span class="java&#45;quote">"grails.app.taglib"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The standard artifact names used in the logging configuration are:
</div>
ロギング設定に使われる標準のアーティファクト名です:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>conf</code> - For anything under <code>grails-app/conf</code> such as <code>BootStrap.groovy</code> (but excluding filters)</li>
<li><code>filters</code> - For filters</li>
<li><code>taglib</code> - For tag libraries</li>
<li><code>services</code> - For service classes</li>
<li><code>controllers</code> - For controllers</li>
<li><code>domain</code> - For domain entities</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>conf</code> - <code>BootStrap.groovy</code>のような<code>grails-app/conf</code>配下にあるもの (フィルタは除く)</li>
<li><code>filters</code> - フィルタ</li>
<li><code>taglib</code> - タグライブラリ</li>
<li><code>services</code> - サービスクラス</li>
<li><code>controllers</code> - コントローラ</li>
<li><code>domain</code> - ドメインエンティティ</li>
</ul><p class="paragraph"/><div class="hidden-block">
Grails itself generates plenty of logging information and it can sometimes be helpful to see that. Here are some useful loggers from Grails internals that you can use, especially when tracking down problems with your application:
</div>
Grails自身がたくさんのロギング情報を生成しており、ときどき役立つことがあります。
特にアプリケーションの問題を追跡するときに利用可能な、Grails内部の便利なロガーを示します:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>org.codehaus.groovy.grails.commons</code> - Core artifact information such as class loading etc.</li>
<li><code>org.codehaus.groovy.grails.web</code> - Grails web request processing</li>
<li><code>org.codehaus.groovy.grails.web.mapping</code> - URL mapping debugging</li>
<li><code>org.codehaus.groovy.grails.plugins</code> - Log plugin activity</li>
<li><code>grails.spring</code> - See what Spring beans Grails and plugins are defining</li>
<li><code>org.springframework</code> - See what Spring is doing</li>
<li><code>org.hibernate</code> - See what Hibernate is doing</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>org.codehaus.groovy.grails.commons</code> - クラスローディング等のようなコアとなるアーティファクト情報</li>
<li><code>org.codehaus.groovy.grails.web</code> - GrailsのWebリクエスト処理</li>
<li><code>org.codehaus.groovy.grails.web.mapping</code> - URLマッピングのデバッグ</li>
<li><code>org.codehaus.groovy.grails.plugins</code> - プラグインの動作ログ</li>
<li><code>grails.spring</code> - GrailsとプラグインがどんなSpringビーンを定義しているか</li>
<li><code>org.springframework</code> - Springが何をするのか</li>
<li><code>org.hibernate</code> - Hibernateが何をするのか</li>
</ul><p class="paragraph"/><div class="hidden-block">
So far, we've only looked at explicit configuration of loggers. But what about all those loggers that  <em class="italic">don't</em>  have an explicit configuration? Are they simply ignored? The answer lies with the root logger.
</div>
ここまで、明示的なロガー設定についてだけ見てきました。
しかし、明示的な設定を  <em class="italic">持たない</em>  すべてのロガーについてはどうでしょうか？
単純に無視されるのでしょうか？
その答えはルートロガーにあります。<p class="paragraph"/><div class="hidden-block">
<h4>The Root Logger</h4>
</div>
<h4>ルートロガー</h4><p class="paragraph"/><div class="hidden-block">
All logger objects inherit their configuration from the root logger, so if no explicit configuration is provided for a given logger, then any messages that go to that logger are subject to the rules defined for the root logger. In other words, the root logger provides the default configuration for the logging system.
</div>
すべてのロガーオブジェクトは設定をルートロガーから継承しています。
よって、指定されたロガーに明示的な設定が与えられない場合、そのロガーへのメッセージはルートロガーで定義されたルールに従います。
言い換えると、ルートロガーはロギングシステムのデフォルト設定を提供します。<p class="paragraph"/><div class="hidden-block">
Grails automatically configures the root logger to only handle messages at 'error' level and above, and all the messages are directed to the console (stdout for those with a C background). You can customise this behaviour by specifying a 'root' section in your logging configuration like so:
</div>
Grailsは「error」レベル以上のメッセージだけを扱うように、ルートロガーを自動的に設定します。
そして、すべてのメッセージはコンソール(C言語的に言うと標準出力)に向けられます。
次のようにロギング設定に「root」セクションを定義することによって、挙動をカスタマイズできます:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    root &#123;
        info()
    &#125;
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The above example configures the root logger to log messages at 'info' level and above to the default console appender. You can also configure the root logger to log to one or more named appenders (which we'll talk more about shortly):
</div>
上記の例は「info」レベル以上のメッセージをデフォルトのコンソールアペンダに記録するよう、ルートロガーを設定します。
1つ以上の名前の付いたアペンダに対してロギングするように、ルートロガーを設定することもできます。(アペンダについてはすぐ後で詳しく説明します):<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        file name:'file', file:'/<span class="java&#45;keyword">var</span>/logs/mylog.log'
    &#125;
    root &#123;
        debug 'stdout', 'file'
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
In the above example, the root logger will log to two appenders - the default 'stdout' (console) appender and a custom 'file' appender.
</div>
上の例では、ルートロガーはデフォルトの<code>stdout</code>(コンソール)アペンダと自前の<code>file</code>アペンダの2つに対してログ出力します。<p class="paragraph"/><div class="hidden-block">
For power users there is an alternative syntax for configuring the root logger: the root <code>org.apache.log4j.Logger</code> instance is passed as an argument to the log4j closure. This lets you work with the logger directly:
</div>
パワーユーザ向けに、ルートロガーを設定するための別の構文があります。
log4jクロージャの引数としてルート<code>org.apache.log4j.Logger</code>インスタンスが渡されます。
これでロガーを直接操作できます:<p class="paragraph"/><div class="code"><pre>log4j = &#123; root &#45;&#62;
    root.level = org.apache.log4j.Level.DEBUG
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
For more information on what you can do with this <code>Logger</code> instance, refer to the Log4j API documentation.
</div>
この<code>Logger</code>インスタンスでできることについての詳細は、Log4jのAPIドキュメントを参照してください。<p class="paragraph"/><div class="hidden-block">
Those are the basics of logging pretty well covered and they are sufficient if you're happy to only send log messages to the console. But what if you want to send them to a file? How do you make sure that messages from a particular logger go to a file but not the console? These questions and more will be answered as we look into appenders.
</div>
ここまででロギングの基本をほぼカバーしています。
ログメッセージをコンソールに出力するだけでよいのであれば、これで十分でしょう。
しかし、ファイルに送りたい場合はどうでしょうか？
どのようにして、特定のロガーからのメッセージをコンソールではなくファイルに対して送るように設定するのでしょうか？
これらの疑問、またはそれ以上についても、アペンダを調べることで、答えが得られるでしょう。<p class="paragraph"/><div class="hidden-block">
<h3>Appenders</h3>
</div>
<h3>アペンダ</h3><p class="paragraph"/><div class="hidden-block">
Loggers are a useful mechanism for filtering messages, but they don't physically write the messages anywhere. That's the job of the appender, of which there are various types. For example, there is the default one that writes messages to the console, another that writes them to a file, and several others. You can even create your own appender implementations&#33;
</div>
ロガーはメッセージをフィルタリングするために役立つ仕組みです。
しかし、どこにもメッセージを物理的に出力できません。
それはアペンダの役割であり、アペンダには様々な種類があります。
例えば、メッセージをコンソールに出力するデフォルトアペンダや、ファイルに出力するアペンダなど色々あります。
自分でアペンダを実装することすらできます！<p class="paragraph"/><div class="hidden-block">
This diagram shows how they fit into the logging pipeline:
</div>
この図は、アペンダがどのようにロギングの流れに関わっているかを示しています:<p class="paragraph"/><img border="0" class="center" src="../../img/logging.png"></img><p class="paragraph"/><div class="hidden-block">
As you can see, a single logger may have several appenders attached to it. In a standard Grails configuration, the console appender named 'stdout' is attached to all loggers through the default root logger configuration. But that's the only one. Adding more appenders can be done within an 'appenders' block:
</div>
見ての通り、1つのロガーに色々なアペンダが繋がっています。
Grailsの標準の設定では、<code>stdout</code>という名前のコンソールアペンダが、ルートロガーの設定を通じて全てのロガーに繋がっています。
しかし、それ以外のアペンダはありません。
<code>appenders</code>ブロックで、さらにアペンダを追加することができます:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        rollingFile name: <span class="java&#45;quote">"myAppender"</span>,
                    maxFileSize: 1024,
                    file: <span class="java&#45;quote">"/tmp/logs/myApp.log"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The following appenders are available by default:
</div>
次のアペンダはデフォルトで利用できます:<p class="paragraph"/><div class="hidden-block">
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Class</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>jdbc</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/jdbc/JDBCAppender.html" target="blank">JDBCAppender</a></td><td>Logs to a JDBC connection.</td></tr><tr class="table-even"><td>console</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/ConsoleAppender.html" target="blank">ConsoleAppender</a></td><td>Logs to the console.</td></tr><tr class="table-odd"><td>file</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/FileAppender.html" target="blank">FileAppender</a></td><td>Logs to a single file.</td></tr><tr class="table-even"><td>rollingFile</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/RollingFileAppender.html" target="blank">RollingFileAppender</a></td><td>Logs to rolling files, for example a new file each day.</td></tr></table>
</div>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">名前</strong></th><th><strong class="bold">クラス</strong></th><th><strong class="bold">説明</strong></th></tr><tr class="table-odd"><td>jdbc</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/jdbc/JDBCAppender.html" target="blank">JDBCAppender</a></td><td>JDBC接続に記録します。</td></tr><tr class="table-even"><td>console</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/ConsoleAppender.html" target="blank">ConsoleAppender</a></td><td>コンソールに記録します。</td></tr><tr class="table-odd"><td>file</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/FileAppender.html" target="blank">FileAppender</a></td><td>単一ファイルに記録します。</td></tr><tr class="table-even"><td>rollingFile</td><td><a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/RollingFileAppender.html" target="blank">RollingFileAppender</a></td><td>ローテーションするファイルに記録します。例えば日次で新しいファイルにします。</td></tr></table><p class="paragraph"/><div class="hidden-block">
Each named argument passed to an appender maps to a property of the underlying <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Appender.html" target="blank">Appender</a> implementation. So the previous example sets the <code>name</code>, <code>maxFileSize</code> and <code>file</code> properties of the <code>RollingFileAppender</code> instance.
</div>
アペンダに渡されるそれぞれの名前付き引数は、<a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Appender.html" target="blank">Appender</a>実装の下にあるプロパティに対応しています。
つまり、前の例は<code>RollingFileAppender</code>のインスタンスの<code>name</code>と<code>maxFileSize</code>、<code>file</code>プロパティを設定しています。<p class="paragraph"/><div class="hidden-block">
You can have as many appenders as you like - just make sure that they all have unique names. You can even have multiple instances of the same appender type, for example several file appenders that log to different files.
</div>
好きなだけ多くのアペンダを持つことができます。
ただし、アペンダはすべてユニークな名前になるようにしてください。
例えば、異なるファイルに出力する複数のファイルアペンダのように、同じアペンダ型の複数のインスタンスを持つこともできます。<p class="paragraph"/><div class="hidden-block">
If you prefer to create the appender programmatically or if you want to use an appender implementation that's not available in the above syntax, simply declare an <code>appender</code> entry with an instance of the appender you want:
</div>
プログラム的にアペンダを生成したい場合や、上記の構文では利用できないアペンダの実装を使いたい場合は、必要なアペンダのインスタンスを指定して<code>appender</code>エントリを単純に宣言してください。<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> org.apache.log4j.&#42;<p class="paragraph"/>log4j = &#123;
    appenders &#123;
        appender <span class="java&#45;keyword">new</span> RollingFileAppender(
                name: <span class="java&#45;quote">"myAppender"</span>,
                maxFileSize: 1024,
                file: <span class="java&#45;quote">"/tmp/logs/myApp.log"</span>)
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
This approach can be used to configure <code>JMSAppender</code>, <code>SocketAppender</code>, <code>SMTPAppender</code>, and more.
</div>
このアプローチは<code>JMSAppender</code>、<code>SocketAppender</code>、<code>SMTPAppender</code>などを設定するために使われます。<p class="paragraph"/><div class="hidden-block">
Once you have declared your extra appenders, you can attach them to specific loggers by passing the name as a key to one of the log level methods from the previous section:
</div>
追加のアペンダを宣言した上で、前のセクションで紹介したログレベルのメソッドのひとつにキーとして名前を渡すことで、それを特定のロガーに対応づけることができます:<p class="paragraph"/><div class="code"><pre>error myAppender: <span class="java&#45;quote">"grails.app.controllers.BookController"</span></pre></div><p class="paragraph"/><div class="hidden-block">
This will ensure that the 'grails.app.controllers.BookController' logger sends log messages to 'myAppender' as well as any appenders configured for the root logger. To add more than one appender to the logger, then add them to the same level declaration:
</div>
この設定は、<code>grails.app.controllers.BookController</code>のロガーが、ルートロガーによって設定されたアペンダだけでなく、<code>myAppender</code>にもログメッセージを送るようにします。
1つ以上のアペンダをロガーに追加するには、同じレベルの宣言に追加します:<p class="paragraph"/><div class="code"><pre>error myAppender:      <span class="java&#45;quote">"grails.app.controllers.BookController"</span>,
      myFileAppender:  &#91;<span class="java&#45;quote">"grails.app.controllers.BookController"</span>,
                        <span class="java&#45;quote">"grails.app.services.BookService"</span>&#93;,
      rollingFile:     <span class="java&#45;quote">"grails.app.controllers.BookController"</span></pre></div><p class="paragraph"/><div class="hidden-block">
The above example also shows how you can configure more than one logger at a time for a given appender (<code>myFileAppender</code>) by using a list.
</div>
上の例は、特定のアペンダ(<code>myFileAppender</code>)に対して、リストを使ってどのように1つ以上のロガーを同時に設定するかについても示しています。<p class="paragraph"/><div class="hidden-block">
Be aware that you can only configure a single level for a logger, so if you tried this code:
</div>
ロガーにはひとつのレベルしか設定できないことに注意してください。
なので、次のコードを試すと:<p class="paragraph"/><div class="code"><pre>error myAppender:      <span class="java&#45;quote">"grails.app.controllers.BookController"</span>
debug myFileAppender:  <span class="java&#45;quote">"grails.app.controllers.BookController"</span>
fatal rollingFile:     <span class="java&#45;quote">"grails.app.controllers.BookController"</span></pre></div><p class="paragraph"/><div class="hidden-block">
you'd find that only 'fatal' level messages get logged for 'grails.app.controllers.BookController'. That's because the last level declared for a given logger wins. What you probably want to do is limit what level of messages an appender writes.
</div>
<code>grails.app.controllers.BookController</code>のために「fatal」レベルのメッセージだけを記録するというのがわかるでしょう。
特定のロガーに対して宣言した最後のレベルが勝つためです。
おそらく行いたいことは、アペンダが書き込むメッセージのレベルを制限することです。<p class="paragraph"/><div class="hidden-block">
An appender that is attached to a logger configured with the 'all' level will generate a lot of logging information. That may be fine in a file, but it makes working at the console difficult. So we configure the console appender to only write out messages at 'info' level or above:
</div>
「all」レベルで設定されたロガーに繋がれたアペンダは、多くのロギング情報を生成するでしょう。
ファイルに出力する分には良いのですが、コンソール上での作業が難しくなってしまいます。
そのため、「info」レベル以上のメッセージだけ出力するようにコンソールアペンダを設定します:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        console name: <span class="java&#45;quote">"stdout"</span>, threshold: org.apache.log4j.Level.INFO
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The key here is the <code>threshold</code> argument which determines the cut-off for log messages. This argument is available for all appenders, but do note that you currently have to specify a <code>Level</code> instance - a string such as "info" will not work.
</div>
ここでのポイントは<code>threshold</code>引数でログメッセージを遮断するか決めることです。
この引数は全てのアペンダで利用可能ですが、<code>Level</code>インスタンスを指定する必要があることに注意してください。
<code>info</code>のような文字列では動作しません。<p class="paragraph"/><div class="hidden-block">
<h3>Custom Layouts</h3>
</div>
<h3>カスタムレイアウト</h3><p class="paragraph"/><div class="hidden-block">
By default the Log4j DSL assumes that you want to use a <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html" target="blank">PatternLayout</a>. However, there are other layouts available including:
</div>
デフォルトでLog4jのDSLは、<a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html" target="blank">PatternLayout</a>を使うことを前提としています。
しかし、以下のような他のレイアウトも利用可能です:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>xml</code> - Create an XML log file</li>
<li><code>html</code> - Creates an HTML log file</li>
<li><code>simple</code> - A simple textual log</li>
<li><code>pattern</code> - A Pattern layout</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>xml</code> - XMLログファイルを作成</li>
<li><code>html</code> - HTMLログファイルを作成</li>
<li><code>simple</code> - シンプルなテキストログ</li>
<li><code>pattern</code> - パターンレイアウト</li>
</ul><p class="paragraph"/><div class="hidden-block">
You can specify custom patterns to an appender using the <code>layout</code> setting:
</div>
<code>layout</code>設定を使ってアペンダに独自のパターンを指定できます:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        console name: <span class="java&#45;quote">"customAppender"</span>,
                layout: pattern(conversionPattern: <span class="java&#45;quote">"%c&#123;2&#125; %m%n"</span>)
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
This also works for the built-in appender "stdout", which logs to the console:
</div>
これはコンソール出力用のビルトインアペンダである<code>stdout</code>でも動作します。<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        console name: <span class="java&#45;quote">"stdout"</span>,
                layout: pattern(conversionPattern: <span class="java&#45;quote">"%c&#123;2&#125; %m%n"</span>)
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Environment-specific configuration</h3>
</div>
<h3>環境ごとの設定</h3><p class="paragraph"/><div class="hidden-block">
Since the logging configuration is inside <code>Config.groovy</code>, you can put it inside an environment-specific block. However, there is a problem with this approach: you have to provide the full logging configuration each time you define the <code>log4j</code> setting. In other words, you cannot selectively override parts of the configuration - it's all or nothing.
</div>
ロギングの設定は<code>Config.groovy</code>内にあるため、環境ごとのブロックの内側にその設定一式を記述できます。
しかし、この方法には問題があります。
環境ごとに<code>log4j</code>の完全なロギング設定を記述しなければならないのです。
言い換えると、設定の特定の部分だけ都合良く上書きすることができません。
全部書くか、まったく書かないかのどちらかしかありません。<p class="paragraph"/><div class="hidden-block">
To get around this, the logging DSL provides its own environment blocks that you can put anywhere in the configuration:
</div>
これを回避するために、ロギングDSLは設定内のどこででも記述可能な独自の環境ブロックを提供しています:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        console name: <span class="java&#45;quote">"stdout"</span>,
                layout: pattern(conversionPattern: <span class="java&#45;quote">"%c&#123;2&#125; %m%n"</span>)<p class="paragraph"/>        environments &#123;
            production &#123;
                rollingFile name: <span class="java&#45;quote">"myAppender"</span>, maxFileSize: 1024,
                            file: <span class="java&#45;quote">"/tmp/logs/myApp.log"</span>
            &#125;
        &#125;
    &#125;<p class="paragraph"/>    root &#123;
        //&#8230;
    &#125;<p class="paragraph"/>    // other shared config
    info <span class="java&#45;quote">"grails.app.controller"</span><p class="paragraph"/>    environments &#123;
        production &#123;
            // Override previous setting <span class="java&#45;keyword">for</span> 'grails.app.controller'
            error <span class="java&#45;quote">"grails.app.controllers"</span>
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The one place you can't put an environment block is  <em class="italic">inside</em>  the <code>root</code> definition, but you can put the <code>root</code> definition inside an environment block.
</div>
唯一<code>root</code>定義  <em class="italic">内</em>  では環境ブロックが使用できませんが、代わりに環境ブロック内へ<code>root</code>定義を配置してください。<p class="paragraph"/><div class="hidden-block">
<h3>Full stacktraces</h3>
</div>
<h3>完全なスタックトレース</h3><p class="paragraph"/><div class="hidden-block">
When exceptions occur, there can be an awful lot of noise in the stacktrace from Java and Groovy internals. Grails filters these typically irrelevant details and restricts traces to non-core Grails/Groovy class packages.
</div>
例外が発生した場合、スタックトレース内にはJavaとGroovy内部から恐しいほどたくさんのノイズが発生しています。
Grailsはそれら一般的に重要でない詳細なスタックトレースをフィルタし、主要なGrails/Groovyクラスのパッケージでないスタックトレースを制限します。<p class="paragraph"/><div class="hidden-block">
When this happens, the full trace is always logged to the <code>StackTrace</code> logger, which by default writes its output to a file called <code>stacktrace.log</code>. As with other loggers though, you can change its behaviour in the configuration. For example if you prefer full stack traces to go to the console, add this entry:
</div>
この時、フルスタックトレースは常に<code>StackTrace</code>ロガーへ出力されます。
デフォルトは<code>stacktrace.log</code>と呼ばれるファイルへの出力です。
他のロガーと同じように、設定でこの振る舞いを変更できます。
例えば、フルスタックトレースをコンソールに出力したい場合、次の設定を追加します:<p class="paragraph"/><div class="code"><pre>error stdout: <span class="java&#45;quote">"StackTrace"</span></pre></div><p class="paragraph"/><div class="hidden-block">
This won't stop Grails from attempting to create the stacktrace.log file - it just redirects where stack traces are written to. An alternative approach is to change the location of the 'stacktrace' appender's file:
</div>
これによって、Grailsが<code>stacktrace.log</code>ファイルを作成しなくなるわけではありません。
単にスタックトレースが書かれるべき場所を変更するだけです。
別の方法は<code>stacktrace</code>アペンダのファイル場所を変更することです:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        rollingFile name: <span class="java&#45;quote">"stacktrace"</span>, maxFileSize: 1024,
                    file: <span class="java&#45;quote">"/<span class="java&#45;keyword">var</span>/tmp/logs/myApp&#45;stacktrace.log"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
or, if you don't want to the 'stacktrace' appender at all, configure it as a 'null' appender:
</div>
または、<code>stacktrace</code>アペンダがまったく必要なければ、<code>null</code>アペンダとして設定します:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        '<span class="java&#45;keyword">null</span>' name: <span class="java&#45;quote">"stacktrace"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
You can of course combine this with attaching the 'stdout' appender to the 'StackTrace' logger if you want all the output in the console.
</div>
もちろんすべてをコンソール上にだけ出力したければ、<code>StackTrace</code>ロガーの<code>stdout</code>アペンダへの接続と、この<code>null</code>アペンダの設定を組み合わせることができます。<p class="paragraph"/><div class="hidden-block">
Finally, you can completely disable stacktrace filtering by setting the <code>grails.full.stacktrace</code> VM property to <code>true</code>:
</div>
最後に、VMプロパティで<code>grails.full.stacktrace</code>を<code>true</code>に設定すると、スタックトレースフィルタを完全に無効にできます:<p class="paragraph"/><div class="code"><pre>grails &#45;Dgrails.full.stacktrace=<span class="java&#45;keyword">true</span> run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Masking Request Parameters From Stacktrace Logs</h3>
</div>
<h3>スタックトレースログからリクエストパラメータをマスクする</h3><p class="paragraph"/><div class="hidden-block">
When Grails logs a stacktrace, the log message may include the names and values of all of the request parameters for the current request.  To mask out the values of secure request parameters, specify the parameter names in the <code>grails.exceptionresolver.params.exclude</code> config property:
</div>
Grailsでスタックトレースのログを出力する場合、ログメッセージには現在のリクエストに対するリクエストパラメータのすべての名前と値が含まれるかもしれません。
セキュアなリクエストパラメータの値をマスクするには、<code>grails.exceptionresolver.params.exclude</code>の設定値にパラメータ名を指定します。<p class="paragraph"/><div class="code"><pre>grails.exceptionresolver.params.exclude = &#91;'password', 'creditCard'&#93;</pre></div><p class="paragraph"/><div class="hidden-block">
Request parameter logging may be turned off altogether by setting the <code>grails.exceptionresolver.logRequestParameters</code> config property to <code>false</code>.  The default value is <code>true</code> when the application is running in DEVELOPMENT mode and <code>false</code> for all other modes.
</div>
<code>grails.exceptionresolver.logRequestParameters</code>の設定値に<code>false</code>を設定すると、リクエストパラメータのロギングが完全に停止します。
デフォルト値は、<code>DEVELOPMENT</code>モードでアプリケーションを起動している場合は<code>true</code>、それ以外のモードでは<code>false</code>になります。<p class="paragraph"/><div class="code"><pre>grails.exceptionresolver.logRequestParameters=<span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Logger inheritance</h3>
</div>
<h3>ロガーの継承</h3><p class="paragraph"/><div class="hidden-block">
Earlier, we mentioned that all loggers inherit from the root logger and that loggers are hierarchical based on '.'-separated terms. What this means is that unless you override a parent setting, a logger retains the level and the appenders configured for that parent. So with this configuration:
</div>
以前に、全てのロガーはルートロガーを継承し、そしてロガーは「.」を区切りとした階層構造を持っていることを説明しました。
これは親の設定を上書きする場合を除き、ロガーは親のログレベルとアペンダの設定を保持することを意味します。
次の設定では:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        file name:'file', file:'/<span class="java&#45;keyword">var</span>/logs/mylog.log'
    &#125;
    root &#123;
        debug 'stdout', 'file'
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
all loggers in the application will have a level of 'debug' and will log to both the 'stdout' and 'file' appenders. What if you only want to log to 'stdout' for a particular logger? Change the 'additivity' for a logger in that case.
</div>
アプリケーション内のすべてのロガーが「debug」レベルに設定され、そして<code>stdout</code>アペンダと<code>file</code>アペンダの両方にログが出力されます。
もし特定のロガーに対してのみ<code>stdout</code>にログを出力したい場合はどうすればよいでしょう？このような場合は、ロガーに対して<code>additivity</code>を変更してください。<p class="paragraph"/><div class="hidden-block">
Additivity simply determines whether a logger inherits the configuration from its parent. If additivity is false, then its not inherited. The default for all loggers is true, i.e. they inherit the configuration. So how do you change this setting? Here's an example:
</div>
この追加設定はロガーが親から設定を継承するかを決めます。
もしこの設定が<code>false</code>の場合、親から設定を継承しません。
すべてのロガーのデフォルトは<code>true</code>で親の設定を継承します。
この設定をどのように変更するのでしょうか？
以下に例を示します:<p class="paragraph"/><div class="code"><pre>log4j = &#123;
    appenders &#123;
        &#8230;
    &#125;
    root &#123;
        &#8230;
    &#125;<p class="paragraph"/>    info additivity: <span class="java&#45;keyword">false</span>
         stdout: &#91;<span class="java&#45;quote">"grails.app.controllers.BookController"</span>,
                  <span class="java&#45;quote">"grails.app.services.BookService"</span>&#93;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
So when you specify a log level, add an 'additivity' named argument. Note that you when you specify the additivity, you must configure the loggers for a named appender. The following syntax will  <em class="italic">not</em>  work:
</div>
このように、ログレベルを指定する際に<code>additivity</code>という名前の引数を追加します。
<code>additivity</code>を指定するときは、名前付きのアペンダに対してロガーの設定をしなければなりません。
例えば以下の構文では正しく動作  <em class="italic">しません</em>  :<p class="paragraph"/><div class="code"><pre>info additivity: <span class="java&#45;keyword">false</span>, &#91;<span class="java&#45;quote">"grails.app.controllers.BookController"</span>,
                         <span class="java&#45;quote">"grails.app.services.BookService"</span>&#93;</pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Customizing stack trace printing and filtering</h3>
</div>
<h3>スタックトレースの表示とフィルタリングをカスタマイズする</h3><p class="paragraph"/><div class="hidden-block">
Stacktraces in general and those generated when using Groovy in particular are quite verbose and contain many stack frames that aren't interesting when diagnosing problems. So Grails uses a implementation of the <code>org.codehaus.groovy.grails.exceptions.StackTraceFilterer</code> interface to filter out irrelevant stack frames. To customize the approach used for filtering, implement that interface in a class in src/groovy or src/java and register it in <code>Config.groovy</code>:
</div>
Groovyを個別で使用した場合に生成されるスタックトレースは、とても冗長で問題解析に関係のないたくさんのスタックフレームが含まれています。
Grailsは無関係なスタックフレームを取り除くために<code>org.codehaus.groovy.grails.exceptions.StackTraceFilterer</code>インタフェースの実装を使用しています。このフィルタリング方法をカスタマイズするには、<code>src/groovy</code>または<code>src/java</code>にインタフェースの実装クラスを配置し、そのクラスを<code>Config.groovy</code>で登録します:<p class="paragraph"/><div class="code"><pre>grails.logging.stackTraceFiltererClass =
         'com.yourcompany.yourapp.MyStackTraceFilterer'</pre></div><p class="paragraph"/><div class="hidden-block">
In addition, Grails customizes the display of the filtered stacktrace to make the information more readable. To customize this, implement the <code>org.codehaus.groovy.grails.exceptions.StackTracePrinter</code> interface in a class in src/groovy or src/java and register it in <code>Config.groovy</code>:
</div>
さらに、Grailsはより情報が読みやすくなるようフィルタしたスタックトレースの表示を変更しています。
これをカスタマイズするには、<code>src/groovy</code>または<code>src/java</code>に<code>org.codehaus.groovy.grails.exceptions.StackTracePrinter</code>インタフェースの実装クラスを配置し、そのクラスを<code>Config.groovy</code>で登録します:<p class="paragraph"/><div class="code"><pre>grails.logging.stackTracePrinterClass =
         'com.yourcompany.yourapp.MyStackTracePrinter'</pre></div><p class="paragraph"/><div class="hidden-block">
Finally, to render error information in the error GSP, an HTML-generating printer implementation is needed. The default implementation is <code>org.codehaus.groovy.grails.web.errors.ErrorsViewStackTracePrinter</code> and it's registered as a Spring bean. To use your own implementation, either implement the <code>org.codehaus.groovy.grails.exceptions.StackTraceFilterer</code> directly or subclass <code>ErrorsViewStackTracePrinter</code> and register it in <code>grails-app/conf/spring/resources.groovy</code> as:
</div>
最後に、エラーGSP内にエラー情報をレンダリングするために、HTMLを生成し出力する実装が必要です。
デフォルト実装は<code>org.codehaus.groovy.grails.web.errors.ErrorsViewStackTracePrinter</code>で、これはSpringビーンとして登録されています。
独自の実装を使うには、<code>org.codehaus.groovy.grails.exceptions.StackTraceFilterer</code>を直接実装するか、<code>ErrorsViewStackTracePrinter</code>のサブクラスとして実装し、<code>grails-app/conf/spring/resources.groovy</code>でそれを登録します:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> com.yourcompany.yourapp.MyErrorsViewStackTracePrinter<p class="paragraph"/>beans = &#123;<p class="paragraph"/>    errorsViewStackTracePrinter(MyErrorsViewStackTracePrinter,
                                ref('grailsResourceLocator'))
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<h3>Alternative logging libraries</h3>
</div>
<h3>ロギングライブラリの変更</h3><p class="paragraph"/><div class="hidden-block">
By default, Grails uses Log4J to do its logging. For most people this is absolutely fine, and many users don't even care what logging library is used. But if you're not one of those and want to use an alternative, such as the <a href="http://download.oracle.com/javase/6/docs/api/index.html?java/util/logging/package-summary.html" target="blank">JDK logging package</a> or <a href="http://logback.qos.ch/" target="blank">logback</a>, you can do so by simply excluding a couple of dependencies from the global set and adding your own:
</div>
デフォルトでは、GrailsはロギングにLog4Jを使用します。
大抵のユーザにとってはLog4Jで十分で、ロギングライブラリに何が使われているかを気にしません。
しかし、もしそうではなく<a href="http://docs.oracle.com/javase/jp/6/api/java/util/logging/package-summary.html" target="blank">JDKのロギングパッケージ</a>や<a href="http://logback.qos.ch/" target="blank">logback</a>といった異なるロギングライブラリが使いたい場合、グローバルな設定からいくつかの依存関係を単に取り除き、必要な依存関係を追加します:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    inherits(<span class="java&#45;quote">"global"</span>) &#123;
        excludes <span class="java&#45;quote">"grails&#45;plugin&#45;logging"</span>, <span class="java&#45;quote">"log4j"</span>
    &#125;
    &#8230;
    dependencies &#123;
        runtime <span class="java&#45;quote">"ch.qos.logback:logback&#45;core:0.9.29"</span>
        &#8230;
    &#125;
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
If you do this, you will get unfiltered, standard Java stacktraces in your log files and you won't be able to use the logging configuration DSL that's just been described. Instead, you will have to use the standard configuration mechanism for the library you choose.
</div>
もしこの設定をした場合、ログファイル内ではフィルタされてない通常のJavaスタックトレースが出力され、そしてDSLで書かれたロギング設定が使用できなくなります。
代わりに、選択したライブラリで用意されている標準的な設定方法を使わなければなりません。


<a name="3.1.3 GORM"><!-- Legacy link --></a>
<h2 id="configGORM">4.1.3 GORM</h2>
<div class="hidden-block">Grails provides the following GORM configuration options:</div>
Grailsには、以下のようなGORMのオプション設定が用意されています。<p class="paragraph"/><div class="hidden-block">* <code>grails.gorm.failOnError</code>  - If set to <code>true</code>, causes the <code>save()</code> method on domain classes to throw a <code>grails.validation.ValidationException</code> if <a href="../guide/single.html#validation" class="guide">validation</a> fails during a save.  This option may also be assigned a list of Strings representing package names.  If the value is a list of Strings then the failOnError behavior will only be applied to domain classes in those packages (including sub-packages).  See the <a href="../ref/Domain Classes/save.html" class="domainClasses">save</a> method docs for more information.</div>
<ul class="star">
<li><code>grails.gorm.failOnError</code> = <code>true</code>に設定すると、保存中に<a href="../guide/single.html#validation" class="guide">バリデーション</a>が失敗した場合、ドメインクラスの<code>save()</code>メソッドは<code>grails.validation.ValidationException</code>をスローするようになります。</li>
</ul><p class="paragraph"/>このオプションには、パッケージ名のリストを指定することもできます。
値が文字列のリストである場合、failOnErrorの挙動は指定されたパッケージの(サブパッケージを含む)ドメインクラスのみに適用されます。
詳細については、<a href="../ref/Domain Classes/save.html" class="domainClasses">save</a>メソッドのドキュメントを参照してください。<p class="paragraph"/><div class="hidden-block">For example, to enable failOnError for all domain classes:</div>
たとえば、全てのドメインクラスでfailOnErrorを有効にするには:<p class="paragraph"/><div class="code"><pre>grails.gorm.failOnError=<span class="java&#45;keyword">true</span></pre></div><p class="paragraph"/><div class="hidden-block">and to enable failOnError for domain classes by package:</div>
また、パッケージごとにドメインクラスに対してfailOnErrorを有効にするには:<p class="paragraph"/><div class="code"><pre>grails.gorm.failOnError = &#91;'com.companyname.somepackage',
                           'com.companyname.someotherpackage'&#93;</pre></div><p class="paragraph"/><div class="hidden-block">* <code>grails.gorm.autoFlush</code> = If set to <code>true</code>, causes the <a href="../ref/Domain Classes/merge.html" class="domainClasses">merge</a>, <a href="../ref/Domain Classes/save.html" class="domainClasses">save</a> and <a href="../ref/Domain Classes/delete.html" class="domainClasses">delete</a> methods to flush the session, replacing the need to explicitly flush using <code>save(flush: true)</code>.</div>
<ul class="star">
<li><code>grails.gorm.autoFlush</code> = <code>true</code>にセットすると、<code>save(flush: true)</code>を使用して明示的にフラッシュする必要がなくなり、<a href="../ref/Domain Classes/merge.html" class="domainClasses">merge</a>、<a href="../ref/Domain Classes/save.html" class="domainClasses">save</a>、<a href="../ref/Domain Classes/delete.html" class="domainClasses">delete</a>メソッドはセッションをフラッシュするようになります。</li>
</ul><p class="paragraph"/>

<a name="3.2 Environments"><!-- Legacy link --></a>
<h2 id="environments">4.2 環境</h2>
<div class="hidden-block">h4. Per Environment Configuration</div>
<h4>環境ごとの設定</h4><p class="paragraph"/><div class="hidden-block">Grails supports the concept of per environment configuration. The <code>Config.groovy</code>, <code>DataSource.groovy</code>, and <code>BootStrap.groovy</code> files in the <code>grails-app/conf</code> directory can use per-environment configuration using the syntax provided by <a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a>. As an example consider the following default <code>DataSource</code> definition provided by Grails:</div>
Grailsは環境ごとで設定値を変更する概念をサポートしています。<code>grails-app/conf</code>ディレクトリ内の<code>Config.groovy</code>, <code>DataSource.groovy</code>,<code>BootStrap.groovy</code>ファイルは<a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a>によって提供される構文を使用して、環境ごとの設定を行うことができます。次の例では、Grailsによって与えられるデフォルトの<code>DataSource</code>定義について記述しています。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">false</span>
    driverClassName = <span class="java&#45;quote">"org.h2.Driver"</span>
    username = <span class="java&#45;quote">"sa"</span>
    password = <span class="java&#45;quote">""</span>
&#125;
environments &#123;
    development &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"create&#45;drop"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:devDb"</span>
        &#125;
    &#125;
    test &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:testDb"</span>
        &#125;
    &#125;
    production &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:prodDb"</span>
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Notice how the common configuration is provided at the top level and then an <code>environments</code> block specifies per environment settings for the <code>dbCreate</code> and <code>url</code> properties of the <code>DataSource</code>.</div>
一般的な構成として、共通的な設定はトップレベルで提供され、<code>environments</code>ブロックには<code>DataSource</code>の<code>dbCreate</code>や<code>url</code>プロパティを環境ごとに指定している様子がわかります。<p class="paragraph"/><div class="hidden-block">h4. Packaging and Running for Different Environments</div>
<h4>異なる環境のパッケージングと実行</h4><p class="paragraph"/><div class="hidden-block">Grails' <a href="../guide/single.html#commandLine" class="guide">command line</a> has built in capabilities to execute any command within the context of a specific environment. The format is:</div>
Grailsの<a href="../guide/single.html#commandLine" class="guide">コマンドライン</a>は、特定の環境下で、任意のコマンドを実行する機能が組み込まれています。そのフォーマットは以下となります。<p class="paragraph"/><div class="code"><pre>grails &#91;environment&#93; &#91;command name&#93;</pre></div><p class="paragraph"/><div class="hidden-block">In addition, there are 3 preset environments known to Grails: <code>dev</code>, <code>prod</code>, and <code>test</code> for <code>development</code>, <code>production</code> and <code>test</code>. For example to create a WAR for the <code>test</code> environment you wound run:</div>
加えて、Grailsでは<code>dev</code>,<code>prod</code>,<code>test</code>(<code>development</code>,<code>production</code>,<code>test</code>)といった、あらかじめ定義されている３つの環境が知られています。例えば、<code>test</code>環境でWARを作成するには、以下のように実行します。<p class="paragraph"/><div class="code"><pre>grails test war</pre></div><p class="paragraph"/><div class="hidden-block">To target other environments you can pass a <code>grails.env</code> variable to any command:</div>
上記の３つ以外の環境をターゲットにするには、任意のコマンドに<code>grails.env</code>変数を渡すことで実現できます。<p class="paragraph"/><div class="code"><pre>grails &#45;Dgrails.env=UAT run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">h4. Programmatic Environment Detection</div>
<h4>プログラマチック環境検出</h4><p class="paragraph"/><div class="hidden-block">Within your code, such as in a Gant script or a bootstrap class you can detect the environment using the <a href="http://grails.org/doc/latest/api/grails/util/Environment.html" class="api">Environment</a> class:</div>
Gantスクリプトやbootstrapクラスのコード内では<a href="http://grails.org/doc/latest/api/grails/util/Environment.html" class="api">Environment</a>クラスを使って、環境を検出できます。<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.util.Environment<p class="paragraph"/>...<p class="paragraph"/><span class="java&#45;keyword">switch</span> (Environment.current) &#123;
    <span class="java&#45;keyword">case</span> Environment.DEVELOPMENT:
        configureForDevelopment()
        <span class="java&#45;keyword">break</span>
    <span class="java&#45;keyword">case</span> Environment.PRODUCTION:
        configureForProduction()
        <span class="java&#45;keyword">break</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Per Environment Bootstrapping</div>
<h4>環境ごとのブートストラップ</h4><p class="paragraph"/><div class="hidden-block">It's often desirable to run code when your application starts up on a per-environment basis. To do so you can use the <code>grails-app/conf/BootStrap.groovy</code> file's support for per-environment execution:</div>
アプリケーションの起動時に、環境に基づいたコードを実行することが望ましい場合があります。そのためには、<code>grails-app/conf/BootStrap.groovy</code>ファイルの環境ごとの実行サポートを使います。<p class="paragraph"/><div class="code"><pre>def init = &#123; ServletContext ctx &#45;&#62;
    environments &#123;
        production &#123;
            ctx.setAttribute(<span class="java&#45;quote">"env"</span>, <span class="java&#45;quote">"prod"</span>)
        &#125;
        development &#123;
            ctx.setAttribute(<span class="java&#45;quote">"env"</span>, <span class="java&#45;quote">"dev"</span>)
        &#125;
    &#125;
    ctx.setAttribute(<span class="java&#45;quote">"foo"</span>, <span class="java&#45;quote">"bar"</span>)
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Generic Per Environment Execution</div>
ジェネリックな環境の実行<p class="paragraph"/><div class="hidden-block">The previous <code>BootStrap</code> example uses the <code>grails.util.Environment</code> class internally to execute. You can also use this class yourself to execute your own environment specific logic:</div>
以前の<code>BootStrap</code>の例では、内部的に<code>grails.util.Environment</code>クラスを使用して実行しています。独自の環境ロジックを実行するために、このクラスを以下のように使うこともできます。<p class="paragraph"/><div class="code"><pre>Environment.executeForCurrentEnvironment &#123;
    production &#123;
        // <span class="java&#45;keyword">do</span> something in production
    &#125;
    development &#123;
        // <span class="java&#45;keyword">do</span> something only in development
    &#125;
&#125;</pre></div>


<a name="3.3 The DataSource"><!-- Legacy link --></a>
<h2 id="dataSource">4.3 データソース</h2>
<div class="hidden-block">Since Grails is built on Java technology setting up a data source requires some knowledge of JDBC (the technology that doesn't stand for Java Database Connectivity).</div>
Grailsはデータソースの設定がJava技術で構築されているため、ある程度JDBC（Java DataBase Connectivityの略ではない）の知識が必要になります。<p class="paragraph"/><div class="hidden-block">
If you use a database other than H2 you need a JDBC driver. For example for MySQL you would need <a href="http://www.mysql.com/downloads/connector/j/" target="blank">Connector/J</a>
</div>
もしH2以外のデータベースを使うなら、JDBCドライバが必要になります。例えばMySQLであれば<a href="http://www.mysql.com/downloads/connector/j/" target="blank">Connector/J</a> が必要になります。<p class="paragraph"/><div class="hidden-block">Drivers typically come in the form of a JAR archive. It's best to use Ivy to resolve the jar if it's available in a Maven repository, for example you could add a dependency for the MySQL driver like this:</div>
ドライバは、一般的にはJAR形式で提供されています。もしIvyが使える場合は、Mavenリポジトリからjarを取得するのがよいでしょう。例えば、このようにMySQLの依存関係を加えることができます。<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    inherits(<span class="java&#45;quote">"global"</span>)
    log <span class="java&#45;quote">"warn"</span>
    repositories &#123;
        grailsPlugins()
        grailsHome()
        grailsCentral()
        mavenCentral()
    &#125;
    dependencies &#123;
        runtime 'mysql:mysql&#45;connector&#45;java:5.1.16'
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Note that the built-in <code>mavenCentral()</code> repository is included here since that's a reliable location for this library.</div>
<code>mavenCentral()</code>リポジトリが記述されているのは、このライブラリの取得元として信頼できる場所だからです。<p class="paragraph"/><div class="hidden-block">If you can't use Ivy then just put the JAR in your project's <code>lib</code> directory.</div>
Ivyが使えない場合は、プロジェクトの<code>lib</code>ディレクトリにJARを置いてください。<p class="paragraph"/><div class="hidden-block">Once you have the JAR resolved you need to get familiar Grails' DataSource descriptor file located at <code>grails-app/conf/DataSource.groovy</code>. This file contains the dataSource definition which includes the following settings:</div>
JARが解決できたら、<code>grails-app/conf/DataSource.groovy</code>ファイルで使用する、Grailsにおけるデータソースの定義方法を覚える必要があります。このファイルはデータソースの定義として、以下の項目を含んでいます。<p class="paragraph"/><div class="hidden-block">* <code>driverClassName</code> - The class name of the JDBC driver
<ul class="star">
<li><code>username</code> - The username used to establish a JDBC connection</li>
<li><code>password</code> - The password used to establish a JDBC connection</li>
<li><code>url</code> - The JDBC URL of the database</li>
<li><code>dbCreate</code> - Whether to auto-generate the database from the domain model - one of 'create-drop', 'create', 'update' or 'validate'</li>
<li><code>pooled</code> - Whether to use a pool of connections (defaults to true)</li>
<li><code>logSql</code> - Enable SQL logging to stdout</li>
<li><code>formatSql</code> - Format logged SQL</li>
<li><code>dialect</code> - A String or Class that represents the Hibernate dialect used to communicate with the database. See the <a href="http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/dialect/package-summary.html" target="blank">org.hibernate.dialect</a> package for available dialects.</li>
<li><code>readOnly</code> - If <code>true</code> makes the DataSource read-only, which results in the connection pool calling <code>setReadOnly(true)</code> on each <code>Connection</code></li>
<li><code>persistenceInterceptor</code> - The default datasource is automatically wired up to the persistence interceptor, other datasources are not wired up automatically unless this is set to <code>true</code></li>
<li><code>properties</code> - Extra properties to set on the DataSource bean. See the <a href="http://commons.apache.org/dbcp/api-1.2.2/org/apache/commons/dbcp/BasicDataSource.html" target="blank">Commons DBCP BasicDataSource</a> documentation.</div></li>
<li><code>driverClassName</code> - JDBCドライバのクラス名</li>
<li><code>username</code> - JDBCコネクションの接続に使用するユーザ名</li>
<li><code>password</code> - JDBCコネクションの接続に使用するパスワード</li>
<li><code>url</code> - データベースのJDBC URL</li>
<li><code>dbCreate</code> -  ドメインモデルからデータベースを自動で生成するか。'create-drop'、'create'、'update'、もしくは'validate'の中から1つ指定</li>
<li><code>pooled</code> - コネクションプールを使うか（デフォルトではtrue)</li>
<li><code>logSql</code> - 標準出力へのSQLロギングを有効にするか</li>
<li><code>formatSql</code> - SQLログをフォーマットするか</li>
<li><code>dialect</code> - データベースの通信に使用されるHibernateの方言を表す文字型かクラス。利用できる方言は<a href="http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/dialect/package-summary.html" target="blank">org.hibernate.dialect</a>パッケージを参照</li>
<li><code>readOnly</code> - <code>true</code>にした場合は読み取り専用のデータソースとなり、各<code>Connection</code>で<code>setReadOnly(true)</code>がコネクションプールより呼ばれる</li>
<li><code>persistenceInterceptor</code> - The default datasource is automatically wired up to the persistence interceptor, other datasources are not wired up automatically unless this is set to <code>true</code></li>
<li><code>properties</code> - DataSourceビーンを設定するための追加プロパティ。<a href="http://commons.apache.org/dbcp/api-1.2.2/org/apache/commons/dbcp/BasicDataSource.html" target="blank">Commons DBCP BasicDataSource</a>ドキュメント参照</li>
</ul><p class="paragraph"/><div class="hidden-block">A typical configuration for MySQL may be something like:</div>
MySQLの一般的な構成はおおむね以下のようになります。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">true</span>
    dbCreate = <span class="java&#45;quote">"update"</span>
    url = <span class="java&#45;quote">"jdbc:mysql://localhost/yourDB"</span>
    driverClassName = <span class="java&#45;quote">"com.mysql.jdbc.Driver"</span>
    dialect = org.hibernate.dialect.MySQL5InnoDBDialect
    username = <span class="java&#45;quote">"yourUser"</span>
    password = <span class="java&#45;quote">"yourPassword"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block"><blockquote class="warning">
When configuring the DataSource do not include the type or the def keyword before any of the configuration settings as Groovy will treat these as local variable definitions and they will not be processed. For example the following is invalid:
</blockquote></div>
データソースを設定する際、設定値の前には型やdefキーワードは含まれません。キーワードが含まれる場合はGroovyのローカル変数として処理されます。例えば、以下の記述では設定値としては無効になります。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    <span class="java&#45;object">boolean</span> pooled = <span class="java&#45;keyword">true</span> // type declaration results in ignored local variable
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Example of advanced configuration using extra properties:</div>
追加プロパティを使い、高度な設定を行う例は以下になります。
<div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">true</span>
    dbCreate = <span class="java&#45;quote">"update"</span>
    url = <span class="java&#45;quote">"jdbc:mysql://localhost/yourDB"</span>
    driverClassName = <span class="java&#45;quote">"com.mysql.jdbc.Driver"</span>
    dialect = org.hibernate.dialect.MySQL5InnoDBDialect
    username = <span class="java&#45;quote">"yourUser"</span>
    password = <span class="java&#45;quote">"yourPassword"</span>
    properties &#123;
        maxActive = 50
        maxIdle = 25
        minIdle = 5
        initialSize = 5
        minEvictableIdleTimeMillis = 60000
        timeBetweenEvictionRunsMillis = 60000
        maxWait = 10000
        validationQuery = <span class="java&#45;quote">"/&#42; ping &#42;/"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. More on dbCreate</div>
<h4>dbCreateの詳細</h4><p class="paragraph"/><div class="hidden-block">Hibernate can automatically create the database tables required for your domain model. You have some control over when and how it does this through the <code>dbCreate</code> property, which can take these values:</div>
Hibernateは自動的にドメインモデルに必要なデータベーステーブルを作成することができます。ユーザは<code>dbCreate</code>プロパティを使い、どのようにテーブルの作成を行うのかコントロールすることができ、以下のような値を取ることができます。<p class="paragraph"/><div class="hidden-block"><strong class="bold"> </strong>create* - Drops the existing schemaCreates the schema on startup, dropping existing tables, indexes, etc. first.
<ul class="star">
<li><strong class="bold">create-drop</strong> - Same as <strong class="bold">create</strong>, but also drops the tables when the application shuts down cleanly.</li>
<li><strong class="bold">update</strong> - Creates missing tables and indexes, and updates the current schema without dropping any tables or data. Note that this can't properly handle many schema changes like column renames (you're left with the old column containing the existing data).</li>
<li><strong class="bold">validate</strong> - Makes no changes to your database. Compares the configuration with the existing database schema and reports warnings.</li>
<li>any other value - does nothing</div></li>
<li><strong class="bold">create</strong> - 起動時に既存のテーブルやインデックスなどを削除することで、既存のスキーマを削除する</li>
<li><strong class="bold">create-drop</strong> - <strong class="bold">create</strong>と同じだが、アプリケーションを停止させた時にテーブルを削除する</li>
<li><strong class="bold">update</strong> - テーブルやデータなどを削除することなく、現在のスキーマを更新する形で存在しないテーブルやインデックスを作成する。これはカラムのリネームのような多くのスキーマ変更を正確に処理できないことに注意してください（既存のデータを含む、古い列が残ってしまう）</li>
<li><strong class="bold">validate</strong> - データベースは変更されません。既存のデータベースとスキーマを比較し、警告を出します</li>
<li>any other value - 何もしません</li>
</ul><p class="paragraph"/><div class="hidden-block">You can also remove the <code>dbCreate</code> setting completely, which is recommended once your schema is relatively stable and definitely when your application and database are deployed in production. Database changes are then managed through proper migrations, either with SQL scripts or a migration tool like <a href="http://www.liquibase.org/" target="blank">Liquibase</a> (the <a href="http://grails.org/plugin/database-migration" target="blank">Database Migration</a> plugin uses Liquibase and is tightly integrated with Grails and GORM).</div>
<code>dbCreate</code>設定を完全に削除することもできます。それは、アプリケーションとデータベースが本番環境にデプロイされている場合、スキーマが比較的安定してきた段階で推奨されています。データベースの変更は、SQLスクリプトや<a href="http://www.liquibase.org/" target="blank">Liquibase</a>のようなマイグレーションツールのどちらかで、適切にマイグレーションを管理してください。（<a href="http://grails.org/plugin/database-migration" target="blank">Database Migration</a> プラグインはLiquibaseを使用し、GrailsやGORMと統合されます。）


<a name="3.3.1 DataSources and Environments"><!-- Legacy link --></a>
<h2 id="dataSourcesAndEnvironments">4.3.1 データソースと環境</h2>
<div class="hidden-block">The previous example configuration assumes you want the same config for all environments: production, test, development etc.</div>
これまでの例ではすべての環境（production, test, developmentなど）で同じ設定を行うことを想定していました。<p class="paragraph"/><div class="hidden-block">Grails' DataSource definition is "environment aware", however, so you can do:</div>
Grailsのデータソース定義では環境ごとの設定が可能になっています。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">true</span>
    driverClassName = <span class="java&#45;quote">"com.mysql.jdbc.Driver"</span>
    dialect = org.hibernate.dialect.MySQL5InnoDBDialect
    // other common settings here
&#125;<p class="paragraph"/>environments &#123;
    production &#123;
        dataSource &#123;
            url = <span class="java&#45;quote">"jdbc:mysql://liveip.com/liveDb"</span>
            // other environment&#45;specific settings here
        &#125;
    &#125;
&#125;</pre></div>


<a name="3.3.2 JNDI DataSources"><!-- Legacy link --></a>
<h2 id="JNDIDataSources">4.3.2 JNDI データソース</h2>
<div class="hidden-block">h4. Referring to a JNDI DataSource</div>
<h4>JNDIデータソースの参照</h4><p class="paragraph"/><div class="hidden-block">Most Java EE containers supply <code>DataSource</code> instances via <a href="http://www.oracle.com/technetwork/java/jndi/index.html" target="blank">Java Naming and Directory Interface</a> (JNDI). Grails supports the definition of JNDI data sources as follows:</div>
ほとんどのJavaEEコンテナは<a href="http://www.oracle.com/technetwork/java/jndi/index.html" target="blank">Java Naming and Directory Interface</a> (JNDI)を通して、<code>DataSource</code>インスタンスを提供しています。Grailsでは次のようにJNDIデータソースの定義をサポートしています。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    jndiName = <span class="java&#45;quote">"java:comp/env/myDataSource"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The format on the JNDI name may vary from container to container, but the way you define the <code>DataSource</code> in Grails remains the same.</div>
JNDI名のフォーマットはコンテナによって変化するかもしれませんが、Grailsで<code>DataSource</code>を定義する方法は変わらず同じです。<p class="paragraph"/><div class="hidden-block">h4. Configuring a Development time JNDI resource</div>
<h4>開発時におけるJNDIリソースの設定</h4><p class="paragraph"/><div class="hidden-block">The way in which you configure JNDI data sources at development time is plugin dependent. Using the <a href="http://grails.org/plugin/tomcat" target="blank">Tomcat</a> plugin you can define JNDI resources using the <code>grails.naming.entries</code> setting in <code>grails-app/conf/Config.groovy</code>:</div>
開発時におけるJNDIデータソースの設定方法はプラグインに依存しています。Tomcatプラグインを使う場合は、<code>grails-app/conf/Config.groovy</code>内の<code>grails.naming.entries</code>の設定を使用することで、JNDIリソースを定義します。<p class="paragraph"/><div class="code"><pre>grails.naming.entries = &#91;
    <span class="java&#45;quote">"bean/MyBeanFactory"</span>: &#91;
        auth: <span class="java&#45;quote">"Container"</span>,
        type: <span class="java&#45;quote">"com.mycompany.MyBean"</span>,
        factory: <span class="java&#45;quote">"org.apache.naming.factory.BeanFactory"</span>,
        bar: <span class="java&#45;quote">"23"</span>
    &#93;,
    <span class="java&#45;quote">"jdbc/EmployeeDB"</span>: &#91;
        type: <span class="java&#45;quote">"javax.sql.DataSource"</span>, //required
        auth: <span class="java&#45;quote">"Container"</span>, // optional
        description: <span class="java&#45;quote">"Data source <span class="java&#45;keyword">for</span> Foo"</span>, //optional
        driverClassName: <span class="java&#45;quote">"org.h2.Driver"</span>,
        url: <span class="java&#45;quote">"jdbc:h2:mem:database"</span>,
        username: <span class="java&#45;quote">"dbusername"</span>,
        password: <span class="java&#45;quote">"dbpassword"</span>,
        maxActive: <span class="java&#45;quote">"8"</span>,
        maxIdle: <span class="java&#45;quote">"4"</span>
    &#93;,
    <span class="java&#45;quote">"mail/session"</span>: &#91;
        type: <span class="java&#45;quote">"javax.mail.Session,
        auth: "</span>Container<span class="java&#45;quote">",
        "</span>mail.smtp.host<span class="java&#45;quote">": "</span>localhost"
    &#93;
&#93;</pre></div>


<a name="3.3.3 Automatic Database Migration"><!-- Legacy link --></a>
<h2 id="automaticDatabaseMigration">4.3.3 自動データベースマイグレーション</h2>
<div class="hidden-block">The <code>dbCreate</code> property of the <code>DataSource</code> definition is important as it dictates what Grails should do at runtime with regards to automatically generating the database tables from <a href="../guide/single.html#GORM" class="guide">GORM</a> classes. The options are described in the <a href="../guide/single.html#dataSource" class="guide">DataSource</a> section:</div>
<code>DataSource</code>定義の<code>dbCreate</code>プロパティは、Grailsが実行時に<a href="../guide/single.html#GORM" class="guide">GORM</a>のクラスから自動的にデータベーステーブルを生成すべきかを指示する重要なプロパティです。以下のオプションは<a href="../guide/single.html#dataSource" class="guide">DataSource</a>のセクションで説明しています。
<ul class="star">
<li><code>create</code></li>
<li><code>create-drop</code></li>
<li><code>update</code></li>
<li><code>validate</code></li>
<li>no value</li>
</ul><p class="paragraph"/><div class="hidden-block">In <a href="../guide/single.html#environments" class="guide">development</a> mode <code>dbCreate</code> is by default set to "create-drop", but at some point in development (and certainly once you go to production) you'll need to stop dropping and re-creating the database every time you start up your server.</div>
<a href="../guide/single.html#environments" class="guide">development</a>モードでは、<code>dbCreate</code>はデフォルト値が"create-drop"で設定されていますが、開発中（もしくは本番以前）では、サーバの起動ごとにデータベースが削除、再作成されることが不都合な場合があります。<p class="paragraph"/><div class="hidden-block">It's tempting to switch to <code>update</code> so you retain existing data and only update the schema when your code changes, but Hibernate's update support is very conservative. It won't make any changes that could result in data loss, and doesn't detect renamed columns or tables, so you'll be left with the old one and will also have the new one.</div>
コードを変更したときに、既存データを維持したままスキーマだけを更新するため<code>update</code>に切り替えたくなりますが、Hibernateの更新サポートはあまりパッとしません。データの損失につながる可能性のある変更をすることはありませんが、テーブルやカラム名の変更を見つけることができないので、古いテーブルやカラムは残されて新しいものも持つことになります。<p class="paragraph"/><div class="hidden-block">Grails supports migrations via the <a href="http://grails.org/plugin/database-migration" target="blank">Database Migration</a> plugin which can be installed by declaring the plugin in <code>grails-app/conf/BuildConfig.groovy</code>:</div>
Grailsは<a href="http://grails.org/plugin/database-migration" target="blank">Database Migration</a> を介してマイグレーションをサポートしています。それは<code>grails-app/conf/BuildConfig.groovy</code>に宣言することでプラグインとしてインストールすることができます。:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    &#8230;
    plugins &#123;
        runtime ':database&#45;migration:1.3.1'
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The plugin uses <a href="http://www.liquibase.org/" target="blank">Liquibase</a> and and provides access to all of its functionality, and also has support for GORM (for example generating a change set by comparing your domain classes to a database).</div>
このプラグインは<a href="http://www.liquibase.org/" target="blank">Liquibase</a> を使用しており、Liquibaseすべての機能へのアクセスを提供しています。また、GORMのサポートも提供しています（例えばドメインクラスとデータベースを比較しチェンジセットを生成します）。


<a name="3.3.4 Transaction-aware DataSource Proxy"><!-- Legacy link --></a>
<h2 id="transactionAwareDataSourceProxy">4.3.4 Transaction-awareデータソースプロキシ</h2>
<div class="hidden-block">The actual <code>dataSource</code> bean is wrapped in a transaction-aware proxy so you will be given the connection that's being used by the current transaction or Hibernate <code>Session</code> if one is active.</div>
実際の<code>dataSource</code>ビーンはトランザクション対応のプロキシでラップされているため、それらが開始されているのであれば、現在のトランザクションやHibernateセッションで使われているコネクションが得られます。<p class="paragraph"/><div class="hidden-block">If this were not the case, then retrieving a connection from the <code>dataSource</code> would be a new connection, and you wouldn't be able to see changes that haven't been committed yet (assuming you have a sensible transaction isolation setting, e.g. <code>READ_COMMITTED</code> or better).</div>
もし<code>dataSource</code>としてトランザクション対応のプロキシを使っていなかったとしたら、その<code>dataSource</code>から取得したコネクションは新規コネクションであり、(<code>READ_COMMITTED</code>やより上位の適切なトランザクション分離が設定されていると仮定すれば)まだコミットされていない変更はみえないことでしょう。<p class="paragraph"/>　<div class="hidden-block">The "real" unproxied <code>dataSource</code> is still available to you if you need access to it; its bean name is <code>dataSourceUnproxied</code>.</div>
もしプロキシではない「素」の<code>dataSource</code>にアクセスする必要があるなら、<code>dataSourceUnproxied</code>というビーン名を使って利用できます。<p class="paragraph"/><div class="hidden-block">You can access this bean like any other Spring bean, i.e. using dependency injection:</div>
他のSpringビーンのように依存性注入を利用するなどして、ビーンにアクセスできます。<p class="paragraph"/><div class="code"><pre>class MyService &#123;<p class="paragraph"/>   def dataSourceUnproxied
   &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">or by pulling it from the <code>ApplicationContext</code>:</div>
または<code>ApplicationContext</code>から取得できます。<p class="paragraph"/><div class="code"><pre>def dataSourceUnproxied = ctx.dataSourceUnproxied</pre></div>


<a name="3.3.5 Database Console"><!-- Legacy link --></a>
<h2 id="databaseConsole">4.3.5 データベースコンソール</h2>
<div class="hidden-block">The <a href="http://h2database.com/html/quickstart.html#h2_console" target="blank">H2 database console</a> is a convenient feature of H2 that provides a web-based interface to any database that you have a JDBC driver for, and it's very useful to view the database you're developing against. It's especially useful when running against an in-memory database.</div>
<a href="http://h2database.com/html/quickstart.html#h2_console" target="blank">H2 database console</a>はJDBCドライバを持つデータベースにWebベースのインタフェースを与えるH2の便利な機能であり、開発中のデータベースの表示に非常に便利です。インメモリデータベースに対して実行している場合には特に便利です。<p class="paragraph"/><div class="hidden-block">You can access the console by navigating to <strong class="bold">http://localhost:8080/appname/dbconsole</strong> in a browser. The URI can be configured using the <code>grails.dbconsole.urlRoot</code> attribute in Config.groovy and defaults to <code>'/dbconsole'</code>.</div>
ブラウザで<strong class="bold">http://localhost:8080/appname/dbconsole</strong>にアクセスすることで、コンソールを表示することが出来ます。そのURIは、Config.groovy内の<code>grails.dbconsole.urlRoot</code>属性を使って設定することが可能で、デフォルト値は<code>'/dbconsole'</code>になっています。<p class="paragraph"/><div class="hidden-block">The console is enabled by default in development mode and can be disabled or enabled in other environments by using the <code>grails.dbconsole.enabled</code> attribute in Config.groovy. For example you could enable the console in production using</div>
コンソールは開発環境ではデフォルトで有効になっていて、Config.groovy内の<code>grails.dbconsole.enabled</code>属性を使って無効にしたり、他のモードで有効にすることができます。例えば、本番環境(production)でコンソールを有効にするには、次のように記述します。<p class="paragraph"/><div class="code"><pre>environments &#123;
    production &#123;
        grails.serverURL = <span class="java&#45;quote">"http://www.changeme.com"</span>
        grails.dbconsole.enabled = <span class="java&#45;keyword">true</span>
        grails.dbconsole.urlRoot = '/admin/dbconsole'
    &#125;
    development &#123;
        grails.serverURL = <span class="java&#45;quote">"http://localhost:8080/&#36;&#123;appName&#125;"</span>
    &#125;
    test &#123;
        grails.serverURL = <span class="java&#45;quote">"http://localhost:8080/&#36;&#123;appName&#125;"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block"><blockquote class="warning">
If you enable the console in production be sure to guard access to it using a trusted security framework.
</blockquote></div><p class="paragraph"/><blockquote class="warning">
本番環境でコンソールを有効にする場合は、信頼されるセキュリティフレームワークを使用して、コンソールへのアクセスを保護するようにしてください。
</blockquote><p class="paragraph"/><div class="hidden-block">h4. Configuration</div>
<h4>設定</h4><p class="paragraph"/><div class="hidden-block">By default the console is configured for an H2 database which will work with the default settings if you haven't configured an external database - you just need to change the JDBC URL to <code>jdbc:h2:mem:devDB</code>. If you've configured an external database (e.g. MySQL, Oracle, etc.) then you can use the Saved Settings dropdown to choose a settings template and fill in the url and username/password information from your DataSource.groovy.</div>
デフォルトのコンソールは、デフォルト設定のH2データベースに対して動作するよう設定されています。もし外部データベースの設定をしていた場合は、JDBCのURLを<code>jdbc:h2:mem:devDB</code>に変更してください。外部データベース（例えば、MySQL,Oracleなど）を設定する場合には、ドロップダウンのリストから設定テンプレートを選択し、DataSource.groovyからurlやユーザ名/パスワードを設定します。


<a name="3.3.6 Multiple Datasources"><!-- Legacy link --></a>
<h2 id="multipleDatasources">4.3.6 複数データソース</h2>
<div class="hidden-block">By default all domain classes share a single <code>DataSource</code> and a single database, but you have the option to partition your domain classes into two or more <code>DataSource</code>s.</div>
デフォルトではすべてのドメインクラスは単一のデータソースと単一のデータベースを共有していますが、ドメインクラスが共有するデータソースを複数に分割するオプションがあります。<p class="paragraph"/><div class="hidden-block">h4. Configuring Additional DataSources</div>
追加するデータソースの設定<p class="paragraph"/><div class="hidden-block">The default <code>DataSource</code> configuration in <code>grails-app/conf/DataSource.groovy</code> looks something like this:</div>
デフォルトの<code>DataSource</code>は<code>grails-app/conf/DataSource.groovy</code>で設定されており、次のようになっています。<p class="paragraph"/><div class="code"><pre>dataSource &#123;
    pooled = <span class="java&#45;keyword">true</span>
    driverClassName = <span class="java&#45;quote">"org.h2.Driver"</span>
    username = <span class="java&#45;quote">"sa"</span>
    password = <span class="java&#45;quote">""</span>
&#125;
hibernate &#123;
    cache.use_second_level_cache = <span class="java&#45;keyword">true</span>
    cache.use_query_cache = <span class="java&#45;keyword">true</span>
    cache.provider_class = 'net.sf.ehcache.hibernate.EhCacheProvider'
&#125;<p class="paragraph"/>environments &#123;
    development &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"create&#45;drop"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:devDb"</span>
        &#125;
    &#125;
    test &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:testDb"</span>
        &#125;
    &#125;
    production &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:prodDb"</span>
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">This configures a single <code>DataSource</code> with the Spring bean named <code>dataSource</code>. To configure extra <code>DataSource</code>s, add another <code>dataSource</code> block (at the top level, in an environment block, or both, just like the standard <code>DataSource</code> definition) with a custom name, separated by an underscore. For example, this configuration adds a second <code>DataSource</code>, using MySQL in the development environment and Oracle in production:</div>
<code>dataSource</code>と命名されたSpringビーンとして、単一の<code>DataSource</code>を設定しています。複数の<code>DataSource</code>を設定するには、アンダースコア(_)で区切られたカスタム名を持つ、別の<code>dataSource</code>ブロックを（トップレベルかenvironmentブロック、または両方へ標準の<code>DataSource</code>定義と同様に）追加します。例えば、以下の設定では開発環境にMySQLを、本番環境にOracleを2番目の<code>DataSource</code>として追加しています。<p class="paragraph"/><div class="code"><pre>environments &#123;
    development &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"create&#45;drop"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:devDb"</span>
        &#125;
        dataSource_lookup &#123;
            dialect = org.hibernate.dialect.MySQLInnoDBDialect
            driverClassName = 'com.mysql.jdbc.Driver'
            username = 'lookup'
            password = 'secret'
            url = 'jdbc:mysql://localhost/lookup'
            dbCreate = 'update'
        &#125;
    &#125;
    test &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:mem:testDb"</span>
        &#125;
    &#125;
    production &#123;
        dataSource &#123;
            dbCreate = <span class="java&#45;quote">"update"</span>
            url = <span class="java&#45;quote">"jdbc:h2:prodDb"</span>
        &#125;
        dataSource_lookup &#123;
            dialect = org.hibernate.dialect.Oracle10gDialect
            driverClassName = 'oracle.jdbc.driver.OracleDriver'
            username = 'lookup'
            password = 'secret'
            url = 'jdbc:oracle:thin:@localhost:1521:lookup'
            dbCreate = 'update'
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">You can use the same or different databases as long as they're supported by Hibernate.</div>
Hibernateによるサポートがある限り、同じデータベースでも異なるデータベースでも使用することができます。<p class="paragraph"/><div class="hidden-block">h4. Configuring Domain Classes</div>
<h4>ドメインクラスの設定</h4><p class="paragraph"/><div class="hidden-block">If a domain class has no <code>DataSource</code> configuration, it defaults to the standard <code>'dataSource'</code>. Set the <code>datasource</code> property in the <code>mapping</code> block to configure a non-default <code>DataSource</code>. For example, if you want to use the <code>ZipCode</code> domain to use the <code>'lookup'</code> <code>DataSource</code>, configure it like this;</div>
ドメインクラスで<code>DataSource</code>の設定をしていない場合、デフォルトで標準の<code>'dataSource'</code>が設定されます。デフォルトでない<code>DataSource</code>を設定をするには、<code>mapping</code>ブロック内で<code>datasource</code>プロパティを使用します。例えば、<code>ZipCode</code>ドメインで<code>'lookup'</code> <code>DataSource</code>を利用したい場合、以下のように設定します。<p class="paragraph"/><div class="code"><pre>class ZipCode &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> code<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      datasource 'lookup'
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">A domain class can also use two or more <code>DataSource</code>s. Use the <code>datasources</code> property with a list of names to configure more than one, for example:</div>
ドメインクラスは複数の<code>DataSource</code>を使用することもできます。複数の設定をするためには、<code>datasources</code>プロパティにデータソース名のリストを設定します。例えば：<p class="paragraph"/><div class="code"><pre>class ZipCode &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> code<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      datasources(&#91;'lookup', 'auditing'&#93;)
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">If a domain class uses the default <code>DataSource</code> and one or more others, use the special name <code>'DEFAULT'</code> to indicate the default <code>DataSource</code>:</div>
複数の<code>DataSource</code>を持ち、デフォルトの<code>DataSource</code>を使う場合はデフォルトの<code>DataSource</code>を指す特別な名前として<code>'DEFAULT'</code>を使うことができます。<p class="paragraph"/><div class="code"><pre>class ZipCode &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> code<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      datasources(&#91;'lookup', 'DEFAULT'&#93;)
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">If a domain class uses all configured <code>DataSource</code>s use the special value <code>'ALL'</code>:</div>
設定されたすべての<code>DataSource</code>を使う場合、特別な値として<code>'ALL'</code>を使います。<p class="paragraph"/><div class="code"><pre>class ZipCode &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> code<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      datasource 'ALL'
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Namespaces and GORM Methods</div>
<h4>名前空間とGORMメソッド</h4><p class="paragraph"/><div class="hidden-block">If a domain class uses more than one <code>DataSource</code> then you can use the namespace implied by each <code>DataSource</code> name to make GORM calls for a particular <code>DataSource</code>. For example, consider this class which uses two <code>DataSource</code>s:</div>
ドメインクラスが複数の<code>DataSource</code>を使用している場合、特定の<code>DataSource</code>へGORMの呼び出しを行うために、<code>DataSource</code>名ごとに暗黙で定義された名前空間を使うことが出来ます。例えば、2つの<code>DataSource</code>が使われているこのクラスを考えます。<p class="paragraph"/><div class="code"><pre>class ZipCode &#123;<p class="paragraph"/>   <span class="java&#45;object">String</span> code<p class="paragraph"/>   <span class="java&#45;keyword">static</span> mapping = &#123;
      datasources(&#91;'lookup', 'auditing'&#93;)
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The first <code>DataSource</code> specified is the default when not using an explicit namespace, so in this case we default to 'lookup'. But you can call GORM methods on the 'auditing' <code>DataSource</code> with the <code>DataSource</code> name, for example:</div>
明示的に名前空間を使用しない場合、先頭の<code>DataSource</code>がデフォルトとして使用されます。この場合デフォルトは'lookup'となります。また、以下のように'auditing' <code>DataSource</code>上でGORMメソッドを呼ぶことができます。<p class="paragraph"/><div class="code"><pre>def zipCode = ZipCode.auditing.get(42)
&#8230;
zipCode.auditing.save()</pre></div><p class="paragraph"/><div class="hidden-block">As you can see, you add the <code>DataSource</code> to the method call in both the static case and the instance case.</div>
ご覧のように、メソッド呼び出しが静的呼び出しの場合とインスタンス呼び出しの場合どちらでも<code>DataSource</code>を追加します。<p class="paragraph"/><div class="hidden-block">h4. Hibernate Mapped Domain Classes</div>
<h4>ドメインクラスのHibernateマップ</h4><p class="paragraph"/><div class="hidden-block">You can also partition annotated Java classes into separate datasources. Classes using the default datasource are registered in <code>grails-app/conf/hibernate/hibernate.cfg.xml</code>. To specify that an annotated class uses a non-default datasource, create a <code>hibernate.cfg.xml</code> file for that datasource with the file name prefixed with the datasource name.</div>
アノテーションの付いたJavaクラスを別々のデータソースに分割することもできます。デフォルトのデータソースを使用しているクラスは<code>grails-app/conf/hibernate/hibernate.cfg.xml</code>に登録されます。デフォルトでないデータソースを使う注釈されたクラスを明示するためには、ファイル名の先頭にデータソース名をつけた<code>hibernate.cfg.xml</code>を作成します。<p class="paragraph"/><div class="hidden-block">For example if the <code>Book</code> class is in the default datasource, you would register that in <code>grails-app/conf/hibernate/hibernate.cfg.xml</code>:</div>
例えば、<code>Book</code>クラスがデフォルトのデータソースを使う場合、<code>grails-app/conf/hibernate/hibernate.cfg.xml</code>に登録します。<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;?xml version='1.0' encoding='UTF&#45;8'?&#62;</span>
&#60;!DOCTYPE hibernate&#45;configuration PUBLIC
          '&#45;//Hibernate/Hibernate Configuration DTD 3.0//EN'
          'http://hibernate.sourceforge.net/hibernate&#45;configuration&#45;3.0.dtd'&#62;
<span class="xml&#45;tag">&#60;hibernate&#45;configuration&#62;</span>
   <span class="xml&#45;tag">&#60;session&#45;factory&#62;</span>
      <span class="xml&#45;tag">&#60;mapping class='org.example.Book'/&#62;</span>
   <span class="xml&#45;tag">&#60;/session&#45;factory&#62;</span>
<span class="xml&#45;tag">&#60;/hibernate&#45;configuration&#62;</span></pre></div><p class="paragraph"/><div class="hidden-block">and if the <code>Library</code> class is in the "ds2" datasource, you would register that in <code>grails-app/conf/hibernate/ds2_hibernate.cfg.xml</code>:</div>
<code>Library</code>クラスが"ds2"データソースを使う場合、<code>grails-app/conf/hibernate/ds2_hibernate.cfg.xml</code>に登録します。<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;?xml version='1.0' encoding='UTF&#45;8'?&#62;</span>
&#60;!DOCTYPE hibernate&#45;configuration PUBLIC
          '&#45;//Hibernate/Hibernate Configuration DTD 3.0//EN'
          'http://hibernate.sourceforge.net/hibernate&#45;configuration&#45;3.0.dtd'&#62;
<span class="xml&#45;tag">&#60;hibernate&#45;configuration&#62;</span>
   <span class="xml&#45;tag">&#60;session&#45;factory&#62;</span>
      <span class="xml&#45;tag">&#60;mapping class='org.example.Library'/&#62;</span>
   <span class="xml&#45;tag">&#60;/session&#45;factory&#62;</span>
<span class="xml&#45;tag">&#60;/hibernate&#45;configuration&#62;</span></pre></div><p class="paragraph"/><div class="hidden-block">The process is the same for classes mapped with hbm.xml files - just list them in the appropriate hibernate.cfg.xml file.</div>
hbm.xmlファイルでマッピングされたクラスについても方法は同じです。適切なhibernate.cfg.xmlファイルにリスト化するだけです。<p class="paragraph"/><div class="hidden-block">h4. Services</div>
<h4>サービス</h4><p class="paragraph"/><div class="hidden-block">Like Domain classes, by default Services use the default <code>DataSource</code> and <code>PlatformTransactionManager</code>. To configure a Service to use a different <code>DataSource</code>, use the static <code>datasource</code> property, for example:</div>
ドメインクラスと同様に、デフォルトのサービスによってデフォルト<code>DataSource</code>と<code>PlatformTransactionManager</code>が使用されます。サービスの設定で異なる<code>DataSource</code>を使用する場合は、staticな<code>datasource</code>プロパティを使用します。例えば：<p class="paragraph"/><div class="code"><pre>class DataService &#123;<p class="paragraph"/>   <span class="java&#45;keyword">static</span> datasource = 'lookup'<p class="paragraph"/>   void someMethod(...) &#123;
      &#8230;
   &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">A transactional service can only use a single <code>DataSource</code>, so be sure to only make changes for domain classes whose <code>DataSource</code> is the same as the Service.</div>
トランザクション管理されたサービスでは単一のデータソースしか扱えないため、<code>DataSource</code>がサービスと同じドメインクラスだけ値を変更できることに注意してください。<p class="paragraph"/><div class="hidden-block">Note that the datasource specified in a service has no bearing on which datasources are used for domain classes; that's determined by their declared datasources in the domain classes themselves. It's used to declare which transaction manager to use.</div>
サービスで指定されたデータソースがドメインクラスで利用されるかは、データソースがドメインクラスで利用されるかとは関係ないため注意してください。ドメインクラス自体に宣言されたデータソースによって決定されます。<p class="paragraph"/><div class="hidden-block">What you'll see is that if you have a Foo domain class in dataSource1 and a Bar domain class in dataSource2, and WahooService uses dataSource1, a service method that saves a new Foo and a new Bar will only be transactional for Foo since they share the datasource. The transaction won't affect the Bar instance. If you want both to be transactional you'd need to use two services and XA datasources for two-phase commit, e.g. with the Atomikos plugin.</div>
つまり、データソース1にFooドメインクラスを、データソース2にBarドメインクラスを持ち、WahooServiceがデータソース1を使うならば、FooとBarをnewするサービスのメソッドはデータソースを共有しているFooのためだけにトランザクション管理ができるということです。トランザクションはBarのインスタンスに影響を与えません。両方ともトランザクション管理をしたい場合は、2相コミットのために2つのサービスとXAデータソースを用いる必要があります。(例: Atomikosプラグイン)<p class="paragraph"/><div class="hidden-block">h4. XA and Two-phase Commit</div>
<h4>XAと2相コミット</h4><p class="paragraph"/><div class="hidden-block">Grails has no native support for <a href="https://secure.wikimedia.org/wikipedia/en/wiki/X/Open_XA" target="blank">XA</a> <code>DataSource</code>s or <a href="https://secure.wikimedia.org/wikipedia/en/wiki/Two-phase_commit" target="blank">two-phase commit</a>, but the <a href="http://grails.org/plugin/atomikos" target="blank">Atomikos plugin</a> makes it easy. See the plugin documentation for the simple changes needed in your <code>DataSource</code> definitions to reconfigure them as XA <code>DataSource</code>s.</div>
Grailsはネイティブで<a href="https://ja.wikipedia.org/wiki/X/Open_XA" target="blank">XA</a> <code>DataSource</code>や<a href="https://ja.wikipedia.org/wiki/2%E7%9B%B8%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88" target="blank">2相コミット</a>に対応していませんが、<a href="http://grails.org/plugin/atomikos" target="blank">Atomikosプラグイン</a>で簡単に行うことができます。<code>DataSource</code>定義をXA <code>DataSource</code>として再設定するのには簡単な変更が必要となるため、プラグインのドキュメントを参照してください。<p class="paragraph"/>

<a name="3.4 Externalized Configuration"><!-- Legacy link --></a>
<h2 id="configExternalized">4.4 設定の外部化</h2>
<div class="hidden-block">Some deployments require that configuration be sourced from more than one place and be changeable without requiring a rebuild of the application. In order to support deployment scenarios such as these the configuration can be externalized. To do so, point Grails at the locations of the configuration files that should be used by adding a <code>grails.config.locations</code> setting in <code>Config.groovy</code>, for example:</div>
デプロイの際に複数箇所で設定を記述したい場合や、アプリケーションの再ビルドなしで設定を変更したい場合があります。このような要望をサポートするために設定を外部に追い出すことができます。そのためには、<code>Config.groovy</code>ファイルに<code>grails.config.locations</code>の設定を追加し、設定ファイルの位置をGrailsに伝えます。例えば：<p class="paragraph"/><div class="code"><pre>grails.config.locations = &#91;
    <span class="java&#45;quote">"classpath:$&#123;appName&#125;&#45;config.properties"</span>,
    <span class="java&#45;quote">"classpath:$&#123;appName&#125;&#45;config.groovy"</span>,
    <span class="java&#45;quote">"file:$&#123;userHome&#125;/.grails/$&#123;appName&#125;&#45;config.properties"</span>,
    <span class="java&#45;quote">"file:$&#123;userHome&#125;/.grails/$&#123;appName&#125;&#45;config.groovy"</span> &#93;</pre></div><p class="paragraph"/><div class="hidden-block">In the above example we're loading configuration files (both Java Properties files and <a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a> configurations) from different places on the classpath and files located in <code>USER_HOME</code>.</div>
上記の例では、クラスパスや<code>USER_HOME</code>内のファイルといった異なる場所から、設定ファイル（Javaのプロパティファイルや <a href="http://groovy.codehaus.org/ConfigSlurper" target="blank">ConfigSlurper</a> 設定ファイル）を読み込んでいます。<p class="paragraph"/><div class="hidden-block">It is also possible to load config by specifying a class that is a config script.</div>
設定が記述されたスクリプトクラスを指定することによって、設定を読み込むことも可能です。<p class="paragraph"/><div class="code"><pre>grails.config.locations = &#91;com.my.app.MyConfig&#93;</pre></div><p class="paragraph"/><div class="hidden-block">This can be useful in situations where the config is either coming from a plugin or some other part of your application. A typical use for this is re-using configuration provided by plugins across multiple applications.</div>
これは設定をプラグインまたは他のアプリケーションから取得する場合に便利です。この方法は複数のアプリケーション上で動作するプラグインで提供される設定を、再利用する際の典型的なやり方です。<p class="paragraph"/><div class="hidden-block">Ultimately all configuration files get merged into the <code>config</code> property of the <a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api">GrailsApplication</a> object and are hence obtainable from there.</div>
最終的に、すべての設定ファイルは最終的に<a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api">GrailsApplication</a>オブジェクトの<code>config</code>プロパティへ統合され、そこから取得可能です。<p class="paragraph"/><div class="hidden-block">Values that have the same name as previously defined values will overwrite the existing values, and the pointed to configuration sources are loaded in the order in which they are defined.</div>
既に定義されている値と同じ名前を持つ値が記述されていた場合は、既存の値が上書きされます。また、指定された設定の取得元は、定義した順番で読み込まれます。<p class="paragraph"/><h4>デフォルトの設定</h4><p class="paragraph"/><div class="hidden-block">The configuration values contained in the locations described by the <code>grails.config.locations</code> property will <strong class="bold">override</strong> any values defined in your application <code>Config.groovy</code> file which may not be what you want. You may want to have a set of  <em class="italic">default</em>  values be be loaded that can be overridden in either your application's <code>Config.groovy</code> file or in a named config location. For this you can use the <code>grails.config.defaults.locations</code> property.</div>
望まないことかもしれませんが、<code>grails.config.defaults.locations</code>プロパティから読み込んだ設定値は、アプリケーションの<code>Config.groovy</code>で定義された任意の値を上書きします。アプリケーションの<code>Config.groovy</code>ファイルか、指定した設定ファイル場所のいずれかで値をオーバライドすることで、デフォルト値として値を読み込ませることが出来ます。これについては、<code>grails.config.defaults.locations</code>プロパティを使用することができます。<p class="paragraph"/>
<div class="hidden-block">This property supports the same values as the <code>grails.config.locations</code> property (i.e. paths to config scripts, property files or classes), but the config described by <code>grails.config.defaults.locations</code> will be loaded  <em class="italic">before</em>  all other values and can therefore be overridden. Some plugins use this mechanism to supply one or more sets of default configuration that you can choose to include in your application config.</div>
このプロパティは<code>grails.config.locations</code>プロパティと同じ値（すなわち、設定スクリプト、プロパティのファイルやクラスへのパス）をサポートしています。しかし、<code>grails.config.defaults.locations</code>で記述された設定ははじめに読み込まれるため、あとから読み込む設定値で上書きすることができます。プラグインの中にはこのメカニズムを利用して、プラグインが提供するデフォルト値をアプリケーションに含めるかをユーザが選択する形をとっているものがあります。<p class="paragraph"/><div class="hidden-block"><blockquote class="note">
Grails also supports the concept of property place holders and property override configurers as defined in <a href="http://www.springframework.org." target="blank">Spring</a> For more information on these see the section on <a href="../guide/single.html#spring" class="guide">Grails and Spring</a>
</blockquote></div>
<blockquote class="note">
GrailsはSpringで定義されているようなプレースホルダや設定のオーバライドといったプロパティの概念をサポートしています。より詳しい情報は<a href="../guide/single.html#spring" class="guide">Grails and Spring</a>の章を参照してください。
</blockquote>


<a name="3.5 Versioning"><!-- Legacy link --></a>
<h2 id="versioning">4.5 バージョニング</h2>
<div class="hidden-block">h4. Versioning Basics</div>
<h4>バージョン管理の基本</h4><p class="paragraph"/><div class="hidden-block">Grails has built in support for application versioning. The version of the application is set to <code>0.1</code> when you first create an application with the <a href="../ref/Command Line/create-app.html" class="commandLine">create-app</a> command. The version is stored in the application meta data file <code>application.properties</code> in the root of the project.</div>
Grailsにはアプリケーションのバージョン管理のためのサポートが組み込まれています。最初に<a href="../ref/Command Line/create-app.html" class="commandLine">create-app</a>コマンドを使用してアプリケーションを作成した際には、アプリケーションのバージョンは<code>0.1</code>に設定されています。バージョンは、プロジェクトルートにあるアプリケーションのメタデータファイルの<code>application.properties</code>に記述されます。<p class="paragraph"/><div class="hidden-block">To change the version of your application you can edit the file manually, or run the <a href="../ref/Command Line/set-version.html" class="commandLine">set-version</a> command:</div>
アプリケーションのバージョンを変更するには、ファイルを手動で編集するか、<a href="../ref/Command Line/set-version.html" class="commandLine">set-version</a>コマンドを実行します。<p class="paragraph"/><div class="code"><pre>grails set&#45;version 0.2</pre></div><p class="paragraph"/><div class="hidden-block">The version is used in various commands including the <a href="../ref/Command Line/war.html" class="commandLine">war</a> command which will append the application version to the end of the created WAR file.</div>
バージョンは、<a href="../ref/Command Line/war.html" class="commandLine">war</a>コマンドを含む様々なコマンドで使用されています。このwarコマンドは作成されるWARファイルの最後にアプリケーションのバージョンを追加します。<p class="paragraph"/><div class="hidden-block">h4. Detecting Versions at Runtime</div>
<h4>実行時のバージョン検出</h4><p class="paragraph"/><div class="hidden-block">You can detect the application version using Grails' support for application metadata using the <a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api">GrailsApplication</a> class. For example within <a href="../guide/single.html#controllers" class="guide">controllers</a> there is an implicit <a href="../ref/Controllers/grailsApplication.html" class="controllers">grailsApplication</a> variable that can be used:</div>
<a href="http://grails.org/doc/latest/api/org/codehaus/groovy/grails/commons/GrailsApplication.html" class="api">GrailsApplication</a>クラスを使って、アプリケーションのメタデータからアプリケーションのバージョンを検出することができます。例えば<a href="../guide/single.html#controllers" class="guide">controllers</a>内では暗黙的な<a href="../ref/Controllers/grailsApplication.html" class="controllers">grailsApplication</a>変数が使用できます。<p class="paragraph"/><div class="code"><pre>def version = grailsApplication.metadata&#91;'app.version'&#93;</pre></div><p class="paragraph"/><div class="hidden-block">You can retrieve the the version of Grails that is running with:</div>
実行しているGrailsのバージョンを取得することができます。<p class="paragraph"/><div class="code"><pre>def grailsVersion = grailsApplication.metadata&#91;'app.grails.version'&#93;</pre></div><p class="paragraph"/><div class="hidden-block">or the <code>GrailsUtil</code> class:</div>
または、<code>GrailsUtil</code>クラスを使います。<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.util.GrailsUtil
&#8230;
def grailsVersion = GrailsUtil.grailsVersion</pre></div>


<a name="3.6 Project Documentation"><!-- Legacy link --></a>
<h2 id="docengine">4.6 プロジェクト・ドキュメント</h2>
<div class="hidden-block">Since Grails 1.2, the documentation engine that powers the creation of this documentation has been available for your own Grails projects.</div>
Grails1.2から、ドキュメントの作成を行うドキュメンテーションエンジンが、Grailsプロジェクトのドキュメント作成のために利用されています。<p class="paragraph"/><div class="hidden-block">The documentation engine uses a variation on the <a href="http://textile.sitemonks.com/" target="blank">Textile</a> syntax to automatically create project documentation with smart linking, formatting etc.</div>
ドキュメンテーションエンジンは、スマートなリンク指定や書式設定で、自動的にプロジェクトのドキュメントを作成する<a href="http://textile.sitemonks.com/" target="blank">Textile</a>構文に変化を持たせたものを利用しています。<p class="paragraph"/><div class="hidden-block">h4. Creating project documentation</div>
<h4>プロジェクトドキュメントの作成</h4><p class="paragraph"/><div class="hidden-block">To use the engine you need to follow a few conventions. First, you need to create a <code>src/docs/guide</code> directory where your documentation source files will go. Then, you need to create the source docs themselves. Each chapter should have its own gdoc file as should all numbered sub-sections. You will end up with something like:</div>
エンジンを利用するには規則に従う必要があります。はじめに、ドキュメントのソースファイル置き場として<code>src/docs/guide</code>ディレクトリを作る必要があります。次に、ソースファイル自体を作成する必要があります。すべてのサブセクションに番号が振られているように、各章には独自のgdocファイルをもつべきです。以下のようになります。<p class="paragraph"/><div class="code"><pre>+ src/docs/guide/introduction.gdoc
+ src/docs/guide/introduction/changes.gdoc
+ src/docs/guide/gettingStarted.gdoc
+ src/docs/guide/configuration.gdoc
+ src/docs/guide/configuration/build.gdoc
+ src/docs/guide/configuration/build/controllers.gdoc</pre></div><p class="paragraph"/><div class="hidden-block">Note that you can have all your gdoc files in the top-level directory if you want, but you can also put sub-sections in sub-directories named after the parent section - as the above example shows.</div>
トップレベルのディレクトリにすべてのgdocを配置することもできますが、上記例のように親セクションの下に指定したサブセクションを配置することもできます。<p class="paragraph"/><div class="hidden-block">Once you have your source files, you still need to tell the documentation engine what the structure of your user guide is going to be. To do that, you add a <code>src/docs/guide/toc.yml</code> file that contains the structure and titles for each section. This file is in <a href="http://www.yaml.org/" target="blank">YAML</a> format and basically represents the structure of the user guide in tree form. For example, the above files could be represented as:</div>
ソースファイルを作成したら、さらにユーザガイドの構造をドキュメンテーションエンジンに教えてあげる必要があります。これを行うには各セクションの構造やタイトルが含まれる、<code>src/docs/guide/toc.yml</code>ファイルを追加します。このファイルは<a href="http://www.yaml.org/" target="blank">YAML</a>形式で、基本的にはツリー形式でユーザガイドの構造を表しています。例えば、上記のファイル構造は次のように表すことができます。<p class="paragraph"/><div class="code"><pre>introduction:
  title: Introduction
  changes: Change Log
gettingStarted: Getting Started
configuration:
  title: Configuration
  build:
    title: Build Config
    controllers: Specifying Controllers</pre></div><p class="paragraph"/><div class="hidden-block">The format is pretty straightforward. Any section that has sub-sections is represented with the corresponding filename (minus the .gdoc extension) followed by a colon. The next line should contain <code>title:</code> plus the title of the section as seen by the end user. Every sub-section then has its own line after the title. Leaf nodes, i.e. those without any sub-sections, declare their title on the same line as the section name but after the colon.</div>
フォーマットは非常に簡単です。サブセクションを持つセクションは、対応するファイル名（.gdocを除く）の後にコロンをつけて表されています。次の行には<code>title:</code>に加えて、エンドユーザが目にするセクションのタイトルを記述します。すべてのサブセクションではタイトルの後に独自のラインを持っています。サブセクションを持たないセクションでは、セクション名と同じ行のコロンの後にタイトルを宣言します。<p class="paragraph"/><div class="hidden-block">That's it. You can easily add, remove, and move sections within the <code>toc.yml</code> to restructure the generated user guide. You should also make sure that all section names, i.e. the gdoc filenames, should be unique since they are used for creating internal links and for the HTML filenames. Don't worry though, the documentation engine will warn you of duplicate section names.</div>
また、生成されたユーザガイドを再構築するために、<code>toc.yml</code>内部で簡単にセクションの追加や削除、移動ができます。すべてのセクション名（gdocのファイル名）はユニークである必要があります。なぜなら、それらは内部リンクの作成やHTMLのファイル名に使用されるからです。しかし、心配はいりません。ドキュメンテーションエンジンはセクション名が重複していた場合に警告を表示します。<p class="paragraph"/><div class="hidden-block">h4. Creating reference items</div>
<h4>参照項目の作成</h4><p class="paragraph"/><div class="hidden-block">Reference items appear in the Quick Reference section of the documentation. Each reference item belongs to a category and a category is a directory located in the <code>src/docs/ref</code> directory. For example, suppose you have defined a new controller method called <code>renderPDF</code>. That belongs to the <code>Controllers</code> category so you would create a gdoc text file at the following location:</div>
リファレンス項目はドキュメントのクイックリファレンスセクションに表示されます。各参照項目はカテゴリに属し、カテゴリは<code>src/docs/ref</code>ディレクトリに配置します。例えば、コントローラに新しく<code>renderPDF</code>のメソッドを定義したとしましょう。これが<code>Controllers</code>カテゴリに所属する場合、以下のようにgdocのテキストファイルを作成します。:<p class="paragraph"/><div class="code"><pre>+ src/docs/ref/Controllers/renderPDF.gdoc</pre></div><p class="paragraph"/><div class="hidden-block">h4. Configuring Output Properties</div>
<h4>出力プロパティの設定</h4><p class="paragraph"/><div class="hidden-block">There are various properties you can set within your <code>grails-app/conf/Config.groovy</code> file that customize the output of the documentation such as:</div>
以下のようにドキュメント出力をカスタマイズする、<code>grails-app/conf/Config.groovy</code>内で設定できる様々なプロパティがあります。<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><strong class="bold">grails.doc.title</strong> - The title of the documentation</li>
<li><strong class="bold">grails.doc.subtitle</strong> - The subtitle of the documentation</li>
<li><strong class="bold">grails.doc.authors</strong> - The authors of the documentation</li>
<li><strong class="bold">grails.doc.license</strong> - The license of the software</li>
<li><strong class="bold">grails.doc.copyright</strong> - The copyright message to display</li>
<li><strong class="bold">grails.doc.footer</strong> - The footer to use</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><strong class="bold">grails.doc.title</strong> - ドキュメントのタイトル</li>
<li><strong class="bold">grails.doc.subtitle</strong> - ドキュメントのサブタイトル</li>
<li><strong class="bold">grails.doc.authors</strong> - ドキュメントの著者</li>
<li><strong class="bold">grails.doc.license</strong> - ソフトウェアライセンス</li>
<li><strong class="bold">grails.doc.copyright</strong> - copyrightメッセージの表示</li>
<li><strong class="bold">grails.doc.footer</strong> - 使用するフッター</li>
</ul><p class="paragraph"/><div class="hidden-block">Other properties such as the version are pulled from your project itself.  If a title is not specified, the application name is used.</div>
バージョンなどの他のプロパティは、プロジェクト自体から取得します。タイトルが指定されていない場合は、アプリケーション名が使用されます。<p class="paragraph"/><div class="hidden-block">You can also customise the look of the documentation and provide images by setting a few other options:</div>
また、他のオプションの設定によって、ドキュメントの外観をカスタマイズしたり、画像を設定したりできます。<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><strong class="bold">grails.doc.css</strong> - The location of a directory containing custom CSS files (type <code>java.io.File</code>)</li>
<li><strong class="bold">grails.doc.js</strong> - The location of a directory containing custom JavaScript files (type <code>java.io.File</code>)</li>
<li><strong class="bold">grails.doc.style</strong> - The location of a directory containing custom HTML templates for the guide (type <code>java.io.File</code>)</li>
<li><strong class="bold">grails.doc.images</strong> - The location of a directory containing image files for use in the style templates and within the documentation pages themselves (type <code>java.io.File</code>)</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><strong class="bold">grails.doc.css</strong> - カスタマイズしたCSSファイルを含むディレクトリ場所（<code>java.io.File</code>クラスの型）</li>
<li><strong class="bold">grails.doc.js</strong> - カスタマイズしたJavaScriptファイルを含むディレクトリ場所（<code>java.io.File</code>クラスの型）</li>
<li><strong class="bold">grails.doc.style</strong> - ガイド用にカスタマイズしたHTMLテンプレートを含むディレクトリ場所(<code>java.io.File</code>クラスの型)</li>
<li><strong class="bold">grails.doc.images</strong> - スタイルテンプレートやドキュメントページ自身で使用する画像ファイルを含むディレクトリ場所(<code>java.io.File</code>の型)</li>
</ul><p class="paragraph"/><div class="hidden-block">One of the simplest ways to customise the look of the generated guide is to provide a value for <code>grails.doc.css</code> and then put a custom.css file in the corresponding directory. Grails will automatically include this CSS file in the guide. You can also place a custom-pdf.css file in that directory. This allows you to override the styles for the PDF version of the guide.</div>
生成したドキュメントの見た目をカスタマイズする一番シンプルな方法は、<code>grails.doc.css</code>の値を記述し、対応するディレクトリにcustom.cssファイルを置くことです。Grailsは自動的にドキュメント内にこのCSSファイルを取り込みます。また、そのディレクトリにcustom-pdf.cssファイルを置くことができます。これは、ドキュメントのpdfバージョンのスタイルを上書きできます。<p class="paragraph"/><div class="hidden-block">h4. Generating Documentation</div>
<h4>ドキュメントの生成</h4><p class="paragraph"/><div class="hidden-block">Once you have created some documentation (refer to the syntax guide in the next chapter) you can generate an HTML version of the documentation using the command:</div>
一度ドキュメントが作成（次の章の構文ガイドを参照）できたら、次のコマンドを使用してHTML形式のドキュメントを生成できます。<p class="paragraph"/><div class="code"><pre>grails doc</pre></div><p class="paragraph"/><div class="hidden-block">This command will output an <code>docs/manual/index.html</code> which can be opened in a browser to view your documentation.</div>
このコマンドで、ブラウザで表示できる形式のドキュメントが<code>docs/manual/index.html</code>に出力されます。<p class="paragraph"/><div class="hidden-block">h4. Documentation Syntax</div>
<h4>ドキュメントの構文</h4><p class="paragraph"/><div class="hidden-block">As mentioned the syntax is largely similar to Textile or Confluence style wiki markup. The following sections walk you through the syntax basics.</div>
ドキュメントの構文はwikiのTextile記法やConfluence記法とほぼ同じです。以下のセクションでは、構文の基礎を説明します。<p class="paragraph"/><div class="hidden-block">h5. Basic Formatting</div>
<h5>基本的なフォーマット</h5><p class="paragraph"/><div class="hidden-block">Monospace: <code>monospace</code></div>
等幅フォント: <code>monospace</code>
<div class="code"><pre>&#64;monospace&#64;</pre></div><p class="paragraph"/><div class="hidden-block">Italic:  <em class="italic">italic</em> </div>
イタリック体:  <em class="italic">italic</em> 
<div class="code"><pre>&#95;italic&#95;</pre></div><p class="paragraph"/><div class="hidden-block">Bold: <strong class="bold">bold</strong></div>
太字: <strong class="bold">bold</strong>
<div class="code"><pre>&#42;bold&#42;</pre></div><p class="paragraph"/><div class="hidden-block">Image:</div>
画像:
<img border="0" class="center" src="http://grails.org/images/new/grailslogo_topNav.png"></img><p class="paragraph"/><div class="code"><pre>&#33;http://grails.org/images/new/grailslogo_topNav.png&#33;</pre></div><p class="paragraph"/><div class="hidden-block">You can also link to internal images like so:</div>
次のように内部の画像へリンクすることもできます。<p class="paragraph"/><div class="code"><pre>&#33;someFolder/my_diagram.png&#33;</pre></div><p class="paragraph"/><div class="hidden-block">This will link to an image stored locally within your project. There is currently no default location for doc images, but you can specify one with the <code>grails.doc.images</code> setting in Config.groovy like so:</div>
これはプロジェクト内でローカルに保存された画像にリンクします。デフォルトの画像置き場はありませんが、次のようにConfig.groovy内の<code>grails.doc.images</code>の設定で指定できます。<p class="paragraph"/><div class="code"><pre>grails.doc.images = <span class="java&#45;keyword">new</span> File(<span class="java&#45;quote">"src/docs/images"</span>)</pre></div><p class="paragraph"/><div class="hidden-block">In this example, you would put the my_diagram.png file in the directory 'src/docs/images/someFolder'.</div>
この例では、'src/docs/images/someFolder'ディレクトリ内にmy_diagram.pngファイルを置いています。<p class="paragraph"/><div class="hidden-block">h5. Linking</div>
<h5>リンク生成</h5><p class="paragraph"/><div class="hidden-block">There are several ways to create links with the documentation generator. A basic external link can either be defined using confluence or textile style markup:</div>
ドキュメントジェネレータでリンクを生成する方法はいくつかあります。基本的な外部リンクはconfluence記法、またはtextile記法のどちらかを使うことで定義できます。<p class="paragraph"/><div class="code"><pre>&#91;SpringSource|http://www.springsource.com/&#93;</pre></div><p class="paragraph"/>or<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"SpringSource"</span>:http://www.springsource.com/</pre></div><p class="paragraph"/><div class="hidden-block">For links to other sections inside the user guide you can use the <code>guide:</code> prefix with the name of the section you want to link to:</div>
ユーザガイド内の他のセクションへのリンクについては、リンクしたいセクションの頭に<code>guide:</code>をつけることで実現できます。<p class="paragraph"/><div class="code"><pre>&#91;Intro|guide:introduction&#93;</pre></div><p class="paragraph"/><div class="hidden-block">The section name comes from the corresponding gdoc filename. The documentation engine will warn you if any links to sections in your guide break.</div>
セクション名は対応するgdocファイル名を使用します。ガイドのセクションへのリンクが壊れると、ドキュメンテーションエンジンは警告を表示します。<p class="paragraph"/><div class="hidden-block">To link to reference items you can use a special syntax:</div>
参照項目へのリンクは、特別な構文で使用できます。<p class="paragraph"/><div class="code"><pre>&#91;controllers|renderPDF&#93;</pre></div><p class="paragraph"/><div class="hidden-block">In this case the category of the reference item is on the left hand side of the | and the name of the reference item on the right.</div>
この場合では、参照項目のカテゴリは|の左側に記述し、右側には参照項目の名前を記述します。<p class="paragraph"/><div class="hidden-block">Finally, to link to external APIs you can use the <code>api:</code> prefix. For example:</div>
最後に、<code>api:</code>プレフィックスを使うことで外部APIへリンクできます。例えば：<p class="paragraph"/><div class="code"><pre>&#91;<span class="java&#45;object">String</span>|api:java.lang.<span class="java&#45;object">String</span>&#93;</pre></div><p class="paragraph"/><div class="hidden-block">The documentation engine will automatically create the appropriate javadoc link in this case. To add additional APIs to the engine you can configure them in <code>grails-app/conf/Config.groovy</code>. For example:</div>
この場合、ドキュメンテーションエンジンは自動的に適切なJavadocリンクを生成します。<code>grails-app/conf/Config.groovy</code>に設定を追加することで、エンジンに追加のAPIを加えることができます。例えば：<p class="paragraph"/><div class="code"><pre>grails.doc.api.org.hibernate=
            <span class="java&#45;quote">"http://docs.jboss.org/hibernate/stable/core/javadocs"</span></pre></div><p class="paragraph"/><div class="hidden-block">The above example configures classes within the <code>org.hibernate</code> package to link to the Hibernate website's API docs.</div>
上記の例では、<code>org.hibernate</code>パッケージ内のクラスを、HibernateのAPIドキュメントへリンクするように設定しています。<p class="paragraph"/><div class="hidden-block">h5. Lists and Headings</div>
<h5>リストと見出し</h5><p class="paragraph"/><div class="hidden-block">Headings can be created by specifying the letter 'h' followed by a number and then a dot:</div>
見出しは'h'の後に数字とドットを指定することで作成できます。<p class="paragraph"/><div class="code"><pre>h3.&#60;space&#62;Heading3
h4.&#60;space&#62;Heading4</pre></div><p class="paragraph"/><div class="hidden-block">Unordered lists are defined with the use of the * character:</div>
順不同のリストは*文字を使うことで定義できます。<p class="paragraph"/><div class="code"><pre>&#42; item 1
&#42;&#42; subitem 1
&#42;&#42; subitem 2
&#42; item 2</pre></div><p class="paragraph"/><div class="hidden-block">Numbered lists can be defined with the # character:</div>
番号付きリストは#文字で定義できます。<p class="paragraph"/><div class="code"><pre>&#35; item 1</pre></div><p class="paragraph"/><div class="hidden-block">Tables can be created using the <code>table</code> macro:</div>
テーブルは<code>table</code>マクロを使って作成できます。<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Number</strong></th></tr><tr class="table-odd"><td>Albert</td><td>46</td></tr><tr class="table-even"><td>Wilma</td><td>1348</td></tr><tr class="table-odd"><td>James</td><td>12</td></tr></table><p class="paragraph"/><div class="code"><pre>&#123;table&#125;
 &#42;Name&#42; | &#42;<span class="java&#45;object">Number</span>&#42;
 Albert | 46
 Wilma | 1348
 James | 12
&#123;table&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h5. Code and Notes</div>
<h5>コードとノート</h5><p class="paragraph"/><div class="hidden-block">You can define code blocks with the <code>code</code> macro:</div>
<code>code</code>マクロでコードブロックを定義できます。<p class="paragraph"/><div class="code"><pre>class Book &#123;
    <span class="java&#45;object">String</span> title
&#125;</pre></div><p class="paragraph"/><div class="code"><pre>&#123;code&#125;
class Book &#123;
    <span class="java&#45;object">String</span> title
&#125;
&#123;code&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The example above provides syntax highlighting for Java and Groovy code, but you can also highlight XML markup:</div>
上記の例は、JavaやGroovyのシンタックスハイライトで記述していますが、XMLのハイライト表示でも記述できます。<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;hello&#62;</span>world<span class="xml&#45;tag">&#60;/hello&#62;</span></pre></div><p class="paragraph"/><div class="code"><pre>&#123;code:xml&#125;
&#60;hello&#62;world&#60;/hello&#62;
&#123;code&#125;</pre></div><p class="paragraph"/><div class="hidden-block">There are also a couple of macros for displaying notes and warnings:</div>
注意や警告を表示するためのマクロもあります。<p class="paragraph"/>Note:
<blockquote class="note">
This is a note!
</blockquote><p class="paragraph"/><div class="code"><pre>&#123;note&#125;
This is a note!
&#123;note&#125;</pre></div><p class="paragraph"/>Warning:<p class="paragraph"/><blockquote class="warning">
This is a warning!
</blockquote><p class="paragraph"/><div class="code"><pre>&#123;warning&#125;
This is a warning!
&#123;warning&#125;</pre></div>


<a name="3.7 Dependency Resolution"><!-- Legacy link --></a>
<h2 id="dependencyResolution">4.7 依存性解決</h2>
<div class="hidden-block">Grails features a dependency resolution DSL that lets you control how plugins and JAR dependencies are resolved.</div>
Grailsは依存関係解決のためのDSLクエリー言語を持ち、これによりプラグインとJARの依存関係を解決する方法を制御できます。<p class="paragraph"/><div class="hidden-block">You can choose to use Aether (since Grails 2.3) or Apache Ivy as the dependency resolution engine. Aether is the dependency resolution library used by the Maven build tool, so if you are looking for Maven-like behavior then Aether is the better choise. Ivy allows more flexibility if you wish to resolve jars from flat file systems or none HTTP repositories. Aether is the default dependency resolution engine for Grails applications since Grails 2.3. </div>
依存関係解決エンジンとして、Aether（Grails2.3以降）あるいはApache Ivyのどちらかを選択できます。Aetherは、Mavenビルド・ツール内で使用されている依存関係解決ライブラリであり、Mavenのような振る舞いを期待しているなら、Aetherを選択すべきです。Ivyは、単層ファイルシステムまたはHTTP通信を行わないリポジトリからjarファイルを解決したい場合には、より柔軟性が高いです。Grails 2.3以降においては、AetherがGrailsアプリケーションのデフォルトの依存関係解決エンジンです。<p class="paragraph"/><div class="hidden-block">To configure which dependency resolution engine to use you can specify the <code>grails.project.dependency.resolver</code> setting in <code>grails-app/conf/BuildConfig.groovy</code>. The default setting is shown below:</div>
使用する依存関係解決エンジンは、<code>grails-app/conf/BuildConfig.groovy</code>ファイル内の<code>grails.project.dependency.resolver</code>を設定することで指定出来ます。デフォルト設定は次のとおりです:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolver = <span class="java&#45;quote">"maven"</span> // or ivy</pre></div><p class="paragraph"/><div class="hidden-block">You can then specify a <code>grails.project.dependency.resolution</code> property inside the <code>grails-app/conf/BuildConfig.groovy</code> file that configures how dependencies are resolved:</div>
<code>grails-app/conf/BuildConfig.groovyの</code>ファイル内の、<code>grails.project.dependency.resolution</code>プロパティを次のように指定することで、依存関係を解決する方法が設定できます:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
   // config here
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The default configuration looks like the following:</div>
デフォルト設定は以下です:<p class="paragraph"/><div class="code"><pre>grails.project.class.dir = <span class="java&#45;quote">"target/classes"</span>
grails.project.test.class.dir = <span class="java&#45;quote">"target/test&#45;classes"</span>
grails.project.test.reports.dir = <span class="java&#45;quote">"target/test&#45;reports"</span>
//grails.project.war.file = <span class="java&#45;quote">"target/&#36;&#123;appName&#125;&#45;&#36;&#123;appVersion&#125;.war"</span><p class="paragraph"/>grails.project.dependency.resolution = &#123;
    // inherit Grails' <span class="java&#45;keyword">default</span> dependencies
    inherits(<span class="java&#45;quote">"global"</span>) &#123;
        // uncomment to disable ehcache
        // excludes 'ehcache'
    &#125;
    log <span class="java&#45;quote">"warn"</span>
    repositories &#123;
        grailsPlugins()
        grailsHome()
        grailsCentral()
        mavenCentral()
        mavenLocal()<p class="paragraph"/>        // uncomment these to enable remote dependency resolution
        // from <span class="java&#45;keyword">public</span> Maven repositories
        //mavenRepo <span class="java&#45;quote">"http://snapshots.repository.codehaus.org"</span>
        //mavenRepo <span class="java&#45;quote">"http://repository.codehaus.org"</span>
        //mavenRepo <span class="java&#45;quote">"http://download.java.net/maven/2/"</span>
        //mavenRepo <span class="java&#45;quote">"http://repository.jboss.com/maven2/"</span>
    &#125;
    dependencies &#123;
        // specify dependencies here under either 'build', 'compile',
        // 'runtime', 'test' or 'provided' scopes eg.<p class="paragraph"/>        // runtime 'mysql:mysql&#45;connector&#45;java:5.1.16'
        build <span class="java&#45;quote">"org.grails:grails&#45;plugin&#45;tomcat:&#36;grailsVersion"</span>
        runtime <span class="java&#45;quote">"org.grails:grails&#45;plugin&#45;hibernate:&#36;grailsVersion"</span>
    &#125;<p class="paragraph"/>    plugins &#123;<p class="paragraph"/>        compile <span class="java&#45;quote">"&#58;jquery:1.8.3"</span>
        compile <span class="java&#45;quote">"&#58;resources:1.1.6"</span><p class="paragraph"/>        build <span class="java&#45;quote">"&#58;tomcat:&#36;grailsVersion"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The details of the above will be explained in the next few sections.</div>
上記の詳細については、次節以降で説明します。<p class="paragraph"/>

<a name="3.7.1 Configurations and Dependencies"><!-- Legacy link --></a>
<h2 id="configurationsAndDependencies">4.7.1 設定と依存</h2>
<div class="hidden-block">Grails features five dependency resolution configurations (or 'scopes'):</div>
Grailsは、依存関係解決のための5つの設定（'スコープ'とも呼ばれます）を用意しています:<p class="paragraph"/><div class="hidden-block">*  <code>build</code>: Dependencies for the build system only</div>
<ul class="star">
<li> <code>build</code>: ビルドシステムのためだけの依存関係</li>
</ul><p class="paragraph"/><div class="hidden-block">*  <code>compile</code>: Dependencies for the compile step</div>
<ul class="star">
<li> <code>compile</code>: コンパイルのための依存関係</li>
</ul><p class="paragraph"/><div class="hidden-block">*  <code>runtime</code>: Dependencies needed at runtime but not for compilation (see above)</div>
<ul class="star">
<li> <code>runtime</code>: 実行時には必要だが、コンパイル時には不必要な依存関係（上記参照）</li>
</ul><p class="paragraph"/><div class="hidden-block">*  <code>test</code>: Dependencies needed for testing but not at runtime (see above)</div>
<ul class="star">
<li> <code>test</code>: テスト時には必要だが、実行時には不必要な依存関係（上記参照）</li>
</ul><p class="paragraph"/><div class="hidden-block">*  <code>provided</code>: Dependencies needed at development time, but not during WAR deployment</div>
<ul class="star">
<li> <code>provided</code>: 開発時には必要だが、WARファイルのデプロイ時には不必要な依存関係</li>
</ul><p class="paragraph"/><div class="hidden-block">Within the <code>dependencies</code> block you can specify a dependency that falls into one of these configurations by calling the equivalent method. For example if your application requires the MySQL driver to function at <code>runtime</code> you can specify that like this:</div>
<code>dependencies</code>ブロックの内部で上記のメソッドを呼び出すことにより、依存関係を指定することができます。たとえば、アプリケーションが<code>runtime</code>時にMySQLドライバを必要とする場合は、次のように指定することができます:<p class="paragraph"/><div class="code"><pre>runtime 'com.mysql:mysql&#45;connector&#45;java:5.1.16'</pre></div><p class="paragraph"/><div class="hidden-block">This uses the string syntax: <code>group:name:version</code>. </div>
上記では、<code>グループ:名前:バージョン</code>というString構文を使用しています。<p class="paragraph"/>
<div class="hidden-block">If you are using Aether as the dependency resolution library, the Maven pattern of:</div>
Aetherを依存関係解決ライブラリーとして利用する場合は、以下のようなMaven形式で記載します:<p class="paragraph"/><div class="code"><pre>&#60;groupId&#62;:&#60;artifactId&#62;&#91;:&#60;extension&#62;&#91;:&#60;classifier&#62;&#93;&#93;:&#60;version&#62;</pre></div><p class="paragraph"/><div class="hidden-block">You can also use a Map-based syntax:</div>
Map構文も使用できます:<p class="paragraph"/><div class="code"><pre>runtime group: 'com.mysql',
        name: 'mysql&#45;connector&#45;java',
        version: '5.1.16'</pre></div><p class="paragraph"/><div class="hidden-block">Possible settings to the map syntax are:</div>
Map構文で可能な設定は次のとおりです:<p class="paragraph"/><div class="hidden-block">* <code>group</code> - The group / organization (or groupId in Maven terminology)</div>
<ul class="star">
<li><code>group</code> - グループ/組織（Mavenの用語ではgroupId）</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>name</code> - The dependency name (or artifactId in Maven terminology)</div>
<ul class="star">
<li><code>name</code> - 依存関係名 (Mavenの用語ではartifactId)</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>version</code> - The version of the dependency</div>
<ul class="star">
<li><code>version</code> - 依存関係のバージョン</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>extension</code> (Aether only) - The file extension of the dependency</div>
<ul class="star">
<li><code>extension</code> (Aetherのみ) - 依存関係のファイル拡張子</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>classifier</code> - The dependency classifier</div>
<ul class="star">
<li><code>classifier</code> - 依存関係の分類</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>branch</code> (Ivy only) - The branch of the dependency</div>
<ul class="star">
<li><code>branch</code>（Ivyのみ） - 依存関係のブランチ</li>
</ul><p class="paragraph"/><div class="hidden-block">* <code>transitive</code> (Ivy only) - Whether the dependency has transitive dependencies</div>
<ul class="star">
<li><code>transitive</code> (Ivyのみ) - 推移的依存関係の有無</li>
</ul><p class="paragraph"/><div class="hidden-block">As you can see from the list above some dependency configuration settings work only in Aether and some only in Ivy.</div>
上記のリストからわかるように、依存関係の設定の一部は、Ivyのみで動作するものと、Aetherのみでと一部のみで動作するものがあります。<p class="paragraph"/><div class="hidden-block">Multiple dependencies can be specified by passing multiple arguments:</div>
複数の依存関係は、複数の引数を渡すことで指定できます:<p class="paragraph"/><div class="code"><pre>runtime 'com.mysql:mysql&#45;connector&#45;java:5.1.16',
        'net.sf.ehcache:ehcache:1.6.1'<p class="paragraph"/>// Or<p class="paragraph"/>runtime(
    &#91;group:'com.mysql', name:'mysql&#45;connector&#45;java', version:'5.1.16'&#93;,
    &#91;group:'net.sf.ehcache', name:'ehcache', version:'1.6.1'&#93;
)</pre></div><p class="paragraph"/><div class="hidden-block">h3. Disabling transitive dependency resolution</div>
<h3>推移的依存関係解決の無効化</h3><p class="paragraph"/><div class="hidden-block">By default, Grails will not only get the JARs and plugins that you declare, but it will also get their transitive dependencies. This is usually what you want, but there are occasions where you want a dependency without all its baggage. In such cases, you can disable transitive dependency resolution on a case-by-case basis:</div>
デフォルトでは、Grailsは宣言したJARファイルやプラグインだけでなく、それらの推移的依存関係を取得します。これは、通常は望ましいことですが、推移的依存関係を取得したくない場合もあります。そのような場合、状況に応じて推移的依存関係解決を無効にできます:<p class="paragraph"/><div class="code"><pre>runtime('com.mysql:mysql&#45;connector&#45;java:5.1.16',
        'net.sf.ehcache:ehcache:1.6.1') &#123;
    transitive = <span class="java&#45;keyword">false</span>
&#125;<p class="paragraph"/>// Or
runtime group:'com.mysql',
        name:'mysql&#45;connector&#45;java',
        version:'5.1.16',
        transitive:<span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="warning">
Disabling transitive dependency resolution only works with the Ivy dependency manager. Aether does not support disabling of transitive resolution, instead explicit exclusions are required (see below).
</blockquote>
</div><p class="paragraph"/><blockquote class="warning">
推移的依存関係解決の無効化は、Ivy依存関係マネージャとだけ連携して動作します。Aetherは推移的解決をサポートしておらず、明示的に除外する必要があります（下記参照）。
</blockquote><p class="paragraph"/>
<div class="hidden-block">h3. Excluding specific transitive dependencies</div>
<h3>特定の推移的依存関係の除外</h3><p class="paragraph"/><div class="hidden-block">A far more common scenario is where you want the transitive dependencies, but some of them cause issues with your own dependencies or are unnecessary. For example, many Apache projects have 'commons-logging' as a transitive dependency, but it shouldn't be included in a Grails project (we use SLF4J). That's where the <code>excludes</code> option comes in:</div>
頻繁に起こりうるシチュエーションは、推移的依存関係解決は動作させたい一方で、そのうちいくつかの依存関係は独自プログラムの依存関係に問題を発生させたり、不要だったりする場合です。たとえば、多くのApacheプロジェクトは推移依存関係として"commons-logging"を持っていますが、それはGrailsプロジェクトに含まれるべきではありません（GrailsはSLF4Jを使用している）。このような場合は、<code>excludes</code>オプションを使用します:<p class="paragraph"/><div class="code"><pre>runtime('com.mysql:mysql&#45;connector&#45;java:5.1.16',
        'net.sf.ehcache:ehcache:1.6.1') &#123;
    excludes <span class="java&#45;quote">"xml&#45;apis"</span>, <span class="java&#45;quote">"commons&#45;logging"</span>
&#125;<p class="paragraph"/>// Or
runtime(group:'com.mysql', name:'mysql&#45;connector&#45;java', version:'5.1.16') &#123;
    excludes(&#91; group: 'xml&#45;apis', name: 'xml&#45;apis'&#93;,
             &#91; group: 'org.apache.httpcomponents' &#93;,
             &#91; name: 'commons&#45;logging' &#93;)</pre></div><p class="paragraph"/><div class="hidden-block">As you can see, you can either exclude dependencies by their artifact ID (also known as a module name) or any combination of group and artifact IDs (if you use the Map notation). You may also come across <code>exclude</code> as well, but that can only accept a single string or Map:</div>
見てのとおり、アーティファクトID（モジュール名と言うこともあります）、または任意のグループIDとアーティファクトIDの組み合わせ（Map表記を使用している場合）によって、推移的依存関係解決を行う依存関係を除外できます。<code>exclude</code>オプションを利用する場合も同様ですが、こちらは単一の文字列またはMapのみを許容します:<p class="paragraph"/><div class="code"><pre>runtime('com.mysql:mysql&#45;connector&#45;java:5.1.16',
        'net.sf.ehcache:ehcache:1.6.1') &#123;
    exclude <span class="java&#45;quote">"xml&#45;apis"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h3. Using Ivy module configurations</div>
<h3>Ivyモジュール構成の使用</h3><p class="paragraph"/><div class="hidden-block">Using the Ivy dependency manager (Aether not supported), if you use Ivy module configurations and wish to depend on a specific configuration of a module, you can use the <code>dependencyConfiguration</code> method to specify the configuration to use.</div>
Ivyモジュール構成を使用していて、指定したモジュール構成に依存させたい場合は、<code>dependencyConfiguration</code>メソッドを用いて使用する構成を指定できます。<p class="paragraph"/><div class="code"><pre>provided(<span class="java&#45;quote">"my.org:web&#45;service:1.0"</span>) &#123;
    dependencyConfiguration <span class="java&#45;quote">"api"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">If the dependency configuration is not explicitly set, the configuration named <code>"default"</code> will be used (which is also the correct value for dependencies coming from Maven style repositories).</div>
依存関係の設定が明示的にされていない場合は、<code>"default"</code>設定が使用されます。（これは、Mavenスタイルのリポジトリから来る依存関係に対しても正しい値です）<p class="paragraph"/><div class="hidden-block">h3. Where are the JARs?</div>
<h3>JARファイルの場所</h3><p class="paragraph"/><div class="hidden-block">With all these declarative dependencies, you may wonder where all the JARs end up. They have to go somewhere after all. By default Grails puts them into a directory, called the dependency cache, that resides on your local file system at <code>user.home/.grails/ivy-cache</code> or <code>user.home/.m2/repository</code> when using Aether. You can change this either via the <code>settings.groovy</code> file:</div>
当然、宣言された全ての依存関係の実態であるJARファイルは、必ずどこかに存在している必要があります。デフォルトでは、Grailsは依存関係キャッシュと呼ばれるディレクトリにJARファイルを入れます。このディレクトリは、ローカル・ファイル・システム上の<code>user.home/.grails/ivy-cache</code>もしくは<code>user.home/.m2/repository</code>（Aether使用時）に配置されます。<code>settings.groovy</code>ファイルによって、この場所を変更できます:<p class="paragraph"/><div class="code"><pre>grails.dependency.cache.dir = <span class="java&#45;quote">"$&#123;userHome&#125;/.my&#45;dependency&#45;cache"</span></pre></div><p class="paragraph"/><div class="hidden-block">or in the dependency DSL:</div>
依存関係DSLクエリー言語内でも変更可能です:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    &#8230;
    cacheDir <span class="java&#45;quote">"target/ivy&#45;cache"</span>
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The <code>settings.groovy</code> option applies to all projects, so it's the preferred approach.</div>
<code>settings.groovy</code>オプションを使用すると、すべてのプロジェクトに適用されるため、こちらがおすすめの方法です。


<a name="3.7.2 Dependency Repositories"><!-- Legacy link --></a>
<h2 id="dependencyRepositories">4.7.2 依存管理リポジトリ</h2>
<div class="hidden-block">h4. Remote Repositories</div>
<h4>リモートリポジトリ</h4><p class="paragraph"/><div class="hidden-block">Initially your BuildConfig.groovy does not use any remote public Maven repositories. There is a default <code>grailsHome()</code> repository that will locate the JAR files Grails needs from your Grails installation. To use a public repository, specify it in the <code>repositories</code> block:</div>
初期状態では、BuildConfig.groovyはどのMavenの公開リモートリポジトリも使用していません。デフォルトでGrailsは、Grailsのインストールに必要なJARファイルが配置されている<code>grailsHome()</code>リポジトリが存在します。公開リポジトリを使用するには、<code>repositories</code>ブロック内で以下を指定します:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    mavenCentral()
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">In this case the default public Maven repository is specified. </div>
上のケースでは、デフォルトのMavenの公開リポジトリが指定されています。<p class="paragraph"/><div class="hidden-block">You can also specify a specific Maven repository to use by URL:</div>
URLによって使用する特定のMavenのリポジトリを指定することもできます:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    mavenRepo <span class="java&#45;quote">"http://repository.codehaus.org"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">and even give it a name:</div>
名前をつけることもできます:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    mavenRepo name: <span class="java&#45;quote">"Codehaus"</span>, root: <span class="java&#45;quote">"http://repository.codehaus.org"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">so that you can easily identify it in logs.</div>
名前をつける事によって、ログ上で簡単に特定することができます。<p class="paragraph"/><div class="hidden-block">h4. Controlling Repositories Inherited from Plugins</div>
<h4>プラグインから継承したリポジトリの制御</h4><p class="paragraph"/><div class="hidden-block">A plugin you have installed may define a reference to a remote repository just as an application can. By default your application will inherit this repository definition when you install the plugin.</div>
インストールしたプラグインは、アプリケーションが正しく参照できるように、リモートリポジトリへの参照を定義しています。デフォルトでは、アプリケーションはプラグインをインストールするときに、このリポジトリの定義を継承します。<p class="paragraph"/><div class="hidden-block">If you do not wish to inherit repository definitions from plugins then you can disable repository inheritance:</div>
プラグインからリポジトリの定義を継承したくない場合、継承を無効にすることができます:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    inherit <span class="java&#45;keyword">false</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">In this case your application will not inherit any repository definitions from plugins and it is down to you to provide appropriate (possibly internal) repository definitions.</div>
上記のケースでは、アプリケーションは、プラグインからいかなるリポジトリの定義も継承しません。適切な（おそらく内部の）リポジトリの定義を自分で提供する必要があります。<p class="paragraph"/><div class="hidden-block">h4. Offline Mode</div>
<h4>オフラインモード</h4><p class="paragraph"/><div class="hidden-block">There are times when it is not desirable to connect to any remote repositories (whilst working on the train for example!). In this case you can use the <code>offline</code> flag to execute Grails commands and Grails will not connect to any remote repositories:</div>
リモートリポジトリに接続したくない時もあります（たとえば電車の中で作業している時など）。その場合、<code>offline</code>フラグを付加してGrailsコマンドを実行すれば、Grailsはリモートリポジトリに接続しません:<p class="paragraph"/><div class="code"><pre>grails &#45;&#45;offline run&#45;app</pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
Note that this command will fail if you do not have the necessary dependencies in your local Ivy cache
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
ローカルIvyキャッシュ内に必要な依存関係が存在しない場合、このコマンドは失敗することに注意してください。
</blockquote><p class="paragraph"/><div class="hidden-block">You can also globally configure offline mode by setting <code>grails.offline.mode</code> to <code>true</code> in <code>~/.grails/settings.groovy</code> or in your project's <code>BuildConfig.groovy</code> file:</div>
また、<code>~/.grails/settings.groovy</code>ファイルか、プロジェクトの<code>BuildConfig.groovy</code>ファイルの<code>grails.offline.mode</code>を<code>true</code>にすることでにオフラインモードを設定することができます:<p class="paragraph"/><div class="code"><pre>grails.offline.mode=<span class="java&#45;keyword">true</span></pre></div><p class="paragraph"/><div class="hidden-block">h4. Local Resolvers</div>
<h4>ローカルリゾルバ</h4><p class="paragraph"/><div class="hidden-block">If you do not wish to use a public Maven repository you can specify a flat file repository:</div>
Mavenの公開リポジトリを使用したくない場合は、フラットファイルリポジトリを指定できます:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    flatDir name:'myRepo', dirs:'/path/to/repo'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="warning">
Aether does not support the <code>flatDir</code> resolver or any custom file system resolvers. The above feature works only if you are using the Ivy dependency manager.
</blockquote>
</div><p class="paragraph"/><blockquote class="warning">
Aetherは<code>flatDir</code>リゾルバを含め、いかなるカスタムファイルシステムリゾルバもサポートしていません。上記の機能は、Ivy依存関係マネージャを使用している場合にのみ動作します。
</blockquote><p class="paragraph"/><div class="hidden-block">To specify your local Maven cache (<code>~/.m2/repository</code>) as a repository:</div>
Mavenのローカルキャッシュ（<code>~/.m2/repository</code>）をリポジトリとして指定する場合は以下のようにします:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    mavenLocal()
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Custom Resolvers</div>
<h4>カスタムリゾルバ</h4><p class="paragraph"/><div class="hidden-block">If you are using the Ivy dependency manager (Aether does not support custom resolvers), then you can explicitly specify an Ivy resolver:</div>
Ivy依存関係マネージャを使用している場合（Aetherはカスタムリゾルバをサポートしていません）は、明示的にIvyリゾルバを指定することができます:<p class="paragraph"/><div class="code"><pre>/&#42;
 &#42; Configure our resolver.
 &#42;/
def libResolver = <span class="java&#45;keyword">new</span> org.apache.ivy.plugins.resolver.URLResolver()
&#91;'libraries', 'builds'&#93;.each &#123;<p class="paragraph"/>    libResolver.addArtifactPattern(
            <span class="java&#45;quote">"http://my.repository/&#36;&#123;it&#125;/"</span> +
            <span class="java&#45;quote">"&#91;organisation&#93;/&#91;module&#93;/&#91;revision&#93;/&#91;type&#93;s/&#91;artifact&#93;.&#91;ext&#93;"</span>)<p class="paragraph"/>    libResolver.addIvyPattern(
            <span class="java&#45;quote">"http://my.repository/&#36;&#123;it&#125;/"</span> +
            <span class="java&#45;quote">"&#91;organisation&#93;/&#91;module&#93;/&#91;revision&#93;/&#91;type&#93;s/&#91;artifact&#93;.&#91;ext&#93;"</span>)
&#125;<p class="paragraph"/>libResolver.name = <span class="java&#45;quote">"my&#45;repository"</span>
libResolver.settings = ivySettings<p class="paragraph"/>resolver libResolver</pre></div><p class="paragraph"/><div class="hidden-block">It's also possible to pull dependencies from a repository using SSH. Ivy comes with a dedicated resolver that you can configure and include in your project like so:</div>
SSHを使用して、リポジトリから依存関係を取得することも可能です。Ivyは、プロジェクト内で設定できる専用のリゾルバを用意しています:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> org.apache.ivy.plugins.resolver.SshResolver
&#8230;
repositories &#123;
    ...<p class="paragraph"/>    def sshResolver = <span class="java&#45;keyword">new</span> SshResolver(
            name: <span class="java&#45;quote">"myRepo"</span>,
            user: <span class="java&#45;quote">"username"</span>,
            host: <span class="java&#45;quote">"dev.x.com"</span>,
            keyFile: <span class="java&#45;keyword">new</span> File(<span class="java&#45;quote">"/home/username/.ssh/id_rsa"</span>),
            m2compatible: <span class="java&#45;keyword">true</span>)<p class="paragraph"/>    sshResolver.addArtifactPattern(
            <span class="java&#45;quote">"/home/grails/repo/&#91;organisation&#93;/&#91;artifact&#93;/"</span> +
            <span class="java&#45;quote">"&#91;revision&#93;/&#91;artifact&#93;&#45;&#91;revision&#93;.&#91;ext&#93;"</span>)<p class="paragraph"/>    sshResolver.latestStrategy =
            <span class="java&#45;keyword">new</span> org.apache.ivy.plugins.latest.LatestTimeStrategy()<p class="paragraph"/>    sshResolver.changingPattern = <span class="java&#45;quote">".&#42;SNAPSHOT"</span><p class="paragraph"/>    sshResolver.setCheckmodified(<span class="java&#45;keyword">true</span>)<p class="paragraph"/>    resolver sshResolver
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Download the <a href="http://www.jcraft.com/jsch/" target="blank">JSch</a> JAR and add it to Grails' classpath to use the SSH resolver. You can do this by passing the path in the Grails command line:</div>
SSHリゾルバを使用するために、<a href="http://www.jcraft.com/jsch/" target="blank">JSch</a> JARをダウンロードしGrailsのクラスパスに追加します。Grailsのコマンドラインでパスを通すことによってこれを実行出来ます:<p class="paragraph"/><div class="code"><pre>grails &#45;classpath /path/to/jsch compile|run&#45;app|etc.</pre></div><p class="paragraph"/><div class="hidden-block">You can also add its path to the <code>CLASSPATH</code> environment variable but be aware this it affects many Java applications. An alternative on Unix is to create an alias for <code>grails -classpath ...</code> so that you don't have to type the extra arguments each time.</div>
また、<code>CLASSPATH</code>環境変数にパスを通すことでも追加できますが、多くのJavaアプリケーションに影響を与えることに注意する必要があります。Unix上で引数を毎回入力する面倒を避けるには、<code>grails -classpath...</code>コマンドのエイリアスを作成するのが良いでしょう。<p class="paragraph"/><div class="hidden-block">h4. Authentication</div>
<h4>認証</h4><p class="paragraph"/><div class="hidden-block">If your repository requires authentication you can configure this using a <code>credentials</code> block:</div>
リポジトリが認証を必要とする場合は、<code>credentials</code>ブロックを使用してこれを設定することができます:<p class="paragraph"/><div class="code"><pre>credentials &#123;
    realm = <span class="java&#45;quote">".."</span>
    host = <span class="java&#45;quote">"localhost"</span>
    username = <span class="java&#45;quote">"myuser"</span>
    password = <span class="java&#45;quote">"mypass"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">This can be placed in your <code>USER_HOME/.grails/settings.groovy</code> file using the <code>grails.project.ivy.authentication</code> setting:</div>
<code>grails.project.ivy.authentication</code>を使用して<code>USER_HOME/.grails/settings.groovy</code>ファイル内に記述することができます:<p class="paragraph"/><div class="code"><pre>grails.project.ivy.authentication = &#123;
    credentials &#123;
        realm = <span class="java&#45;quote">".."</span>
        host = <span class="java&#45;quote">"localhost"</span>
        username = <span class="java&#45;quote">"myuser"</span>
        password = <span class="java&#45;quote">"mypass"</span>
    &#125;
&#125;</pre></div>


<a name="3.7.3 Debugging Resolution"><!-- Legacy link --></a>
<h2 id="debuggingResolution">4.7.3 依存解決デバッグ</h2>
<div class="hidden-block">If you are having trouble getting a dependency to resolve you can enable more verbose debugging from the underlying engine using the <code>log</code> method:</div>
依存関係解決に関して問題を抱えている場合は、<code>log</code>メソッドを使用して内部システムからより詳細なデバッグ情報を得ることができます:<p class="paragraph"/><div class="code"><pre>// log level of the Aether or Ivy resolver, either 'error', 'warn',
// 'info', 'debug' or 'verbose'
log <span class="java&#45;quote">"warn"</span></pre></div><p class="paragraph"/><div class="hidden-block">A common issue is that the checksums for a dependency don't match the associated JAR file, and so Ivy rejects the dependency. This helps ensure that the dependencies are valid. But for a variety of reasons some dependencies simply don't have valid checksums in the repositories, even if they are valid JARs. To get round this, you can disable Ivy's dependency checks like so:</div>
依存関係のチェックサムが関連付けられたJARファイルと一致しない場合、Ivyはその依存関係を拒否しますが、これが問題になることがよくあります。この機能は依存関係の有効性の確認に役立ちます。しかし何らかの原因で、有効なJARファイルであっても、いくつかの依存関係はリポジトリに有効なチェックサムを持っていない場合があります。このような場合でも依存関係を取得するために、次のようにIvyの依存関係チェックを無効にできます:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    &#8230;
    log <span class="java&#45;quote">"warn"</span>
    checksums <span class="java&#45;keyword">false</span>
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">This is a global setting, so only use it if you have to.</div>
これはグローバル設定なので、必要な時だけ使用してください。


<a name="3.7.4 Inherited Dependencies"><!-- Legacy link --></a>
<h2 id="inheritedDependencies">4.7.4 依存の受け継ぎ</h2>
<div class="hidden-block">By default every Grails application inherits several framework dependencies. This is done through the line:</div>
デフォルトで、すべてのGrailsアプリケーションは、いくつかのフレームワークの依存関係を継承します。これは以下の設定を通じて行われます:<p class="paragraph"/><div class="code"><pre>inherits <span class="java&#45;quote">"global"</span></pre></div><p class="paragraph"/><div class="hidden-block">Inside the <code>BuildConfig.groovy</code> file. To exclude specific inherited dependencies you use the <code>excludes</code> method:</div>
上記は、<code>BuildConfig.groovy</code>ファイル内に記載します。特定の依存関係を除外するには、<code>excludes</code>メソッドを使用します:<p class="paragraph"/><div class="code"><pre>inherits(<span class="java&#45;quote">"global"</span>) &#123;
    excludes <span class="java&#45;quote">"oscache"</span>, <span class="java&#45;quote">"ehcache"</span>
&#125;</pre></div>


<a name="3.7.5 Providing Default Dependencies"><!-- Legacy link --></a>
<h2 id="providingDefaultDependencies">4.7.5 基本依存管理の提供</h2>
<div class="hidden-block">Most Grails applications have runtime dependencies on several jar files that are provided by the Grails framework.  These include libraries like Spring, Sitemesh, Hibernate etc.  When a war file is created, all of these dependencies will be included in it.  But, an application may choose to exclude these jar files from the war.  This is useful when the jar files will be provided by the container, as would normally be the case if multiple Grails applications are deployed to the same container.</div>
ほとんどのGrailsアプリケーションは、Grailsフレームワークによって提供されるいくつかのjarファイルに対し実行時の依存関係を持っています。これらにはSpring、Sitemesh、Hibernateなどのフレームワークが含まれます。WARファイルが作成される際に、これらすべての依存関係がWARファイルに含まれます。しかし、アプリケーションはWARファイルからこれらのjarファイルを除外することもできます。通常よくあるように、複数のGrailsアプリケーションが同じコンテナにデプロイされており、共通のjarファイルをコンテナによって提供するといった場合に便利な機能です。<p class="paragraph"/><div class="hidden-block">The dependency resolution DSL provides a mechanism to express that all of the default dependencies will be provided by the container. This is done by invoking the <code>defaultDependenciesProvided</code> method and passing <code>true</code> as an argument:</div>
依存関係解決DSLクエリー言語は、デフォルトのすべての依存関係がコンテナによって提供されることを表現するためのメカニズムを提供します。これは、<code>defaultDependenciesProvided</code>メソッドに<code>true</code>を引数として渡して呼び出すことで実行されます:<p class="paragraph"/><div class="hidden-block">
<div class="code"><pre>grails.project.dependency.resolution = &#123;<p class="paragraph"/>    defaultDependenciesProvided <span class="java&#45;keyword">true</span> // all of the <span class="java&#45;keyword">default</span> dependencies will
                                     // be <span class="java&#45;quote">"provided"</span> by the container<p class="paragraph"/>    inherits <span class="java&#45;quote">"global"</span> // inherit Grails' <span class="java&#45;keyword">default</span> dependencies<p class="paragraph"/>    repositories &#123;
        grailsHome()
        &#8230;
    &#125;
    dependencies &#123;
        &#8230;
    &#125;
&#125;</pre></div>
</div><p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;<p class="paragraph"/>    defaultDependenciesProvided <span class="java&#45;keyword">true</span> // 全てのデフォルトの依存関係は
                                     // コンテナによって提供される<p class="paragraph"/>    inherits <span class="java&#45;quote">"global"</span> // Grailsのデフォルト依存関係を継承する<p class="paragraph"/>    repositories &#123;
        grailsHome()
        &#8230;
    &#125;
    dependencies &#123;
        &#8230;
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
<code>defaultDependenciesProvided</code> must come before <code>inherits</code>, otherwise the Grails dependencies will be included in the war.
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
<code>defaultDependenciesProvided</code>は、<code>inherits</code>より前に記述されている必要があり、そうしなければGrailsの依存関係はWARファイルに含まれます。
</blockquote>


<a name="3.7.11 Changing/Snapshot Dependencies"><!-- Legacy link --></a>
<h2 id="changingDependencies">4.7.6 スナップショットと他の変化する依存関係</h2>
<div class="hidden-block">h4. Configuration Changing dependencies</div>
<h4>変化する依存関係の設定</h4><p class="paragraph"/><div class="hidden-block">Typically, dependencies are constant. That is, for a given combination of <code>group</code>, <code>name</code> and <code>version</code> the jar (or plugin) that it refers to will never change. The Grails dependency management system uses this fact to cache dependencies in order to avoid having to download them from the source repository each time. Sometimes this is not desirable. For example, many developers use the convention of a  <em class="italic">snapshot</em>  (i.e. a dependency with a version number ending in “-SNAPSHOT”) that can change from time to time while still retaining the same version number. We call this a "changing dependency".</div>
基本的に、依存関係は不変です。ここでの不変とは、ある特定の<code>グループ</code>、<code>名前</code>、<code>バージョン</code>の組み合わせが参照するjar（もしくはプラグイン）は変化することはない、ということです。これによりGrailsの依存関係管理システムは、ソースリポジトリから毎回ダウンロードすることを回避するために、依存関係をキャッシュできます。時に、この仕様には不都合が生じます。例えば、多くの開発者は慣習的にスナップショット（つまり、バージョン番号が”-SNAPSHOT”で終わる依存関係）を使っています。このスナップショットは同一のバージョン番号を保持しつつ、変更される可能性があります。このことは”変化する依存関係”と呼ばれています。<p class="paragraph"/><div class="hidden-block">Whenever you have a changing dependency, Grails will always check the remote repository for a new version. More specifically, when a changing dependency is encountered during dependency resolution its last modified timestamp in the local cache is compared against the last modified timestamp in the dependency repositories. If the version on the remote server is deemed to be newer than the version in the local cache, the new version will be downloaded and used.</div>
変化する依存関係を持っている場合は必ず、Grailsは新しいバージョンのリモートリポジトリをチェックします。具体的には、依存関係の解決中に変化する依存関係に遭遇した場合、ローカルキャッシュの最終更新日時と依存関係のリポジトリの最終更新日時と比較します。リモートサーバ上のバージョンがローカルキャッシュ内のバージョンよりも新しい場合は、新しいバージョンがダウンロードされ使用されます。<p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
Be sure to read the next section on “Dependency Resolution Caching” in addition to this one as it affects changing dependencies.
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
変化する依存関係に作用する、依存関係解決キャッシングについて、次のセクションを必ずお読みください。
</blockquote><p class="paragraph"/><div class="hidden-block">All dependencies (jars and plugins) with a version number ending in <code>-SNAPSHOT</code> are <strong class="bold">implicitly</strong> considered to be changing by Grails. You can also explicitly specify that a dependency is changing by setting the changing flag in the dependency DSL (This is only required for Ivy, Aether does not support the 'changing' flag and treats dependencies that end with -SNAPSHOT as changing):</div>
Grailsは<code>暗黙的に</code>バージョン番号が<code>-SNAPSHOT</code>で終わるすべての依存関係（jarファイルもしくはプラグイン）を、変化する依存関係として扱います。また、明示的に依存DSLクエリー言語に変更フラグを設定することでも、変化する依存関係として扱う事ができます。（このDSLクエリー言語はIvyにのみ必要です。Aetherは'changing'フラグをサポートしておらず、-SNAPSHOTで終わる場合は変化する依存関係として扱います）<p class="paragraph"/><div class="code"><pre>runtime ('org.my:lib:1.2.3') &#123;
    changing = <span class="java&#45;keyword">true</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<h4>Aether and SNAPSHOT dependencies</h4>
</div>
<h4>AetherとSNAPSHOTの依存関係</h4><p class="paragraph"/><div class="hidden-block">
The semantics for handling snapshots when using Aether in Grails are the same as those when using the Maven build tool. The default snapshot check policy is to check once a day for a new version of the dependency. This means that if a new snapshot is published during the day to a remote repository you may not see that change unless you manually clear out your local snapshot.
</div>
Grails内でAetherを使用した場合、スナップショットを処理するためのセマンティクスは、Mavenを使用した場合と同じです。
デフォルトのスナップショットのチェックポリシーでは、1日に1回、依存関係の新しいバージョンをチェックします。
これはその日リモートリポジトリに公開された新たなスナップショットが、手動でロカールリポジトリのスナップショットをクリアしない限り、変更を検知できない場合があるということです。<p class="paragraph"/><div class="hidden-block">
If you wish to change the snapshot update policy you can do so by configuring an <code>updatePolicy</code> for the repository where the snapshot was resolved from, for example:
</div>
もし、スナップショットのアップデートポリシーを変更したい場合は、スナップショットの依存を解決するリポジトリで<code>updatePolicy</code>を設定します。
例えば以下のようにします:<p class="paragraph"/><div class="code"><pre>repositories &#123;
    mavenCentral &#123;
        updatePolicy <span class="java&#45;quote">"interval:1"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
The above example configures an update policy that checks once a minute for changes. Note that that an <code>updatePolicy</code> like the above will seriously impact performance of dependency resolution. The possibly configuration values for <code>updatePolicy</code> are as follows:
</div>
上記の例では、1分に1回チェックをするアップデートポリシーを設定しています。
上記の<code>updatePolicy</code>のように、この設定は依存関係解決のパフォーマンスに影響を与えることに注意してください。
<code>updatePolicy</code>に設定が可能な値は以下のとおりです:<p class="paragraph"/><div class="hidden-block">
<ul class="star">
<li><code>never</code> - Never check for new snapshots</li>
<li><code>always</code> - Always check for new snapshots</li>
<li><code>daily</code> - Check once a day for new snapshots (the default)</li>
<li><code>interval:x</code> - Check once every x minutes for new snapshots</li>
</ul><p class="paragraph"/></div>
<ul class="star">
<li><code>never</code> - 新しいスナップショットをチェックしない</li>
<li><code>always</code> - 常に新しいスナップショットをチェックする</li>
<li><code>daily</code> - 1日に1回新しいスナップショットをチェックする (デフォルト)</li>
<li><code>interval:x</code> - x分ごとに1回新しいスナップショットをチェックする</li>
</ul><p class="paragraph"/><div class="hidden-block">h4. Ivy and Changing dependencies</div>
<h4>Ivyと変化する依存関係</h4><p class="paragraph"/><div class="hidden-block">For those used to Maven snapshot handling, if you use Aether dependency management you can expect the same semantics as Maven. If you choose to use Ivy there is a caveat to the support for changing dependencies that you should be aware of. Ivy will stop looking for newer versions of a dependency once it finds a remote repository that has the dependency.</div>
Mavenのスナップショットの処理に使用されているものについては、Aetherの依存関係管理を使用する場合は、Mavenと同じセマンティクスを期待できます。Ivyを選択した場合は、変化する依存関係のサポートに対する注意があります。Ivyは依存関係を持つリモートリポジトリが見つかった時点で、新しいバージョンの依存関係の検索を終了します。<p class="paragraph"/><div class="hidden-block">Consider the following setup:</div>
以下の設定を考えてみましょう:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    repositories &#123;
        mavenLocal()
        mavenRepo <span class="java&#45;quote">"http://my.org/repo"</span>
    &#125;
    dependencies &#123;
        compile <span class="java&#45;quote">"myorg:mylib:1.0&#45;SNAPSHOT"</span>
    &#125;</pre></div><p class="paragraph"/><div class="hidden-block">In this example we are using the local maven repository and a remote network maven repository. Assuming that the local OI dependency and the local Maven cache do not contain the dependency but the remote repository does, when we perform dependency resolution the following actions will occur:</div>
この例では、MavenのローカルリポジトリとMavenのリモートネットワークリポジトリを使用しています。ローカルにあるGrailsの依存関係とMavenのキャッシュには該当する依存関係が含まれていませんが、リモートリポジトリには含まれているとします。この状況で依存関係を解決する場合は、次のように動作します。<p class="paragraph"/><div class="hidden-block">* maven local repository is searched, dependency not found</div>
<ul class="star">
<li>Mavenのローカルリポジトリが検索されますが、依存関係は見つかりません。</li>
</ul><p class="paragraph"/><div class="hidden-block">* maven network repository is searched, dependency is downloaded to the cache and used</div>
<ul class="star">
<li>Mavenのネットワークリポジトリが検索され、依存関係をキャッシュへダウンロードして使用します。</li>
</ul><p class="paragraph"/><div class="hidden-block">Note that the repositories are checked in the order they are defined in the <code>BuildConfig.groovy</code> file. </div>
リポジトリは<code>BuildConfig.groovy</code>のファイルに定義されている順にチェックされることに注意してください。<p class="paragraph"/><div class="hidden-block">If we perform dependency resolution again without the dependency changing on the remote server, the following will happen:</div>
リモートサーバー上の依存関係が変化していない状況で、再び依存関係解決を行う場合、次の処理が実行されます。<p class="paragraph"/><div class="hidden-block">* maven local repository is searched, dependency not found</div>
<ul class="star">
<li>Mavenのローカルリポジトリが検索されますが、依存関係は見つかりません。</li>
</ul><p class="paragraph"/><div class="hidden-block">* maven network repository is searched, dependency is found to be the same “age” as the version in the cache so will not be updated (i.e. downloaded)</div>
<ul class="star">
<li>Mavenのネットワークリポジトリが検索され依存関係が見つかりますが、キャッシュ内のバージョンと同じ最終更新日時のため更新（すなわちダウンロード）はされません。</li>
</ul><p class="paragraph"/><div class="hidden-block">Later on, a new version of <code>mylib 1.0-SNAPSHOT</code> is published changing the version on the server. The next time we perform dependency resolution, the following will happen:</div>
その後、<code>mylib 1.0-SNAPSHOT</code>の新しいバージョンが公開され、サーバ上のファイルが更新されたとします。この状況で依存関係の解決を実行した場合、以下の処理が行われます。<p class="paragraph"/><div class="hidden-block">* maven local repository is searched, dependency not found</div>
<ul class="star">
<li>Mavenのローカルリポジトリが検索されますが、依存関係は見つかりません。</li>
</ul><p class="paragraph"/><div class="hidden-block">* maven network repository is searched, dependency is found to newer than version in the cache so will be updated (i.e. downloaded to the cache)</div>
<ul class="star">
<li>Mavenのネットワークリポジトリが検索され、キャッシュ内のバージョンよりも新しい依存関係が見つかり、更新（つまり、キャッシュにダウンロード）されます。</li>
</ul><p class="paragraph"/><div class="hidden-block">So far everything is working well.</div>
ここまで、すべてが正常に機能しています。<p class="paragraph"/><div class="hidden-block">Now we want to test some local changes to the <code>mylib</code> library. To do this we build it locally and install it to the local Maven cache (how doesn't particularly matter). The next time we perform a dependency resolution, the following will occur:</div>
ここで、<code>mylib</code>ライブラリのローカル上での変更をテストしたい場合を考えてみます。これを行うには、ライブラリをローカル上でビルドし、Mavenのローカルキャッシュにインストールします（方法は特に重要ではありません）。この状況で、依存関係の解決を実行した場合、以下のようになります。<p class="paragraph"/><div class="hidden-block">* maven local repository is searched, dependency is found to newer than version in the cache so will be updated (i.e. downloaded to the cache)</div>
Mavenのローカルリポジトリが検索され、キャッシュ内のバージョンよりも新しい依存関係が見つかるため、更新（つまり、キャッシュにダウンロード）されます。
<div class="hidden-block">* maven network repository is NOT searched as we've already found the dependency</div>
すでに依存関係を発見したため、Mavenのネットワークリポジトリは検索されません。<p class="paragraph"/><div class="hidden-block">This is what we wanted to occur. </div>
これは、期待通りの結果です。<p class="paragraph"/><div class="hidden-block">Later on, a new version of <code>mylib 1.0-SNAPSHOT</code> is published changing the version on the server. The next time we perform dependency resolution, the following will happen:</div>
その後、<code>mylib 1.0-SNAPSHOT</code>の新しいバージョンが公開され、サーバ上のファイルが更新されたとします。この状況で依存関係の解決を実行した場合、以下の処理が行われます。<p class="paragraph"/><div class="hidden-block">* maven local repository is searched, dependency is found to be the same “age” as the version in the cache so will not be updated (i.e. downloaded)</div>
<ul class="star">
<li>Mavenのローカルリポジトリが検索され、キャッシュ内バージョンと同じ”年齢”の依存関係が見つかりますが、更新（すなわちダウンロード）はされません。</li>
</ul><p class="paragraph"/><div class="hidden-block">* maven network repository is NOT searched as we've already found the dependency</div>
<ul class="star">
<li>すでに依存関係を発見したため、Mavenのネットワークリポジトリは検索されません。</li>
</ul><p class="paragraph"/><div class="hidden-block">This is likely to not be the desired outcome. We are now out of sync with the latest published snapshot and will continue to keep using the version from the local maven repository.</div>
これは望ましい結果ではない可能性があります。最新の公開された（ネットワークリポジトリの）スナップショットと同期をとらず、Mavenのローカルリポジトリのバージョンを使用し続けます。<p class="paragraph"/><div class="hidden-block">The rule to remember is this: when resolving a dependency, Ivy will stop searching as soon as it finds a repository that has the dependency at the specified version number. It will <strong class="bold">not</strong> continue searching all repositories trying to find a more recently modified instance.</div>
覚えておくべきルール:依存関係を解決するときに、Grailsはできるだけ早く、バージョン番号の指定された依存関係を持つリポジトリを見つけ、検索を終了します。より最新のインスタンスを検索するためにすべてのリポジトリを検索し続けることは<code>しません</code>。<p class="paragraph"/><div class="hidden-block">To remedy this situation (i.e. build against the  <em class="italic">newer</em>  version of <code>mylib 1.0-SNAPSHOT</code> in the remote repository), you can either:</div>
この状況を改善するために（すなわちリモートリポジトリ内の、より新しいバージョンの<code>mylib 1.0-SNAPSHOT</code>をビルドするために）、次のいずれかを実行できます。<p class="paragraph"/><div class="hidden-block">* Delete the version from the local maven repository, or</div>
<ul class="star">
<li>Mavenのローカルリポジトリからバージョンを削除する</li>
</ul><p class="paragraph"/><div class="hidden-block">* Reorder the repositories in the <code>BuildConfig.groovy</code> file</div>
<ul class="star">
<li><code>BuildConfig.groovy</code>ファイル内のリポジトリの順序を変更する</li>
</ul><p class="paragraph"/><div class="hidden-block">Where possible, prefer deleting the version from the local maven repository. In general, when you have finished building against a locally built SNAPSHOT always try to clear it from the local maven repository.</div>
可能であれば、Mavenのローカルリポジトリからバージョンを削除することが望ましいでしょう。通常は、ローカルスナップショットのビルドが終了したら、常にMavenのローカルリポジトリからクリアしましょう。<p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
This changing dependency behaviour is an unmodifiable characteristic of the underlying dependency management system Apache Ivy. It is currently not possible to have Ivy search all repositories to look for newer versions (in terms of modification date) of the same dependency (i.e. the same combination of <code>group</code>, <code>name</code> and <code>version</code>). If you want this behavior consider switching to Aether as the dependency manager.
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
この変化する依存関係の挙動は、Grailsの依存関係管理システムの基礎となっているApache Ivyの変更不可能な特性です。現在のところIvyは、すべてのリポジトリを検索し、同じ依存関係（すなわち等しい<code>グループ</code>、<code>名前</code>、<code>バージョン</code>の組み合わせ）の中から（修正日付の面で）より新しいバージョンのものを探すことはできません。
</blockquote>


<a name="3.7.6 Dependency Reports"><!-- Legacy link --></a>
<h2 id="dependencyReports">4.7.7 依存管理レポート</h2>
<div class="hidden-block">As mentioned in the previous section a Grails application consists of dependencies inherited from the framework, the plugins installed and the application dependencies itself.</div>
以前の節で述べたように、Grailsアプリケーションの依存関係は、フレームワークから継承した依存関係、インストールしたプラグインの依存関係、またアプリケーション自身で設定した依存関係で構成されます。<p class="paragraph"/><div class="hidden-block">To obtain a report of an application's dependencies you can run the <a href="../ref/Command Line/dependency-report.html" class="commandLine">dependency-report</a> command:</div>
アプリケーションの依存関係のレポートを取得するには、<a href="../ref/Command Line/dependency-report.html" class="commandLine">dependency-report</a>コマンドを実行します:<p class="paragraph"/><div class="code"><pre>grails dependency&#45;report</pre></div><p class="paragraph"/><div class="hidden-block">By default this will generate reports in the <code>target/dependency-report</code> directory. You can specify which configuration (scope) you want a report for by passing an argument containing the configuration name:</div>
デフォルトでは、<code>target/dependency-report</code>ディレクトリにレポートが生成されます。設定名を引数に渡すことで、レポートを作成したい設定（スコープ）を指定することもできます:<p class="paragraph"/><div class="code"><pre>grails dependency&#45;report runtime</pre></div><p class="paragraph"/><div class="hidden-block">As of Grails 2.3 the <code>dependency-report</code> command will also output to the console a graph of the dependencies of an application. Example output it shown below:</div>
Grails2.3では、<code>dependency-report</code>コマンドはアプリケーションの依存関係のグラフをコンソールへ出力します。出力例を以下に示します:<p class="paragraph"/><div class="code"><pre>compile &#45; Dependencies placed on the classpath <span class="java&#45;keyword">for</span> compilation (total: 73)
+&#45;&#45;&#45; org.codehaus.groovy:groovy&#45;all:2.0.6
+&#45;&#45;&#45; org.grails:grails&#45;plugin&#45;codecs:2.3.0
|    &#45;&#45;&#45; org.grails:grails&#45;web:2.3.0
|         &#45;&#45;&#45; commons&#45;fileupload:commons&#45;fileupload:1.2.2
|         &#45;&#45;&#45; xpp3:xpp3_min:1.1.4c
|         &#45;&#45;&#45; commons&#45;el:commons&#45;el:1.0
|         &#45;&#45;&#45; opensymphony:sitemesh:2.4
|         &#45;&#45;&#45; org.springframework:spring&#45;webmvc:3.1.2.RELEASE
|    &#45;&#45;&#45; commons&#45;codec:commons&#45;codec:1.5
|    &#45;&#45;&#45; org.slf4j:slf4j&#45;api:1.7.2
+&#45;&#45;&#45; org.grails:grails&#45;plugin&#45;controllers:2.3.0
|    &#45;&#45;&#45; commons&#45;beanutils:commons&#45;beanutils:1.8.3
|    &#45;&#45;&#45; org.grails:grails&#45;core:2.3.0
...</pre></div>


<a name="3.7.7 Plugin JAR Dependencies"><!-- Legacy link --></a>
<h2 id="pluginJARDependencies">4.7.8 プラグインJAR依存</h2>
<div class="hidden-block">h4. Specifying Plugin JAR dependencies</div>
<h4>プラグインJARの依存関係を指定する</h4><p class="paragraph"/><div class="hidden-block">The way in which you specify dependencies for a <a href="../guide/single.html#plugins" class="guide">plugin</a> is identical to how you specify dependencies in an application. When a plugin is installed into an application the application automatically inherits the dependencies of the plugin.</div>
<a href="../guide/single.html#plugins" class="guide">plugin</a>の依存関係を指定する方法は、アプリケーションの依存関係を指定する方法と同じです。プラグインがアプリケーションにインストールされている場合、アプリケーションは自動的にプラグインの依存関係を継承します。<p class="paragraph"/><div class="hidden-block">To define a dependency that is resolved for use with the plugin but not  <em class="italic">exported</em>  to the application then you can set the <code>export</code> property of the dependency:</div>
プラグインには必要で、アプリケーションには<code>エクスポートしたくない</code>依存関係を定義するには、<code>export</code>プロパティを使用します:
<div class="code"><pre>compile('org.spockframework:spock&#45;core:0.5&#45;groovy&#45;1.8') &#123;
    export = <span class="java&#45;keyword">false</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">In this case the Spock dependency will be available only to the plugin and not resolved as an application dependency. Alternatively, if you're using the Map syntax:</div>
このケースではSpockの依存関係はプラグインのみが利用できるようになり、アプリケーションの依存関係としては解決されません。また、Mapを使用している場合は以下のようになります:<p class="paragraph"/><div class="code"><pre>compile group: 'org.spockframework', name: 'spock&#45;core',
     version: '0.5&#45;groovy&#45;1.8', export: <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
You can use <code>exported = false</code> instead of <code>export = false</code>, but we recommend the latter because it's consistent with the Map argument.
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
<code>export=false</code>の代わりに<code>exported=false</code>を使用することができますが、Mapの引数と一致しているため前者を推奨します。
</blockquote><p class="paragraph"/><div class="hidden-block">h4. Overriding Plugin JAR Dependencies in Your Application</div>
<h4>独自アプリケーションでプラグインのJAR依存関係をオーバーライドする</h4><p class="paragraph"/><div class="hidden-block">If a plugin is using a JAR which conflicts with another plugin, or an application dependency then you can override how a plugin resolves its dependencies inside an application using exclusions. For example:</div>
プラグインが、他のプラグインまたはアプリケーションの依存関係と競合するJarを利用している場合、除外設定を使用することでプラグイン内部で使用している依存関係を上書きできます。例を以下に示します:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    compile(<span class="java&#45;quote">"&#58;hibernate&#58;&#36;grailsVersion"</span>) &#123;
        excludes <span class="java&#45;quote">"javassist"</span>
    &#125;
&#125;<p class="paragraph"/>dependencies &#123;
    runtime <span class="java&#45;quote">"javassist:javassist:3.4.GA"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">In this case the application explicitly declares a dependency on the "hibernate" plugin and specifies an exclusion using the <code>excludes</code> method, effectively excluding the javassist library as a dependency.</div>
上記の場合、アプリケーションで明示的に"hibernate"プラグインの依存関係を宣言し、<code>excludes</code>メソッドを使用して除外する依存関係を指定することで、Javassistライブラリを依存関係から除外します。


<a name="3.7.8 Maven Integration"><!-- Legacy link --></a>
<h2 id="mavenIntegration">4.7.9 Maven統合</h2>
<div class="hidden-block">When using the Grails Maven plugin with the Maven build tool, Grails' dependency resolution mechanics are disabled as it is assumed that you will manage dependencies with Maven's <code>pom.xml</code> file.</div>
Grails Maven pluginでMavenビルドツールを使用している場合は、Mavanの<code>pom.xml</code>ファイルで依存関係の解決が行なわれると判断し、Grailsでの依存関係解決機能は無効化されます<p class="paragraph"/><div class="hidden-block">However, if you would like to continue using Grails regular commands like <a href="../ref/Command Line/run-app.html" class="commandLine">run-app</a>, <a href="../ref/Command Line/test-app.html" class="commandLine">test-app</a> and so on then you can tell Grails' command line to load dependencies from the Maven <code>pom.xml</code> file instead.</div>
しかし、<a href="../ref/Command Line/run-app.html" class="commandLine">run-app</a>や<a href="../ref/Command Line/test-app.html" class="commandLine">test-app</a>等のGrails標準コマンドを使用し続けたい場合は、代わりにGrailsのコマンドラインにMavenの<code>pom.xml</code>ファイルから依存関係をロードするように教えることができます<p class="paragraph"/><div class="hidden-block">To do so simply add the following line to your <code>BuildConfig.groovy</code>:</div>
これは、<code>BuildConfig.groovy</code>に以下の行を追加するだけで簡単にできます:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    pom <span class="java&#45;keyword">true</span>
    ..
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The line <code>pom true</code> tells Grails to parse Maven's <code>pom.xml</code> and load dependencies from there.</div>
<code>pom true</code>行は、Mavenの<code>pom.xml</code>ファイルの構文解析を行いそこから依存関係をロードする、ということをGrailsに通達します。


<a name="3.7.9 Deploying to a Maven Repository"><!-- Legacy link --></a>
<h2 id="mavendeploy">4.7.10 Mavenリポジトリへのデプロイ</h2>
<div class="hidden-block">If you use Maven to build your Grails project, you can use the standard Maven targets <code>mvn install</code> and <code>mvn deploy</code>.</div>
GrailsプロジェクトのビルドにMavenを使用する場合は、標準のMavenのターゲットである<code>mvn install</code>および<code>mvn deploy</code>を使用できます。
<div class="hidden-block">If not, you can deploy a Grails project or plugin to a Maven repository using the <a href="http://grails.org/plugin/release" target="blank">release</a> plugin.</div>
そうでない場合は、<a href="http://grails.org/plugin/release" target="blank">release</a>プラグインを使用してMavenのリポジトリにGrailsプロジェクトやプラグインをデプロイすることができます。<p class="paragraph"/><div class="hidden-block">The plugin provides the ability to publish Grails projects and plugins to local and remote Maven repositories. There are two key additional targets added by the plugin:</div>
プラグインは、MavenのローカルリポジトリおよびリモートリポジトリにGrailsプロジェクトやプラグインを公開する機能を提供します。プラグインによって追加された2つの重要なターゲットがあります。<p class="paragraph"/><div class="hidden-block"><strong class="bold"> </strong>maven-install* - Installs a Grails project or plugin into your local Maven cache</div>
<ul class="star">
<li><strong class="bold">maven-install</strong> - MavenのローカルキャッシュにGrailsプロジェクトやプラグインをインストールします。</li>
</ul><p class="paragraph"/><div class="hidden-block"><strong class="bold"> </strong>maven-deploy* - Deploys a Grails project or plugin to a remote Maven repository</div>
<ul class="star">
<li><strong class="bold">maven-deploy</strong> - MavenのリモートリポジトリにGrailsプロジェクトやプラグインをデプロイします。</li>
</ul><p class="paragraph"/><div class="hidden-block">By default this plugin will automatically generate a valid <code>pom.xml</code> for you unless a <code>pom.xml</code> is already present in the root of the project, in which case this <code>pom.xml</code> file will be used.</div>
デフォルトでは、このプラグインは自動的に有効な<code>pom.xml</code>を生成します。ただし、<code>pom.xml</code>がすでにプロジェクトルートに存在する場合には、プロジェクトルート上の<code>pom.xml</code>ファイルが使用されます。<p class="paragraph"/><div class="hidden-block">h4. maven-install</div>
<h4>maven-installコマンド</h4><p class="paragraph"/><div class="hidden-block">The <code>maven-install</code> command will install the Grails project or plugin artifact into your local Maven cache:</div>
<code>maven-install</code>コマンドは、MavenのローカルキャッシュにGrailsプロジェクトやプラグインをインストールします:<p class="paragraph"/><div class="code"><pre>grails maven&#45;install</pre></div><p class="paragraph"/><div class="hidden-block">In the case of plugins, the plugin zip file will be installed, whilst for application the application WAR file will be installed.</div>
プラグインの場合はプラグインのzipファイルが、アプリケーションのアプリケーションのWARファイルがインストールされます。<p class="paragraph"/><div class="hidden-block">h4. maven-deploy</div>
<h4>maven-deployコマンド</h4><p class="paragraph"/><div class="hidden-block">The <code>maven-deploy</code> command will deploy a Grails project or plugin into a remote Maven repository:</div>
<code>maven-deploy</code>コマンドは、MavenのリモートリポジトリにGrailsプロジェクトやプラグインをデプロイします:<p class="paragraph"/><div class="code"><pre>grails maven&#45;deploy</pre></div><p class="paragraph"/><div class="hidden-block">It is assumed that you have specified the necessary <code>&#60;distributionManagement&#62;</code> configuration within a <code>pom.xml</code> or that you specify the <code>id</code> of the remote repository to deploy to:</div>
<code>pom.xml</code>ファイル内に必要な<code>&#60;distributionManagement&#62;</code>の設定がされているか、もしくはデプロイするリモートリポジトリの<code>id</code>を指定すること前提としています:<p class="paragraph"/><div class="code"><pre>grails maven&#45;deploy &#45;&#45;repository=myRepo</pre></div><p class="paragraph"/><div class="hidden-block">The <code>repository</code> argument specifies the 'id' for the repository. Configure the details of the repository specified by this 'id' within your <code>grails-app/conf/BuildConfig.groovy</code> file or in your <code>$USER_HOME/.grails/settings.groovy</code> file:</div>
<code>repository</code>引数は、リポジトリの'id'を指定します。この指定した'id'に対するリポジトリの詳細を、<code>grails-app/conf/BuildConfig.groovy</code>ファイルもしくは<code>$USER_HOME/.grails/settings.groovy</code>ファイル内で設定します:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.distribution = &#123;
    localRepository = <span class="java&#45;quote">"/path/to/my/local"</span>
    remoteRepository(id: <span class="java&#45;quote">"myRepo"</span>, url: <span class="java&#45;quote">"http://myserver/path/to/repo"</span>)
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">The syntax for configuring remote repositories matches the syntax from the <a href="http://maven.apache.org/ant-tasks/reference.html#remoteRepository" target="blank">remoteRepository</a> element in the Ant Maven tasks. For example the following XML:</div>
リモートリポジトリを設定するための構文は、MavenのAntタスク内の<a href="http://maven.apache.org/ant-tasks/reference.html#remoteRepository" target="blank">remoteRepository</a>要素の構文と一致します。例えば次のXMLです:<p class="paragraph"/><div class="code"><pre>&#60;remoteRepository id=<span class="java&#45;quote">"myRepo"</span> url=<span class="java&#45;quote">"scp://localhost/www/repository"</span>&#62;
    &#60;authentication username=<span class="java&#45;quote">"..."</span> privateKey=<span class="java&#45;quote">"&#36;&#123;user.home&#125;/.ssh/id_dsa"</span>/&#62;
&#60;/remoteRepository&#62;</pre></div><p class="paragraph"/><div class="hidden-block">Can be expressed as:</div>
以下の様に表すこともできます:<p class="paragraph"/><div class="code"><pre>remoteRepository(id: <span class="java&#45;quote">"myRepo"</span>, url: <span class="java&#45;quote">"scp://localhost/www/repository"</span>) &#123;
    authentication username: <span class="java&#45;quote">"..."</span>, privateKey: <span class="java&#45;quote">"&#36;&#123;userHome&#125;/.ssh/id_dsa"</span>
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">By default the plugin will try to detect the protocol to use from the URL of the repository (ie "http" from "http://.." etc.), however to specify a different protocol you can do:</div>
デフォルトではmaven-publisherプラグインはリポジトリのURLから、使用するプロトコルを検出しようとします（例えば、URLが"http://.."の場合は"http"、等）が、以下のように別のプロトコルを指定することもできます:<p class="paragraph"/><div class="code"><pre>grails maven&#45;deploy &#45;&#45;repository=myRepo &#45;&#45;protocol=webdav</pre></div><p class="paragraph"/><div class="hidden-block">The available protocols are:</div>
利用可能なプロトコルは以下のとおりです:
<ul class="star">
<li>http</li>
<li>scp</li>
<li>scpexe</li>
<li>ftp</li>
<li>webdav</li>
</ul><p class="paragraph"/><div class="hidden-block">h4. Groups, Artifacts and Versions</div>
<h4>グループ、アーティファクト、バージョン</h4><p class="paragraph"/><div class="hidden-block">Maven defines the notion of a 'groupId', 'artifactId' and a 'version'. This plugin pulls this information from the Grails project conventions or plugin descriptor.</div>
Mavenは 'groupId'、'artifactId'、'version'という概念を定義しています。maven-publisherプラグインは、Grailsプロジェクトの規約またはプラグイン識別子からこれらの情報を取得します。<p class="paragraph"/><div class="hidden-block">h5. Projects</div>
<h5>プロジェクト</h5><p class="paragraph"/><div class="hidden-block">For applications this plugin will use the Grails application name and version provided by Grails when generating the <code>pom.xml</code> file. To change the version you can run the <code>set-version</code> command:</div>
アプリケーションでは、このプラグインは<code>pom.xml</code>ファイル生成時にGrailによって提供されるGrailsアプリケーションの名前とバージョンを使用します。バージョンを変更するには、<code>set-version</code>コマンドを実行します:<p class="paragraph"/><div class="code"><pre>grails set&#45;version 0.2</pre></div><p class="paragraph"/><div class="hidden-block">The Maven <code>groupId</code> will be the same as the project name, unless you specify a different one in Config.groovy:</div>
Mavenの<code>groupId</code>は、Config.groovyに別の名前を指定しない限り、プロジェクト名と同じになります:<p class="paragraph"/><div class="code"><pre>grails.project.groupId=<span class="java&#45;quote">"com.mycompany"</span></pre></div><p class="paragraph"/><div class="hidden-block">h5. Plugins</div>
<h5>プラグイン</h5><p class="paragraph"/><div class="hidden-block">With a Grails plugin the <code>groupId</code> and <code>version</code> are taken from the following properties in the <code>GrailsPlugin.groovy</code> descriptor:</div>
Grailsプラグインの<code>groupId</code>と<code>version</code>は、<code>GrailsPlugin.groovy</code>内の以下のプロパティから取得されます:<p class="paragraph"/>
<div class="code"><pre><span class="java&#45;object">String</span> groupId = 'myOrg'
<span class="java&#45;object">String</span> version = '0.1'</pre></div><p class="paragraph"/><div class="hidden-block">The 'artifactId' is taken from the plugin name. For example if you have a plugin called <code>FeedsGrailsPlugin</code> the <code>artifactId</code> will be "feeds". If your plugin does not specify a <code>groupId</code> then this defaults to "org.grails.plugins".</div>
'artifactId'は、プラグイン名から取得されます。たとえば、<code>FeedsGrailsPlugin</code>というプラグインの場合、<code>artifactId</code>は "feeds"になります。プラグインが<code>groupId</code>を指定していない場合、デフォルト設定の"org.grails.plugins"となります。


<a name="3.7.10 Plugin Dependencies"><!-- Legacy link --></a>
<h2 id="pluginDependencies">4.7.11 プラグイン依存管理</h2>
<div class="hidden-block">You can declaratively specify plugins as dependencies via the dependency DSL instead of using the <a href="../ref/Command Line/install-plugin.html" class="commandLine">install-plugin</a> command:</div>
<a href="../ref/Command Line/install-plugin.html" class="commandLine">install-plugin</a>コマンドを使用する代わりに依存関係DSLクエリー言語を用いることで依存するプラグインを指定できます:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    &#8230;
    repositories &#123;
        &#8230;
    &#125;<p class="paragraph"/>    plugins &#123;
        runtime ':hibernate:1.2.1'
    &#125;<p class="paragraph"/>    dependencies &#123;
        &#8230;
    &#125;
    &#8230;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">If you don't specify a group id the default plugin group id of <code>org.grails.plugins</code> is used. </div>
グループIDを指定しない場合、デフォルトのプラグインのグループIDである<code>org.grails.plugins</code>が使用されます。<p class="paragraph"/><div class="hidden-block">h4. Latest Integration</div>
<h4>Latest Integrationラベル</h4><p class="paragraph"/><div class="hidden-block">
<blockquote class="warning">
Only the Ivy dependency manager supports the "latest.integration" version. For Aether you can achieve a similar effect with version ranges.
</blockquote>
</div><p class="paragraph"/><blockquote class="warning">
Ivy依存関係マネージャは"latest.integration"バージョンをサポートしています。Aetherの場合は、バージョンの範囲指定で同様の効果を得ることができます。
</blockquote><p class="paragraph"/><div class="hidden-block">You can specify to use the latest version of a particular plugin by using "latest.integration" as the version number:</div>
バージョン番号として "latest.integration"を使用することで、特定のプラグインの最新バージョンを使用するように指定できます:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime ':hibernate:latest.integration'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Integration vs. Release</div>
<h4>Integrationラベル vs. Releaseラベル</h4><p class="paragraph"/><div class="hidden-block">The "latest.integration" version label will also include resolving snapshot versions. To not include snapshot versions then use the "latest.release" label:</div>
"latest.integration"ラベルはスナップショットのバージョンも含まれます。スナップショットのバージョンが含まれないようにするには、 "latest.release"ラベルを使用します。<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime ':hibernate:latest.release'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">
<blockquote class="note">
The "latest.release" label only works with Maven compatible repositories. If you have a regular SVN-based Grails repository then you should use "latest.integration".
</blockquote>
</div><p class="paragraph"/><blockquote class="note">
"latest.release"ラベルはMavenの互換リポジトリでのみ動作します。通常のSVNベースのGrailsリポジトリの場合は、"latest.integration"を使用する必要があります。
</blockquote><p class="paragraph"/><div class="hidden-block">And of course if you use a Maven repository with an alternative group id you can specify a group id:</div>
もちろん、別のグループIDでMavenのリポジトリを使用する場合は、グループIDを指定することができます:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime 'mycompany:hibernate:latest.integration'
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">h4. Plugin Exclusions</div>
<h4>プラグインの除外</h4><p class="paragraph"/><div class="hidden-block">You can control how plugins transitively resolves both plugin and JAR dependencies using exclusions. For example:</div>
excludesメソッドを使用して、プラグインおよびJARの依存関係を推移的に解決する方法を制御できます。以下に例を示します:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime(':weceem:0.8') &#123;
        excludes <span class="java&#45;quote">"searchable"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">Here we have defined a dependency on the "weceem" plugin which transitively depends on the "searchable" plugin. By using the <code>excludes</code> method you can tell Grails  <em class="italic">not</em>  to transitively install the searchable plugin. You can combine this technique to specify an alternative version of a plugin:</div>
ここでは、推移的に"searchable"プラグインに依存する"weceem"プラグインへの依存関係を定義しました。<code>excludes</code>メソッドを使用することで、Grailsにsearchableプラグインを推移的にインストール_しない_ことを教えることができます。あわせて、プラグインの代替バージョンを指定することもできます:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime(':weceem:0.8') &#123;
        excludes <span class="java&#45;quote">"searchable"</span> // excludes most recent version
    &#125;
    runtime ':searchable:0.5.4' // specifies a fixed searchable version
&#125;</pre></div><p class="paragraph"/><div class="hidden-block">You can also completely disable transitive plugin installs, in which case no transitive dependencies will be resolved:</div>
推移的なプラグインのインストールを完全に無効にすることもでき、その場合、いかなる推移的な依存関係も解決されません:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    runtime(':weceem:0.8') &#123;
        transitive = <span class="java&#45;keyword">false</span>
    &#125;
    runtime ':searchable:0.5.4' // specifies a fixed searchable version
&#125;</pre></div>


<a name="3.7.12 Dependency Resolution Caching"><!-- Legacy link --></a>
<h2 id="dependencyResolutionCaching">4.7.12 依存管理のキャッシュ</h2>
<div class="hidden-block">As a performance optimisation, when using Ivy (this does not apply to Aether), Grails does not resolve dependencies for every command invocation. Even with all the necessary dependencies downloaded and cached, resolution may take a second or two. To minimise this cost, Grails caches the result of dependency resolution (i.e. the location on the local file system of all of the declared dependencies, typically inside the dependency cache) and reuses this result for subsequent commands when it can reasonably expect that nothing has changed.</div>
Ivyを使用している場合（Aetherには適用されません）、パフォーマンスの最適化のために、Grailsはコマンド呼び出しで依存関係解決をしない場合があります。必要なすべての依存関係がダウンロードされ、キャッシュされている場合でも、依存関係解決は1秒から2秒かかることがあります。このコストを最小限に抑えるために、Grailsは依存関係解決の結果をキャッシュし（すなわち、宣言された依存関係のすべてのローカルファイルシステム上の場所、通常は依存キャッシュ内）、後続のコマンドについては、依存関係に変更がないことがある程度期待できる場合は、このキャッシュを再利用します。<p class="paragraph"/><div class="hidden-block">Grails only performs dependency resolution under the following circumstances:</div>
Grailsは、以下の場合にのみ依存関係解決を実行します:<p class="paragraph"/><div class="hidden-block">* The project is clean (i.e. fresh checkout or after <code>grails clean</code>)</div>
<ul class="star">
<li>プロジェクトがクリーンな場合（すなわち、チェックアウト直後または<code>grails clean</code>の実行後）</li>
</ul><p class="paragraph"/><div class="hidden-block">* The <code>BuildConfig.groovy</code> file has changed since the last command was run</div>
<ul class="star">
<li>最後にコマンドが実行された後に、<code>BuildConfig.groovy</code>ファイルが変更された場合</li>
</ul><p class="paragraph"/><div class="hidden-block">* The <code>&#45;&#45;refresh-dependencies</code> command line switch is provided to the command (any command)</div>
<ul class="star">
<li><code>&#45;&#45;refresh-dependencies</code>引数が、何らかのコマンドに与えられる場合</li>
</ul><p class="paragraph"/><div class="hidden-block">* The <code>refresh-dependencies</code> command is the command being executed</div>
<ul class="star">
<li><code>refresh-dependencies</code>コマンドが実行された場合</li>
</ul><p class="paragraph"/><div class="hidden-block">Generally, this strategy works well and you can ignore dependency resolution caching. Every time you change your dependencies (i.e. modify <code>BuildConfig.groovy</code>) Grails will do the right thing and resolve your new dependencies.</div>
一般に、この手法はうまく動作し、依存関係解決のキャッシュを無視することができます。依存関係を変更するたびに（すなわち<code>BuildConfig.groovy</code>を変更するたびに）Grailsは正しく新たに依存関係解決を実行します。<p class="paragraph"/><div class="hidden-block">However, when you have  <em class="italic">changing</em>  or  <em class="italic">dynamic</em>  dependencies you will have to consider dependency resolution caching.</div>
しかし、  <em class="italic">変化する依存関係</em>  または  <em class="italic">動的な依存関係</em>  がある場合は、依存関係解決のキャッシングを考慮する必要があります。<p class="paragraph"/><div class="hidden-block">
{info}
A  <em class="italic">changing</em>  dependency is one whose version number does not change, but its contents do (like a SNAPSHOT). A  <em class="italic">dynamic</em>  dependency is one that is defined as one of many possible options (like a dependency with a version range, or symbolic version number like <code>latest.integration</code>).
{info}
</div><p class="paragraph"/>{info}
 <em class="italic">変化する依存関係</em>  は、バージョン番号が変更されずに、内容が変化するもの（スナップショットなど）です。  <em class="italic">動的な依存関係</em>  は多くの可能なオプションのいずれかとして定義されるものです。（バージョンが範囲指定されている、または<code>latest.integration</code>のように抽象的なバージョン番号を持つ依存関係など）
{info}<p class="paragraph"/><div class="hidden-block">Both  <em class="italic">changing</em>  and  <em class="italic">dynamic</em>  dependencies are influenced by the environment. With caching active, any changes to the environment are effectively ignored. For example, your project may not automatically fetch the very latest version of a dependency when using <code>latest.integration</code>. Or if you declare a <code>SNAPSHOT</code> dependency, you may not automatically get the latest that's available on the server.</div>
変化する依存関係 と 動的な依存関係は共に、リモートリポジトリ等の外部環境に影響されます。キャッシュが有効な場合、これらの環境の変更は事実上無視されます。例えば、<code>latest.integration</code>を使用している場合、プロジェクトは依存関係の最新バージョンを自動的に取得しないでしょう。また、<code>SNAPSHOT</code>の依存関係を宣言した場合、サーバー上で使用可能な最新のものを自動的に取得できない可能性があります。<p class="paragraph"/><div class="hidden-block">To ensure you have the correct version of a  <em class="italic">changing</em>  or  <em class="italic">dynamic</em>  dependency in your project, you can:</div>
プロジェクトの  <em class="italic">変化する依存関係</em>  や  <em class="italic">動的な依存関係</em>  が正しいバージョンであることを確認するために、以下のことができます:<p class="paragraph"/><div class="hidden-block">* clean the project</div>
<ul class="star">
<li>プロジェクトのクリーンアップ</li>
</ul><p class="paragraph"/><div class="hidden-block">* run the <code>refresh-dependencies</code> command</div>
<ul class="star">
<li><code>refresh-dependencies</code>コマンドの実行</li>
</ul><p class="paragraph"/><div class="hidden-block">* run  <em class="italic">any</em>  command with the <code>&#45;&#45;refresh-dependencies</code> switch; or</div>
<ul class="star">
<li><code>任意のコマンド</code>に<code>&#45;&#45;refresh-dependencies</code>を付与して実行</li>
</ul><p class="paragraph"/><div class="hidden-block">* make a change to <code>BuildConfig.groovy</code></div>
<ul class="star">
<li><code>BuildConfig.groovy</code>を変更</li>
</ul><p class="paragraph"/><div class="hidden-block">If you have your CI builds configured to not perform clean builds, it may be worth adding the <code>&#45;&#45;refresh-dependencies</code> switch to the command you use to build your projects.</div>
CIビルドツールがクリーンビルドを実行しないように設定されている場合、プロジェクトのビルドコマンドに<code>&#45;&#45;refresh-dependencies</code>を追加しておくと有効でしょう。



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/upgradingFromPreviousVersionsOfGrails.html">&lt;&lt; <strong>3</strong><span>Grails&#19979;&#20301;&#12496;&#12540;&#12472;&#12519;&#12531;&#12363;&#12425;&#12398;&#26356;&#26032;</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/commandLine.html"><strong>5</strong><span>&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Command%20Line/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/add-proxy.html">add-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/alias.html">alias</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/bootstrap.html">bootstrap</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/bug-report.html">bug-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clean-all.html">clean-all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clean.html">clean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/clear-proxy.html">clear-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/compile.html">compile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/console.html">console</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-app.html">create-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-controller.html">create-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-domain-class.html">create-domain-class</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-filters.html">create-filters</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-hibernate-cfg-xml.html">create-hibernate-cfg-xml</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-integration-test.html">create-integration-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-multi-project-build.html">create-multi-project-build</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-plugin.html">create-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-pom.html">create-pom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-scaffold-controller.html">create-scaffold-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-script.html">create-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-service.html">create-service</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-tag-lib.html">create-tag-lib</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-unit-test.html">create-unit-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/dependency-report.html">dependency-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/doc.html">doc</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-all.html">generate-all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-controller.html">generate-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-views.html">generate-views</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/help.html">help</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/init.html">init</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-dependency.html">install-dependency</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-plugin.html">install-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/install-templates.html">install-templates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/integrate-with.html">integrate-with</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/interactive.html">interactive</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-plugin-updates.html">list-plugin-updates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/list-plugins.html">list-plugins</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/migrate-docs.html">migrate-docs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package-plugin.html">package-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/package.html">package</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/plugin-info.html">plugin-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/refresh-dependencies.html">refresh-dependencies</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/remove-proxy.html">remove-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-app.html">run-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-script.html">run-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/run-war.html">run-war</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/schema-export.html">schema-export</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/set-proxy.html">set-proxy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/set-version.html">set-version</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/shell.html">shell</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stats.html">stats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/stop-app.html">stop-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/test-app.html">test-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/uninstall-plugin.html">uninstall-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/upgrade.html">upgrade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/war.html">war</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/wrapper.html">wrapper</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Constraints</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Constraints/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Constraints/attributes.html">attributes</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/bindable.html">bindable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/blank.html">blank</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/creditCard.html">creditCard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/email.html">email</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/inList.html">inList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/matches.html">matches</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/max.html">max</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/maxSize.html">maxSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/min.html">min</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/minSize.html">minSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/notEqual.html">notEqual</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/nullable.html">nullable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/range.html">range</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/scale.html">scale</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/size.html">size</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/unique.html">unique</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/url.html">url</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/validator.html">validator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Constraints/widget.html">widget</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Controllers</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Controllers/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Controllers/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/afterInterceptor.html">afterInterceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/allowedMethods.html">allowedMethods</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/beforeInterceptor.html">beforeInterceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/bindData.html">bindData</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/chain.html">chain</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/defaultAction.html">defaultAction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/forward.html">forward</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/grailsApplication.html">grailsApplication</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/namespace.html">namespace</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/redirect.html">redirect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/respond.html">respond</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/responseFormats.html">responseFormats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/session.html">session</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withForm.html">withForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Controllers/withFormat.html">withFormat</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Database Mapping</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Database%20Mapping/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoImport.html">autoImport</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/autoTimestamp.html">autoTimestamp</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/batchSize.html">batchSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/cascade.html">cascade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/column.html">column</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/comment.html">comment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/discriminator.html">discriminator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicInsert.html">dynamicInsert</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/dynamicUpdate.html">dynamicUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/fetch.html">fetch</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/id.html">id</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/ignoreNotFound.html">ignoreNotFound</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/indexColumn.html">indexColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/insertable.html">insertable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/joinTable.html">joinTable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/lazy.html">lazy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/order.html">order</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/sort.html">sort</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/table.html">table</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/type.html">type</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/updateable.html">updateable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Database%20Mapping/version.html">version</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain Classes</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Domain%20Classes/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/addTo.html">addTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/attach.html">attach</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/belongsTo.html">belongsTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/clearErrors.html">clearErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/constraints.html">constraints</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/count.html">count</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/countBy.html">countBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/createCriteria.html">createCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/delete.html">delete</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/discard.html">discard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/embedded.html">embedded</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeQuery.html">executeQuery</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/executeUpdate.html">executeUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/exists.html">exists</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/fetchMode.html">fetchMode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllBy.html">findAllBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findAllWhere.html">findAllWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findBy.html">findBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateBy.html">findOrCreateBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrCreateWhere.html">findOrCreateWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveBy.html">findOrSaveBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findOrSaveWhere.html">findOrSaveWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findWhere.html">findWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/first.html">first</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/get.html">get</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getAll.html">getAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getDirtyPropertyNames.html">getDirtyPropertyNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/getPersistentValue.html">getPersistentValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasMany.html">hasMany</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/hasOne.html">hasOne</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/ident.html">ident</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/instanceOf.html">instanceOf</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isAttached.html">isAttached</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/isDirty.html">isDirty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/last.html">last</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/list.html">list</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/listOrderBy.html">listOrderBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/load.html">load</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/lock.html">lock</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapWith.html">mapWith</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mappedBy.html">mappedBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/mapping.html">mapping</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/merge.html">merge</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/namedQueries.html">namedQueries</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/properties.html">properties</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/read.html">read</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/refresh.html">refresh</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/removeFrom.html">removeFrom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/save.html">save</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/transients.html">transients</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/validate.html">validate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/where.html">where</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/whereAny.html">whereAny</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withCriteria.html">withCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withNewSession.html">withNewSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withSession.html">withSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withTransaction.html">withTransaction</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Plug-ins</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Plug-ins/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/URL%20mappings.html">URL mappings</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/codecs.html">codecs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/controllers.html">controllers</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/core.html">core</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/dataSource.html">dataSource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/domainClasses.html">domainClasses</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/filters.html">filters</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/hibernate.html">hibernate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/i18n.html">i18n</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/logging.html">logging</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/scaffolding.html">scaffolding</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/services.html">services</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/servlets.html">servlets</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Plug-ins/web%20flow.html">web flow</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Services</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Services/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Services/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Services/transactional.html">transactional</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Servlet API</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Servlet%20API/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tag Libraries</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/pageScope.html">pageScope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tag%20Libraries/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Tags/actionSubmit.html">actionSubmit</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/actionSubmitImage.html">actionSubmitImage</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/applyLayout.html">applyLayout</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/checkBox.html">checkBox</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/collect.html">collect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/cookie.html">cookie</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/country.html">country</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/countrySelect.html">countrySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/createLink.html">createLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/createLinkTo.html">createLinkTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/currencySelect.html">currencySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/datePicker.html">datePicker</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/each.html">each</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/eachError.html">eachError</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/else.html">else</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/elseif.html">elseif</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/external.html">external</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/field.html">field</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/fieldValue.html">fieldValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/form.html">form</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formRemote.html">formRemote</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatBoolean.html">formatBoolean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatDate.html">formatDate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/formatNumber.html">formatNumber</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/grep.html">grep</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/header.html">header</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/hiddenField.html">hiddenField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/if.html">if</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/img.html">img</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/include.html">include</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/isAvailable.html">isAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/isNotAvailable.html">isNotAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/javascript.html">javascript</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/join.html">join</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutBody.html">layoutBody</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutHead.html">layoutHead</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutTitle.html">layoutTitle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/link.html">link</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/localeSelect.html">localeSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/message.html">message</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/meta.html">meta</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/pageProperty.html">pageProperty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/paginate.html">paginate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/passwordField.html">passwordField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/radio.html">radio</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/radioGroup.html">radioGroup</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteField.html">remoteField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteFunction.html">remoteFunction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/remoteLink.html">remoteLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/renderErrors.html">renderErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/select.html">select</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/set.html">set</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/setProvider.html">setProvider</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/sortableColumn.html">sortableColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/submitButton.html">submitButton</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/submitToRemote.html">submitToRemote</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/textArea.html">textArea</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/textField.html">textField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/timeZoneSelect.html">timeZoneSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/unless.html">unless</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/uploadForm.html">uploadForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/while.html">while</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically. <br/>[注意]このGrails日本語ドキュメントは、有志による翻訳というよりは意訳なドキュメントです。 Grails日本語ドキュメントに関するお問い合わせ、ドキュメントプロジェクトに参加したい等の問い合わせは。 twitter: @tyama 迄<br/>
    Sponsored by <a href="http://springsource.com">SpringSource</a>
</div>

<script type="text/javascript" src="../../js/docs.js"></script>

</body>
</html>
